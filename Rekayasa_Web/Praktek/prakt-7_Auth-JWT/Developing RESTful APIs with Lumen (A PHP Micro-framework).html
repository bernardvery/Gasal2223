<!DOCTYPE html>
<!-- saved from url=(0079)https://auth0.com/blog/developing-restful-apis-with-lumen/#Lumen-API-Validation -->
<html lang="en" crosspilot=""><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/js" nonce=""></script><script async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/analytics.js"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/munchkin.js"></script><script async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/call-tracking_7.js" nonce=""></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/js(1)"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/analytics.js"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/tracking.js"></script><script async="" id="demandbase_js_lib" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/006ea2cb.min.js"></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/292592621735462" async=""></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/417778941754366" async=""></script><script async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/fbevents.js"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/6si.min.js"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/heap-1279799279.js"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/pixel.js"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/uwt.js"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/f.txt"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/loader.js"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/insight.min.js"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/8p7kswfscb5n.js"></script><script async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/gtm.js"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/6si.min.js"></script><script id="twitter-wjs" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/widgets.js"></script><script>
    window[Symbol.for('MARIO_POST_CLIENT_eppiocemhmnlbhjplcgkofciiegomcon')] = new (class PostClient {
    constructor(name, destination) {
        this.name = name;
        this.destination = destination;
        this.serverListeners = {};
        this.bgRequestsListeners = {};
        this.bgEventsListeners = {};
        window.addEventListener('message', (message) => {
            const data = message.data;
            const isNotForMe = !(data.destination && data.destination === this.name);
            const hasNotEventProp = !data.event;
            if (isNotForMe || hasNotEventProp) {
                return;
            }
            if (data.event === 'MARIO_POST_SERVER__BG_RESPONSE') {
                const response = data.args;
                if (this.hasBgRequestListener(response.requestId)) {
                    try {
                        this.bgRequestsListeners[response.requestId](response.response);
                    }
                    catch (e) {
                        console.log(e);
                    }
                    delete this.bgRequestsListeners[response.requestId];
                }
            }
            else if (data.event === 'MARIO_POST_SERVER__BG_EVENT') {
                const response = data.args;
                if (this.hasBgEventListener(response.event)) {
                    try {
                        this.bgEventsListeners[data.id](response.payload);
                    }
                    catch (e) {
                        console.log(e);
                    }
                }
            }
            else if (this.hasServerListener(data.event)) {
                try {
                    this.serverListeners[data.event](data.args);
                }
                catch (e) {
                    console.log(e);
                }
            }
            else {
                console.log(`event not handled: ${data.event}`);
            }
        });
    }
    emitToServer(event, args) {
        const id = this.generateUIID();
        const message = {
            args,
            destination: this.destination,
            event,
            id,
        };
        window.postMessage(message, location.origin);
        return id;
    }
    emitToBg(bgEventName, args) {
        const requestId = this.generateUIID();
        const request = { bgEventName, requestId, args };
        this.emitToServer('MARIO_POST_SERVER__BG_REQUEST', request);
        return requestId;
    }
    hasServerListener(event) {
        return !!this.serverListeners[event];
    }
    hasBgRequestListener(requestId) {
        return !!this.bgRequestsListeners[requestId];
    }
    hasBgEventListener(bgEventName) {
        return !!this.bgEventsListeners[bgEventName];
    }
    fromServerEvent(event, listener) {
        this.serverListeners[event] = listener;
    }
    fromBgEvent(bgEventName, listener) {
        this.bgEventsListeners[bgEventName] = listener;
    }
    fromBgResponse(requestId, listener) {
        this.bgRequestsListeners[requestId] = listener;
    }
    generateUIID() {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
            const r = Math.random() * 16 | 0, v = c === 'x' ? r : (r & 0x3 | 0x8);
            return v.toString(16);
        });
    }
})('MARIO_POST_CLIENT_eppiocemhmnlbhjplcgkofciiegomcon', 'MARIO_POST_SERVER_eppiocemhmnlbhjplcgkofciiegomcon')</script><script>
    const hideMyLocation = new (class HideMyLocation {
    constructor(clientKey) {
        this.clientKey = clientKey;
        this.watchIDs = {};
        this.client = window[Symbol.for(clientKey)];
        const getCurrentPosition = navigator.geolocation.getCurrentPosition;
        const watchPosition = navigator.geolocation.watchPosition;
        const clearWatch = navigator.geolocation.clearWatch;
        const self = this;
        navigator.geolocation.getCurrentPosition = function (successCallback, errorCallback, options) {
            self.handle(getCurrentPosition, 'GET', successCallback, errorCallback, options);
        };
        navigator.geolocation.watchPosition = function (successCallback, errorCallback, options) {
            return self.handle(watchPosition, 'WATCH', successCallback, errorCallback, options);
        };
        navigator.geolocation.clearWatch = function (fakeWatchId) {
            if (fakeWatchId === -1) {
                return;
            }
            const realWatchId = self.watchIDs[fakeWatchId];
            delete self.watchIDs[fakeWatchId];
            return clearWatch.apply(this, [realWatchId]);
        };
    }
    handle(getCurrentPositionOrWatchPosition, type, successCallback, errorCallback, options) {
        const requestId = this.client.emitToBg('HIDE_MY_LOCATION__GET_LOCATION');
        let fakeWatchId = this.getRandomInt(0, 100000);
        this.client.fromBgResponse(requestId, (response) => {
            if (response.enabled) {
                if (response.status === 'SUCCESS') {
                    const position = this.map(response);
                    successCallback(position);
                }
                else {
                    const error = this.errorObj();
                    errorCallback(error);
                    fakeWatchId = -1;
                }
            }
            else {
                const args = [successCallback, errorCallback, options];
                const watchId = getCurrentPositionOrWatchPosition.apply(navigator.geolocation, args);
                if (type === 'WATCH') {
                    this.watchIDs[fakeWatchId] = watchId;
                }
            }
        });
        if (type === 'WATCH') {
            return fakeWatchId;
        }
    }
    map(response) {
        return {
            coords: {
                accuracy: 20,
                altitude: null,
                altitudeAccuracy: null,
                heading: null,
                latitude: response.latitude,
                longitude: response.longitude,
                speed: null,
            },
            timestamp: Date.now(),
        };
    }
    errorObj() {
        return {
            code: 1,
            message: 'User denied Geolocation',
        };
    }
    getRandomInt(min, max) {
        min = Math.ceil(min);
        max = Math.floor(max);
        return Math.floor(Math.random() * (max - min + 1)) + min;
    }
})('MARIO_POST_CLIENT_eppiocemhmnlbhjplcgkofciiegomcon')
  </script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><link rel="canonical" href="https://auth0.com/blog/developing-restful-apis-with-lumen/"><title>Developing RESTful APIs with Lumen (A PHP Micro-framework)</title><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0"><meta name="description" content="Lumen is a PHP micro-framework built to deliver microservices and blazing fast APIs. The creator of Laravel crafted a micro-framework off the giant full-stack web framework, Laravel. Learn how to build and secure RESTful APIs with Lumen"><meta property="fb:app_id" content="534074790006350"><meta property="og:type" content="article"><meta property="og:title" content="Developing RESTful APIs with Lumen (A PHP Micro-framework)"><meta property="og:site_name" content="Auth0 - Blog"><meta property="og:description" content="Lumen is a PHP micro-framework built to deliver microservices and blazing fast APIs. The creator of Laravel crafted a micro-framework off..."><meta property="og:image" content="https://images.ctfassets.net/23aumh6u8s0i/7gu8qd0qzmuxWWjYLhZpqo/2bb8a206fe4a86af9414545b5c25c368/laravel"><meta property="og:url" content="https://auth0.com/blog/developing-restful-apis-with-lumen/"><meta name="twitter:site" content="@auth0"><meta name="twitter:creator" content="@auth0"><meta name="twitter:title" content="Developing RESTful APIs with Lumen (A PHP Micro-framework)"><meta name="twitter:description" content="Lumen is a PHP micro-framework built to deliver microservices and blazing fast APIs. The creator of Laravel crafted a micro-framework off the giant full-stack web framework, Laravel. Learn how to build and secure RESTful APIs with Lumen"><meta name="twitter:url" content="https://auth0.com/blog/developing-restful-apis-with-lumen/"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://images.ctfassets.net/23aumh6u8s0i/7gu8qd0qzmuxWWjYLhZpqo/2bb8a206fe4a86af9414545b5c25c368/laravel"><meta name="twitter:image:height" content="512"><meta name="twitter:image:width" content="1024"><meta name="HandheldFriendly" content="True"><meta name="MobileOptimized" content="320"><link rel="amphtml" href="https://auth0.com/blog/amp/developing-restful-apis-with-lumen/"><link rel="manifest" href="https://auth0.com/blog/manifest.json"><link type="application/atom+xml" rel="alternate" href="https://auth0.com/blog/rss.xml" title="Auth0 Blog"><link type="application/opensearchdescription+xml" rel="search" href="https://auth0.com/blog/osd.xml"><link rel="stylesheet" href="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/core.min.css"><script class="optanon-category-4" type="text/plain">window.twttr=function(t,e,r){var n,i=t.getElementsByTagName(e)[0],w=window.twttr||{};return t.getElementById(r)?w:((n=t.createElement(e)).id=r,n.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(n,i),w._e=[],w.ready=function(t){w._e.push(t)},w)}(document,"script","twitter-wjs");</script><script class="optanon-category-4" type="text/plain">(function (h, o, t, j, a, r) {h.hj = h.hj || function () { (h.hj.q = h.hj.q || []).push(arguments) }; h._hjSettings = { hjid: 301495, hjsv: 5 }; a = o.getElementsByTagName('head')[0]; r = o.createElement('script'); r.async = 1; r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv; a.appendChild(r);}(window, document, '//static.hotjar.com/c/hotjar-', '.js?sv='))</script><script class="optanon-category-4" type="text/plain">
                  window._6si = window._6si || [];
                  window._6si.push(['enableEventTracking', true]);
                  window._6si.push(['setToken', '17aa5119e1d44eeab301f44113230d69']);
                  window._6si.push(['setEndpoint', 'b.6sc.co']);
                  (function() {
                  var gd = document.createElement('script');
                  gd.type = 'text/javascript';
                  gd.async = true;
                  gd.src = '//j.6sc.co/6si.min.js';
                  var s = document.getElementsByTagName('script')[0];
                  s.parentNode.insertBefore(gd, s);
                  })();</script><script>"use strict";
window.onload = function() {
  if(typeof metricsLib !== 'undefined') metricsLib.track('drift-bot:script-included');
};
!function() {
  var t = window.driftt = window.drift = window.driftt || [];
  if (!t.init) {
    if (t.invoked) return void (window.console && console.error && console.error("Drift snippet included twice."));
    t.invoked = !0, t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
    t.factory = function(e) {
      return function() {
        var n = Array.prototype.slice.call(arguments);
        return n.unshift(e), t.push(n), t;
      };
    }, t.methods.forEach(function(e) {
      t[e] = t.factory(e);
    }), t.load = function(t) {
      var e = 3e5, n = Math.ceil(new Date() / e) * e, o = document.createElement("script");
      o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
      var i = document.getElementsByTagName("script")[0];
      i.parentNode.insertBefore(o, i);
    };
  }
}();
drift.SNIPPET_VERSION = '0.3.1';
drift.load('8p7kswfscb5n');
</script><meta name="next-head-count" content="32"><noscript data-n-css=""></noscript><script defer="" nomodule="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/polyfills-5cd94c89d3acac5f.js"></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/webpack-a782c72818c7ffe2.js" defer=""></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/framework-d3b6a5186d0a11ae.js" defer=""></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/main-c16094a955a57664.js" defer=""></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/_app-847d6a0a62fc6f67.js" defer=""></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/4811-8c18a25694512d39.js" defer=""></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/86-06286fbbb5daed49.js" defer=""></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/6795-09637c341690b119.js" defer=""></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/150-b604bcfd485f7e4a.js" defer=""></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/8740-625ac9335d113ad4.js" defer=""></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/[slug]-4dfeb9fc508dfb84.js" defer=""></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/_buildManifest.js" defer=""></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/_ssgManifest.js" defer=""></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/_middlewareManifest.js" defer=""></script><style data-styled="active" data-styled-version="5.2.1"></style><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/embed.js" data-timestamp="1664074101489"></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/otBannerSdk.js" async="" type="text/javascript"></script><link as="script" rel="prefetch" href="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/blog-9667835f56ab5914.js"><link as="script" rel="prefetch" href="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/9117-282740252e336015.js"><link as="script" rel="prefetch" href="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/developers-636976674d88b810.js"><link as="script" rel="prefetch" href="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/identity-and-security-ddfead49b803188f.js"><link as="script" rel="prefetch" href="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/business-3ac0d476f8cd5802.js"><link as="script" rel="prefetch" href="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/leadership-dabed765abffc93f.js"><link as="script" rel="prefetch" href="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/culture-1e419c3274f52fc6.js"><link as="script" rel="prefetch" href="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/engineering-0574f2b9fce064c4.js"><link as="script" rel="prefetch" href="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/announcements-6cfdaa06fa906eb9.js"><link as="script" rel="prefetch" href="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/8561-c9cb30fa356f15b3.js"><link as="script" rel="prefetch" href="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/[author]-5fb7ede9c9cbb994.js"><style id="onetrust-style">#onetrust-banner-sdk{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}#onetrust-banner-sdk .onetrust-vendors-list-handler{cursor:pointer;color:#1f96db;font-size:inherit;font-weight:bold;text-decoration:none;margin-left:5px}#onetrust-banner-sdk .onetrust-vendors-list-handler:hover{color:#1f96db}#onetrust-banner-sdk:focus{outline:2px solid #000;outline-offset:-2px}#onetrust-banner-sdk a:focus{outline:2px solid #000}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{outline-offset:1px}#onetrust-banner-sdk .ot-close-icon,#onetrust-pc-sdk .ot-close-icon,#ot-sync-ntfy .ot-close-icon{background-image:url("data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMzQ4LjMzM3B4IiBoZWlnaHQ9IjM0OC4zMzNweCIgdmlld0JveD0iMCAwIDM0OC4zMzMgMzQ4LjMzNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMzQ4LjMzMyAzNDguMzM0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGc+PHBhdGggZmlsbD0iIzU2NTY1NiIgZD0iTTMzNi41NTksNjguNjExTDIzMS4wMTYsMTc0LjE2NWwxMDUuNTQzLDEwNS41NDljMTUuNjk5LDE1LjcwNSwxNS42OTksNDEuMTQ1LDAsNTYuODVjLTcuODQ0LDcuODQ0LTE4LjEyOCwxMS43NjktMjguNDA3LDExLjc2OWMtMTAuMjk2LDAtMjAuNTgxLTMuOTE5LTI4LjQxOS0xMS43NjlMMTc0LjE2NywyMzEuMDAzTDY4LjYwOSwzMzYuNTYzYy03Ljg0Myw3Ljg0NC0xOC4xMjgsMTEuNzY5LTI4LjQxNiwxMS43NjljLTEwLjI4NSwwLTIwLjU2My0zLjkxOS0yOC40MTMtMTEuNzY5Yy0xNS42OTktMTUuNjk4LTE1LjY5OS00MS4xMzksMC01Ni44NWwxMDUuNTQtMTA1LjU0OUwxMS43NzQsNjguNjExYy0xNS42OTktMTUuNjk5LTE1LjY5OS00MS4xNDUsMC01Ni44NDRjMTUuNjk2LTE1LjY4Nyw0MS4xMjctMTUuNjg3LDU2LjgyOSwwbDEwNS41NjMsMTA1LjU1NEwyNzkuNzIxLDExLjc2N2MxNS43MDUtMTUuNjg3LDQxLjEzOS0xNS42ODcsNTYuODMyLDBDMzUyLjI1OCwyNy40NjYsMzUyLjI1OCw1Mi45MTIsMzM2LjU1OSw2OC42MTF6Ii8+PC9nPjwvc3ZnPg==");background-size:contain;background-repeat:no-repeat;background-position:center;height:12px;width:12px}#onetrust-banner-sdk .powered-by-logo,#onetrust-banner-sdk .ot-pc-footer-logo a,#onetrust-pc-sdk .powered-by-logo,#onetrust-pc-sdk .ot-pc-footer-logo a,#ot-sync-ntfy .powered-by-logo,#ot-sync-ntfy .ot-pc-footer-logo a{background-size:contain;background-repeat:no-repeat;background-position:center;height:25px;width:152px;display:block}#onetrust-banner-sdk h3 *,#onetrust-banner-sdk h4 *,#onetrust-banner-sdk h6 *,#onetrust-banner-sdk button *,#onetrust-banner-sdk a[data-parent-id] *,#onetrust-pc-sdk h3 *,#onetrust-pc-sdk h4 *,#onetrust-pc-sdk h6 *,#onetrust-pc-sdk button *,#onetrust-pc-sdk a[data-parent-id] *,#ot-sync-ntfy h3 *,#ot-sync-ntfy h4 *,#ot-sync-ntfy h6 *,#ot-sync-ntfy button *,#ot-sync-ntfy a[data-parent-id] *{font-size:inherit;font-weight:inherit;color:inherit}#onetrust-banner-sdk .ot-hide,#onetrust-pc-sdk .ot-hide,#ot-sync-ntfy .ot-hide{display:none !important}#onetrust-pc-sdk .ot-sdk-row .ot-sdk-column{padding:0}#onetrust-pc-sdk .ot-sdk-container{padding-right:0}#onetrust-pc-sdk .ot-sdk-row{flex-direction:initial;width:100%}#onetrust-pc-sdk [type="checkbox"]:checked,#onetrust-pc-sdk [type="checkbox"]:not(:checked){pointer-events:initial}#onetrust-pc-sdk [type="checkbox"]:disabled+label::before,#onetrust-pc-sdk [type="checkbox"]:disabled+label:after,#onetrust-pc-sdk [type="checkbox"]:disabled+label{pointer-events:none;opacity:0.7}#onetrust-pc-sdk #vendor-list-content{transform:translate3d(0, 0, 0)}#onetrust-pc-sdk li input[type="checkbox"]{z-index:1}#onetrust-pc-sdk li .ot-checkbox label{z-index:2}#onetrust-pc-sdk li .ot-checkbox input[type="checkbox"]{height:auto;width:auto}#onetrust-pc-sdk li .host-title a,#onetrust-pc-sdk li .ot-host-name a,#onetrust-pc-sdk li .accordion-text,#onetrust-pc-sdk li .ot-acc-txt{z-index:2;position:relative}#onetrust-pc-sdk input{margin:3px 0.1ex}#onetrust-pc-sdk .pc-logo,#onetrust-pc-sdk .ot-pc-logo{height:60px;width:180px;background-position:center;background-size:contain;background-repeat:no-repeat}#onetrust-pc-sdk .screen-reader-only,#onetrust-pc-sdk .ot-scrn-rdr,.ot-sdk-cookie-policy .screen-reader-only,.ot-sdk-cookie-policy .ot-scrn-rdr{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}#onetrust-pc-sdk.ot-fade-in,.onetrust-pc-dark-filter.ot-fade-in,#onetrust-banner-sdk.ot-fade-in{animation-name:onetrust-fade-in;animation-duration:400ms;animation-timing-function:ease-in-out}#onetrust-pc-sdk.ot-hide{display:none !important}.onetrust-pc-dark-filter.ot-hide{display:none !important}#ot-sdk-btn.ot-sdk-show-settings,#ot-sdk-btn.optanon-show-settings{color:#68b631;border:1px solid #68b631;height:auto;white-space:normal;word-wrap:break-word;padding:0.8em 2em;font-size:0.8em;line-height:1.2;cursor:pointer;-moz-transition:0.1s ease;-o-transition:0.1s ease;-webkit-transition:1s ease;transition:0.1s ease}#ot-sdk-btn.ot-sdk-show-settings:hover,#ot-sdk-btn.optanon-show-settings:hover{color:#fff;background-color:#68b631}.onetrust-pc-dark-filter{background:rgba(0,0,0,0.5);z-index:2147483646;width:100%;height:100%;overflow:hidden;position:fixed;top:0;bottom:0;left:0}@keyframes onetrust-fade-in{0%{opacity:0}100%{opacity:1}}.ot-cookie-label{text-decoration:underline}@media only screen and (min-width: 426px) and (max-width: 896px) and (orientation: landscape){#onetrust-pc-sdk p{font-size:0.75em}}#onetrust-banner-sdk .banner-option-input:focus+label{outline:1px solid #000;outline-style:auto}.category-vendors-list-handler+a:focus,.category-vendors-list-handler+a:focus-visible{outline:2px solid #000}
#onetrust-banner-sdk,#onetrust-pc-sdk,#ot-sdk-cookie-policy,#ot-sync-ntfy{font-size:16px}#onetrust-banner-sdk *,#onetrust-banner-sdk ::after,#onetrust-banner-sdk ::before,#onetrust-pc-sdk *,#onetrust-pc-sdk ::after,#onetrust-pc-sdk ::before,#ot-sdk-cookie-policy *,#ot-sdk-cookie-policy ::after,#ot-sdk-cookie-policy ::before,#ot-sync-ntfy *,#ot-sync-ntfy ::after,#ot-sync-ntfy ::before{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}#onetrust-banner-sdk div,#onetrust-banner-sdk span,#onetrust-banner-sdk h1,#onetrust-banner-sdk h2,#onetrust-banner-sdk h3,#onetrust-banner-sdk h4,#onetrust-banner-sdk h5,#onetrust-banner-sdk h6,#onetrust-banner-sdk p,#onetrust-banner-sdk img,#onetrust-banner-sdk svg,#onetrust-banner-sdk button,#onetrust-banner-sdk section,#onetrust-banner-sdk a,#onetrust-banner-sdk label,#onetrust-banner-sdk input,#onetrust-banner-sdk ul,#onetrust-banner-sdk li,#onetrust-banner-sdk nav,#onetrust-banner-sdk table,#onetrust-banner-sdk thead,#onetrust-banner-sdk tr,#onetrust-banner-sdk td,#onetrust-banner-sdk tbody,#onetrust-banner-sdk .ot-main-content,#onetrust-banner-sdk .ot-toggle,#onetrust-banner-sdk #ot-content,#onetrust-banner-sdk #ot-pc-content,#onetrust-banner-sdk .checkbox,#onetrust-pc-sdk div,#onetrust-pc-sdk span,#onetrust-pc-sdk h1,#onetrust-pc-sdk h2,#onetrust-pc-sdk h3,#onetrust-pc-sdk h4,#onetrust-pc-sdk h5,#onetrust-pc-sdk h6,#onetrust-pc-sdk p,#onetrust-pc-sdk img,#onetrust-pc-sdk svg,#onetrust-pc-sdk button,#onetrust-pc-sdk section,#onetrust-pc-sdk a,#onetrust-pc-sdk label,#onetrust-pc-sdk input,#onetrust-pc-sdk ul,#onetrust-pc-sdk li,#onetrust-pc-sdk nav,#onetrust-pc-sdk table,#onetrust-pc-sdk thead,#onetrust-pc-sdk tr,#onetrust-pc-sdk td,#onetrust-pc-sdk tbody,#onetrust-pc-sdk .ot-main-content,#onetrust-pc-sdk .ot-toggle,#onetrust-pc-sdk #ot-content,#onetrust-pc-sdk #ot-pc-content,#onetrust-pc-sdk .checkbox,#ot-sdk-cookie-policy div,#ot-sdk-cookie-policy span,#ot-sdk-cookie-policy h1,#ot-sdk-cookie-policy h2,#ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy h5,#ot-sdk-cookie-policy h6,#ot-sdk-cookie-policy p,#ot-sdk-cookie-policy img,#ot-sdk-cookie-policy svg,#ot-sdk-cookie-policy button,#ot-sdk-cookie-policy section,#ot-sdk-cookie-policy a,#ot-sdk-cookie-policy label,#ot-sdk-cookie-policy input,#ot-sdk-cookie-policy ul,#ot-sdk-cookie-policy li,#ot-sdk-cookie-policy nav,#ot-sdk-cookie-policy table,#ot-sdk-cookie-policy thead,#ot-sdk-cookie-policy tr,#ot-sdk-cookie-policy td,#ot-sdk-cookie-policy tbody,#ot-sdk-cookie-policy .ot-main-content,#ot-sdk-cookie-policy .ot-toggle,#ot-sdk-cookie-policy #ot-content,#ot-sdk-cookie-policy #ot-pc-content,#ot-sdk-cookie-policy .checkbox,#ot-sync-ntfy div,#ot-sync-ntfy span,#ot-sync-ntfy h1,#ot-sync-ntfy h2,#ot-sync-ntfy h3,#ot-sync-ntfy h4,#ot-sync-ntfy h5,#ot-sync-ntfy h6,#ot-sync-ntfy p,#ot-sync-ntfy img,#ot-sync-ntfy svg,#ot-sync-ntfy button,#ot-sync-ntfy section,#ot-sync-ntfy a,#ot-sync-ntfy label,#ot-sync-ntfy input,#ot-sync-ntfy ul,#ot-sync-ntfy li,#ot-sync-ntfy nav,#ot-sync-ntfy table,#ot-sync-ntfy thead,#ot-sync-ntfy tr,#ot-sync-ntfy td,#ot-sync-ntfy tbody,#ot-sync-ntfy .ot-main-content,#ot-sync-ntfy .ot-toggle,#ot-sync-ntfy #ot-content,#ot-sync-ntfy #ot-pc-content,#ot-sync-ntfy .checkbox{font-family:inherit;font-weight:normal;-webkit-font-smoothing:auto;letter-spacing:normal;line-height:normal;padding:0;margin:0;height:auto;min-height:0;max-height:none;width:auto;min-width:0;max-width:none;border-radius:0;border:none;clear:none;float:none;position:static;bottom:auto;left:auto;right:auto;top:auto;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;white-space:normal;background:none;overflow:visible;vertical-align:baseline;visibility:visible;z-index:auto;box-shadow:none}#onetrust-banner-sdk label:before,#onetrust-banner-sdk label:after,#onetrust-banner-sdk .checkbox:after,#onetrust-banner-sdk .checkbox:before,#onetrust-pc-sdk label:before,#onetrust-pc-sdk label:after,#onetrust-pc-sdk .checkbox:after,#onetrust-pc-sdk .checkbox:before,#ot-sdk-cookie-policy label:before,#ot-sdk-cookie-policy label:after,#ot-sdk-cookie-policy .checkbox:after,#ot-sdk-cookie-policy .checkbox:before,#ot-sync-ntfy label:before,#ot-sync-ntfy label:after,#ot-sync-ntfy .checkbox:after,#ot-sync-ntfy .checkbox:before{content:"";content:none}
#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{position:relative;width:100%;max-width:100%;margin:0 auto;padding:0 20px;box-sizing:border-box}#onetrust-banner-sdk .ot-sdk-column,#onetrust-banner-sdk .ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-column,#onetrust-pc-sdk .ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-column,#ot-sdk-cookie-policy .ot-sdk-columns{width:100%;float:left;box-sizing:border-box;padding:0;display:initial}@media (min-width: 400px){#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{width:90%;padding:0}}@media (min-width: 550px){#onetrust-banner-sdk .ot-sdk-container,#onetrust-pc-sdk .ot-sdk-container,#ot-sdk-cookie-policy .ot-sdk-container{width:100%}#onetrust-banner-sdk .ot-sdk-column,#onetrust-banner-sdk .ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-column,#onetrust-pc-sdk .ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-column,#ot-sdk-cookie-policy .ot-sdk-columns{margin-left:4%}#onetrust-banner-sdk .ot-sdk-column:first-child,#onetrust-banner-sdk .ot-sdk-columns:first-child,#onetrust-pc-sdk .ot-sdk-column:first-child,#onetrust-pc-sdk .ot-sdk-columns:first-child,#ot-sdk-cookie-policy .ot-sdk-column:first-child,#ot-sdk-cookie-policy .ot-sdk-columns:first-child{margin-left:0}#onetrust-banner-sdk .ot-sdk-two.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-two.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-two.ot-sdk-columns{width:13.3333333333%}#onetrust-banner-sdk .ot-sdk-three.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-three.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-three.ot-sdk-columns{width:22%}#onetrust-banner-sdk .ot-sdk-four.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-four.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-four.ot-sdk-columns{width:30.6666666667%}#onetrust-banner-sdk .ot-sdk-eight.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-eight.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-eight.ot-sdk-columns{width:65.3333333333%}#onetrust-banner-sdk .ot-sdk-nine.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-nine.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-nine.ot-sdk-columns{width:74%}#onetrust-banner-sdk .ot-sdk-ten.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-ten.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-ten.ot-sdk-columns{width:82.6666666667%}#onetrust-banner-sdk .ot-sdk-eleven.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-eleven.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-eleven.ot-sdk-columns{width:91.3333333333%}#onetrust-banner-sdk .ot-sdk-twelve.ot-sdk-columns,#onetrust-pc-sdk .ot-sdk-twelve.ot-sdk-columns,#ot-sdk-cookie-policy .ot-sdk-twelve.ot-sdk-columns{width:100%;margin-left:0}}#onetrust-banner-sdk h1,#onetrust-banner-sdk h2,#onetrust-banner-sdk h3,#onetrust-banner-sdk h4,#onetrust-banner-sdk h5,#onetrust-banner-sdk h6,#onetrust-pc-sdk h1,#onetrust-pc-sdk h2,#onetrust-pc-sdk h3,#onetrust-pc-sdk h4,#onetrust-pc-sdk h5,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h1,#ot-sdk-cookie-policy h2,#ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy h5,#ot-sdk-cookie-policy h6{margin-top:0;font-weight:600;font-family:inherit}#onetrust-banner-sdk h1,#onetrust-pc-sdk h1,#ot-sdk-cookie-policy h1{font-size:1.5rem;line-height:1.2}#onetrust-banner-sdk h2,#onetrust-pc-sdk h2,#ot-sdk-cookie-policy h2{font-size:1.5rem;line-height:1.25}#onetrust-banner-sdk h3,#onetrust-pc-sdk h3,#ot-sdk-cookie-policy h3{font-size:1.5rem;line-height:1.3}#onetrust-banner-sdk h4,#onetrust-pc-sdk h4,#ot-sdk-cookie-policy h4{font-size:1.5rem;line-height:1.35}#onetrust-banner-sdk h5,#onetrust-pc-sdk h5,#ot-sdk-cookie-policy h5{font-size:1.5rem;line-height:1.5}#onetrust-banner-sdk h6,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h6{font-size:1.5rem;line-height:1.6}@media (min-width: 550px){#onetrust-banner-sdk h1,#onetrust-pc-sdk h1,#ot-sdk-cookie-policy h1{font-size:1.5rem}#onetrust-banner-sdk h2,#onetrust-pc-sdk h2,#ot-sdk-cookie-policy h2{font-size:1.5rem}#onetrust-banner-sdk h3,#onetrust-pc-sdk h3,#ot-sdk-cookie-policy h3{font-size:1.5rem}#onetrust-banner-sdk h4,#onetrust-pc-sdk h4,#ot-sdk-cookie-policy h4{font-size:1.5rem}#onetrust-banner-sdk h5,#onetrust-pc-sdk h5,#ot-sdk-cookie-policy h5{font-size:1.5rem}#onetrust-banner-sdk h6,#onetrust-pc-sdk h6,#ot-sdk-cookie-policy h6{font-size:1.5rem}}#onetrust-banner-sdk p,#onetrust-pc-sdk p,#ot-sdk-cookie-policy p{margin:0 0 1em 0;font-family:inherit;line-height:normal}#onetrust-banner-sdk a,#onetrust-pc-sdk a,#ot-sdk-cookie-policy a{color:#565656;text-decoration:underline}#onetrust-banner-sdk a:hover,#onetrust-pc-sdk a:hover,#ot-sdk-cookie-policy a:hover{color:#565656;text-decoration:none}#onetrust-banner-sdk .ot-sdk-button,#onetrust-banner-sdk button,#onetrust-pc-sdk .ot-sdk-button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy .ot-sdk-button,#ot-sdk-cookie-policy button{margin-bottom:1rem;font-family:inherit}#onetrust-banner-sdk .ot-sdk-button,#onetrust-banner-sdk button,#onetrust-pc-sdk .ot-sdk-button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy .ot-sdk-button,#ot-sdk-cookie-policy button{display:inline-block;height:38px;padding:0 30px;color:#555;text-align:center;font-size:0.9em;font-weight:400;line-height:38px;letter-spacing:0.01em;text-decoration:none;white-space:nowrap;background-color:transparent;border-radius:2px;border:1px solid #bbb;cursor:pointer;box-sizing:border-box}#onetrust-banner-sdk .ot-sdk-button:hover,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:hover,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:focus,#onetrust-pc-sdk .ot-sdk-button:hover,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:hover,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:focus,#ot-sdk-cookie-policy .ot-sdk-button:hover,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:hover,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:focus{color:#333;border-color:#888;opacity:0.7}#onetrust-banner-sdk .ot-sdk-button:focus,#onetrust-banner-sdk :not(.ot-leg-btn-container)>button:focus,#onetrust-pc-sdk .ot-sdk-button:focus,#onetrust-pc-sdk :not(.ot-leg-btn-container)>button:focus,#ot-sdk-cookie-policy .ot-sdk-button:focus,#ot-sdk-cookie-policy :not(.ot-leg-btn-container)>button:focus{outline:2px solid #000}#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary,#onetrust-banner-sdk button.ot-sdk-button-primary,#onetrust-banner-sdk input[type="submit"].ot-sdk-button-primary,#onetrust-banner-sdk input[type="reset"].ot-sdk-button-primary,#onetrust-banner-sdk input[type="button"].ot-sdk-button-primary,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary,#onetrust-pc-sdk button.ot-sdk-button-primary,#onetrust-pc-sdk input[type="submit"].ot-sdk-button-primary,#onetrust-pc-sdk input[type="reset"].ot-sdk-button-primary,#onetrust-pc-sdk input[type="button"].ot-sdk-button-primary,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary,#ot-sdk-cookie-policy button.ot-sdk-button-primary,#ot-sdk-cookie-policy input[type="submit"].ot-sdk-button-primary,#ot-sdk-cookie-policy input[type="reset"].ot-sdk-button-primary,#ot-sdk-cookie-policy input[type="button"].ot-sdk-button-primary{color:#fff;background-color:#33c3f0;border-color:#33c3f0}#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary:hover,#onetrust-banner-sdk button.ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type="submit"].ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type="reset"].ot-sdk-button-primary:hover,#onetrust-banner-sdk input[type="button"].ot-sdk-button-primary:hover,#onetrust-banner-sdk .ot-sdk-button.ot-sdk-button-primary:focus,#onetrust-banner-sdk button.ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type="submit"].ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type="reset"].ot-sdk-button-primary:focus,#onetrust-banner-sdk input[type="button"].ot-sdk-button-primary:focus,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary:hover,#onetrust-pc-sdk button.ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type="submit"].ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type="reset"].ot-sdk-button-primary:hover,#onetrust-pc-sdk input[type="button"].ot-sdk-button-primary:hover,#onetrust-pc-sdk .ot-sdk-button.ot-sdk-button-primary:focus,#onetrust-pc-sdk button.ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type="submit"].ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type="reset"].ot-sdk-button-primary:focus,#onetrust-pc-sdk input[type="button"].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary:hover,#ot-sdk-cookie-policy button.ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type="submit"].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type="reset"].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy input[type="button"].ot-sdk-button-primary:hover,#ot-sdk-cookie-policy .ot-sdk-button.ot-sdk-button-primary:focus,#ot-sdk-cookie-policy button.ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type="submit"].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type="reset"].ot-sdk-button-primary:focus,#ot-sdk-cookie-policy input[type="button"].ot-sdk-button-primary:focus{color:#fff;background-color:#1eaedb;border-color:#1eaedb}#onetrust-banner-sdk input[type="text"],#onetrust-pc-sdk input[type="text"],#ot-sdk-cookie-policy input[type="text"]{height:38px;padding:6px 10px;background-color:#fff;border:1px solid #d1d1d1;border-radius:4px;box-shadow:none;box-sizing:border-box}#onetrust-banner-sdk input[type="text"],#onetrust-pc-sdk input[type="text"],#ot-sdk-cookie-policy input[type="text"]{-webkit-appearance:none;-moz-appearance:none;appearance:none}#onetrust-banner-sdk input[type="text"]:focus,#onetrust-pc-sdk input[type="text"]:focus,#ot-sdk-cookie-policy input[type="text"]:focus{border:1px solid #000;outline:0}#onetrust-banner-sdk label,#onetrust-pc-sdk label,#ot-sdk-cookie-policy label{display:block;margin-bottom:0.5rem;font-weight:600}#onetrust-banner-sdk input[type="checkbox"],#onetrust-pc-sdk input[type="checkbox"],#ot-sdk-cookie-policy input[type="checkbox"]{display:inline}#onetrust-banner-sdk ul,#onetrust-pc-sdk ul,#ot-sdk-cookie-policy ul{list-style:circle inside}#onetrust-banner-sdk ul,#onetrust-pc-sdk ul,#ot-sdk-cookie-policy ul{padding-left:0;margin-top:0}#onetrust-banner-sdk ul ul,#onetrust-pc-sdk ul ul,#ot-sdk-cookie-policy ul ul{margin:1.5rem 0 1.5rem 3rem;font-size:90%}#onetrust-banner-sdk li,#onetrust-pc-sdk li,#ot-sdk-cookie-policy li{margin-bottom:1rem}#onetrust-banner-sdk th,#onetrust-banner-sdk td,#onetrust-pc-sdk th,#onetrust-pc-sdk td,#ot-sdk-cookie-policy th,#ot-sdk-cookie-policy td{padding:12px 15px;text-align:left;border-bottom:1px solid #e1e1e1}#onetrust-banner-sdk button,#onetrust-pc-sdk button,#ot-sdk-cookie-policy button{margin-bottom:1rem;font-family:inherit}#onetrust-banner-sdk .ot-sdk-container:after,#onetrust-banner-sdk .ot-sdk-row:after,#onetrust-pc-sdk .ot-sdk-container:after,#onetrust-pc-sdk .ot-sdk-row:after,#ot-sdk-cookie-policy .ot-sdk-container:after,#ot-sdk-cookie-policy .ot-sdk-row:after{content:"";display:table;clear:both}#onetrust-banner-sdk .ot-sdk-row,#onetrust-pc-sdk .ot-sdk-row,#ot-sdk-cookie-policy .ot-sdk-row{margin:0;max-width:none;display:block}
#onetrust-banner-sdk{box-shadow:0 0 18px rgba(0,0,0,.2)}#onetrust-banner-sdk.otCenterRounded{z-index:2147483645;top:10%;position:fixed;right:0;background-color:#fff;width:60%;max-width:650px;border-radius:2.5px;left:1em;margin:0 auto;font-size:14px;max-height:90%;overflow-x:hidden;overflow-y:auto}#onetrust-banner-sdk.otRelFont{font-size:.875rem}#onetrust-banner-sdk::-webkit-scrollbar{width:11px}#onetrust-banner-sdk::-webkit-scrollbar-thumb{border-radius:10px;background:#c1c1c1}#onetrust-banner-sdk{scrollbar-arrow-color:#c1c1c1;scrollbar-darkshadow-color:#c1c1c1;scrollbar-face-color:#c1c1c1;scrollbar-shadow-color:#c1c1c1}#onetrust-banner-sdk h3,#onetrust-banner-sdk p{color:dimgray}#onetrust-banner-sdk #onetrust-policy{margin-top:20px}#onetrust-banner-sdk #onetrust-policy-title{float:left;text-align:left;font-size:1em;line-height:1.4;margin-bottom:0;padding:0 0 10px 30px;width:calc(100% - 90px)}#onetrust-banner-sdk #onetrust-policy-text,#onetrust-banner-sdk .ot-b-addl-desc,#onetrust-banner-sdk .ot-gv-list-handler{clear:both;float:left;margin:0 30px 10px 30px;font-size:.813em;line-height:1.5}#onetrust-banner-sdk #onetrust-policy-text *,#onetrust-banner-sdk .ot-b-addl-desc *,#onetrust-banner-sdk .ot-gv-list-handler *{line-height:inherit;font-size:inherit;margin:0}#onetrust-banner-sdk .ot-gv-list-handler{padding:0;border:0;height:auto;width:auto}#onetrust-banner-sdk .ot-b-addl-desc{display:block}#onetrust-banner-sdk #onetrust-button-group-parent{padding:15px 30px;text-align:center}#onetrust-banner-sdk #onetrust-button-group-parent:not(.has-reject-all-button) #onetrust-button-group{text-align:right}#onetrust-banner-sdk #onetrust-button-group{text-align:center;display:inline-block;width:100%}#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{margin-right:1em}#onetrust-banner-sdk #onetrust-pc-btn-handler{border:1px solid #6cc04a;max-width:45%}#onetrust-banner-sdk .banner-actions-container{float:right;width:50%}#onetrust-banner-sdk #onetrust-pc-btn-handler.cookie-setting-link{background-color:#fff;border:none;color:#6cc04a;text-decoration:underline;padding-left:0;padding-right:0}#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{background-color:#6cc04a;color:#fff;border-color:#6cc04a;min-width:135px;padding:12px 10px;letter-spacing:.05em;line-height:1.4;font-size:.813em;font-weight:600;height:auto;white-space:normal;word-break:break-word;word-wrap:break-word}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler{float:left;max-width:calc(40% - 18px)}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler.cookie-setting-link{text-align:left;margin-right:0}#onetrust-banner-sdk .has-reject-all-button .banner-actions-container{max-width:60%;width:auto}#onetrust-banner-sdk .ot-close-icon{width:44px;height:44px;background-size:12px;margin:-18px -18px 0 0;border:none;display:inline-block;padding:0}#onetrust-banner-sdk #onetrust-close-btn-container{position:absolute;right:24px;top:24px}#onetrust-banner-sdk .banner_logo{display:none}#onetrust-banner-sdk #banner-options{float:left;padding:0 30px;width:calc(100% - 90px)}#onetrust-banner-sdk .banner-option{margin-bottom:10px}#onetrust-banner-sdk .banner-option-input{cursor:pointer;width:auto;height:auto;border:none;padding:0;padding-right:3px;margin:0 0 6px;font-size:.82em;line-height:1.4}#onetrust-banner-sdk .banner-option-input *{pointer-events:none;font-size:inherit;line-height:inherit}#onetrust-banner-sdk .banner-option-input[aria-expanded=true] .ot-arrow-container{transform:rotate(90deg)}#onetrust-banner-sdk .banner-option-input[aria-expanded=true]~.banner-option-details{height:auto;display:block}#onetrust-banner-sdk .banner-option-header{cursor:pointer;display:inline-block}#onetrust-banner-sdk .banner-option-header :first-child{color:dimgray;font-weight:bold;float:left}#onetrust-banner-sdk .ot-arrow-container,#onetrust-banner-sdk .banner-option-details{transition:all 300ms ease-in 0s;-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s}#onetrust-banner-sdk .ot-arrow-container{display:inline-block;border-top:6px solid transparent;border-bottom:6px solid transparent;border-left:6px solid dimgray;margin-left:10px;vertical-align:middle}#onetrust-banner-sdk .banner-option-details{display:none;font-size:.83em;line-height:1.5;height:0px;padding:10px 10px 5px 10px}#onetrust-banner-sdk .banner-option-details *{font-size:inherit;line-height:inherit;color:dimgray}#onetrust-banner-sdk .ot-dpd-container{float:left;margin:0 30px 10px 30px}#onetrust-banner-sdk .ot-dpd-title{font-weight:bold;padding-bottom:10px}#onetrust-banner-sdk .ot-dpd-title{font-size:1em;line-height:1.4}#onetrust-banner-sdk .ot-dpd-desc{font-size:.813em;line-height:1.5;margin-bottom:0}#onetrust-banner-sdk .ot-dpd-desc *{margin:0}#onetrust-banner-sdk .onetrust-vendors-list-handler{display:block;margin-left:0px;margin-top:5px;padding:0;margin-bottom:0;border:0;line-height:normal;height:auto;width:auto}#onetrust-banner-sdk :not(.ot-dpd-desc)>.ot-b-addl-desc{float:left;margin:0 30px 10px 30px}#onetrust-banner-sdk .ot-dpd-desc>.ot-b-addl-desc{margin-top:10px;margin-bottom:10px;font-size:1em;line-height:1.5;float:none}#onetrust-banner-sdk #onetrust-policy-text a{font-weight:bold;margin-left:5px}#onetrust-banner-sdk.ot-close-btn-link #onetrust-close-btn-container{top:15px;transform:none;right:15px}#onetrust-banner-sdk.ot-close-btn-link #onetrust-close-btn-container button{padding:0;white-space:pre-wrap;border:none;height:auto;line-height:1.5;text-decoration:underline;font-size:.75em}#onetrust-banner-sdk.ot-close-btn-link.ot-wo-title #onetrust-group-container{margin-top:20px}@media only screen and (max-width: 425px){#onetrust-banner-sdk #onetrust-accept-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler,#onetrust-banner-sdk #onetrust-pc-btn-handler{width:100%;margin-bottom:10px}#onetrust-banner-sdk #onetrust-pc-btn-handler,#onetrust-banner-sdk #onetrust-reject-all-handler{margin-right:0}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler.cookie-setting-link{text-align:center}#onetrust-banner-sdk .banner-actions-container,#onetrust-banner-sdk #onetrust-pc-btn-handler{width:100%;max-width:none}#onetrust-banner-sdk.otCenterRounded{left:0;width:95%;top:50%;transform:translateY(-50%);-webkit-transform:translateY(-50%)}}@media only screen and (max-width: 600px){#onetrust-banner-sdk .ot-sdk-container{width:auto;padding:0}#onetrust-banner-sdk #onetrust-policy-title{padding:0 22px 10px 22px}#onetrust-banner-sdk #onetrust-policy-text,#onetrust-banner-sdk :not(.ot-dpd-desc)>.ot-b-addl-desc,#onetrust-banner-sdk .ot-dpd-container{margin:0 22px 10px 22px;width:calc(100% - 44px)}#onetrust-banner-sdk #onetrust-button-group-parent{padding:15px 22px}#onetrust-banner-sdk #banner-options{padding:0 22px;width:calc(100% - 44px)}#onetrust-banner-sdk .banner-option{margin-bottom:6px}#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler{float:none;max-width:100%}#onetrust-banner-sdk .has-reject-all-button .banner-actions-container{width:100%;text-align:center;max-width:100%}#onetrust-banner-sdk.ot-close-btn-link #onetrust-group-container{margin-top:20px}}@media only screen and (min-width: 426px)and (max-width: 896px){#onetrust-banner-sdk.otCenterRounded{left:0;top:15%;transform:translateY(-13%);-webkit-transform:translateY(-13%);max-width:600px;width:95%}}
        #onetrust-consent-sdk #onetrust-banner-sdk {background-color: #FFFFFF;}
            #onetrust-consent-sdk #onetrust-policy-title,
                    #onetrust-consent-sdk #onetrust-policy-text,
                    #onetrust-consent-sdk .ot-b-addl-desc,
                    #onetrust-consent-sdk .ot-dpd-desc,
                    #onetrust-consent-sdk .ot-dpd-title,
                    #onetrust-consent-sdk #onetrust-policy-text *:not(.onetrust-vendors-list-handler),
                    #onetrust-consent-sdk .ot-dpd-desc *:not(.onetrust-vendors-list-handler),
                    #onetrust-consent-sdk #onetrust-banner-sdk #banner-options *,
                    #onetrust-banner-sdk .ot-cat-header {
                        color: #2b2e33;
                    }
            #onetrust-consent-sdk #onetrust-banner-sdk .banner-option-details {
                    background-color: #E9E9E9;}
             #onetrust-consent-sdk #onetrust-banner-sdk a[href],
                    #onetrust-consent-sdk #onetrust-banner-sdk a[href] font,
                    #onetrust-consent-sdk #onetrust-banner-sdk .ot-link-btn
                        {
                            color: #635dff;
                        }#onetrust-consent-sdk #onetrust-accept-btn-handler,
                         #onetrust-banner-sdk #onetrust-reject-all-handler {
                            background-color: #635dff;border-color: #635dff;
                            color: #FFFFFF;
                        }
            #onetrust-consent-sdk #onetrust-pc-btn-handler,
            #onetrust-consent-sdk #onetrust-pc-btn-handler.cookie-setting-link {
                color: #635dff; border-color: #635dff;
                background-color: 
                #FFFFFF;
            }#onetrust-consent-sdk #onetrust-banner-sdk {
  border-radius: 32px;
}

#onetrust-consent-sdk #onetrust-banner-sdk:focus, #onetrust-consent-sdk #onetrust-accept-btn-handler:focus, #onetrust-banner-sdk #onetrust-reject-all-handler:focus, #onetrust-consent-sdk #onetrust-pc-btn-handler:focus{
  outline: none!important;
}

#onetrust-banner-sdk * {
  font-family: Inter, sans-serif!important;
}

#onetrust-banner-sdk .banner-content {
  max-height: 100%;
}

#onetrust-banner-sdk #onetrust-policy {
  margin-top: 40px;
}

#onetrust-banner-sdk h3#onetrust-policy-title {
  font-weight: 400;
  font-size: 20px;
  line-height: 28px;
  letter-spacing: -0.1px;
  color: #41444B;
  margin-bottom: 16px;
  padding: 0 0 0 40px;
}

#onetrust-banner-sdk #onetrust-policy-text {
  font-size: 16px;
  line-height: 24px;
  letter-spacing: -0.01px;
  color: #2B2E33;
  margin: 0 40px 40px 40px;
}

#onetrust-banner-sdk #onetrust-policy-text a {
  font-size: 16px;
  line-height: 24px;
  letter-spacing: -0.01px;
  color: #635DFF;
  margin: 0;
}

#onetrust-banner-sdk #onetrust-policy-text a:hover {
  color: #564ed1!important;
  opacity: 1;
}

#onetrust-banner-sdk #onetrust-button-group-parent {
  padding: 40px;
  border-top: 1px solid #E9ECF3;
}

#onetrust-banner-sdk .banner-actions-container {
  float: left!important;
}

#onetrust-banner-sdk .has-reject-all-button #onetrust-pc-btn-handler {
  float: right!important;
  font-weight: 400;
  font-size: 16px;
  line-height: 24px;
  text-decoration: none; 
  letter-spacing: -0.01px;
  margin-bottom: 0;
}

#onetrust-consent-sdk #onetrust-accept-btn-handler, #onetrust-banner-sdk #onetrust-reject-all-handler{
  border-radius: 8px!important;
  font-weight: 400;
  font-size: 16px;
  line-height: 32px;
  letter-spacing: 0;
  padding: 7px 24px;
  min-width: auto;
}

#onetrust-banner-sdk #onetrust-reject-all-handler {
  background: white;
  color: #2B2E33;
  border: 1px solid #5A5F66;
  margin-bottom: 0;
}

#onetrust-banner-sdk #onetrust-reject-all-handler:hover {
  border: 1px solid #000;
  background: white;
  opacity: 1;
}

#onetrust-consent-sdk #onetrust-accept-btn-handler:hover {
  background: #564ed1!important;
  opacity: 1;
}

#onetrust-consent-sdk #onetrust-pc-btn-handler:hover {
  color: #564ed1!important;
  opacity: 1;
}

#onetrust-banner-sdk .has-reject-all-button .banner-actions-container {
  display: flex;
  column-gap: 16px;
  flex-flow: row-reverse;
}

#onetrust-banner-sdk .has-reject-all-button .banner-actions-container button + button {
  margin-bottom: 0;
}

@media only screen and (max-width: 750px) {
  #onetrust-banner-sdk #onetrust-policy {
    margin-top: 24px;
  }

  #onetrust-consent-sdk #onetrust-banner-sdk{
    border-radius: 24px;
  }

  #onetrust-banner-sdk #onetrust-button-group-parent {
    padding: 16px;
  }

  #onetrust-banner-sdk .has-reject-all-button .banner-actions-container {
    flex-flow: column-reverse;
  }

  #onetrust-banner-sdk .has-reject-all-button .banner-actions-container button + button {
    margin-bottom: 12px;
  }
  

  #onetrust-banner-sdk h3#onetrust-policy-title {
    font-size: 18px;
    padding: 0 0 0 24px;
  }

  #onetrust-banner-sdk #onetrust-policy-text {
    font-size: 14px;
    line-height: 22px;
    margin: 0 24px 16px 24px;
  }

  #onetrust-banner-sdk #onetrust-policy-text a {
    font-size: 14px;
    line-height: 22px;
  }
}#onetrust-pc-sdk.otPcCenter{overflow:hidden;position:fixed;margin:0 auto;top:5%;right:0;left:0;width:40%;max-width:575px;min-width:575px;border-radius:2.5px;z-index:2147483647;background-color:#fff;-webkit-box-shadow:0px 2px 10px -3px #999;-moz-box-shadow:0px 2px 10px -3px #999;box-shadow:0px 2px 10px -3px #999}#onetrust-pc-sdk.otPcCenter[dir=rtl]{right:0;left:0}#onetrust-pc-sdk.otRelFont{font-size:1rem}#onetrust-pc-sdk #ot-addtl-venlst .ot-arw-cntr,#onetrust-pc-sdk #ot-addtl-venlst .ot-plus-minus,#onetrust-pc-sdk .ot-hide-tgl{visibility:hidden}#onetrust-pc-sdk #ot-addtl-venlst .ot-arw-cntr *,#onetrust-pc-sdk #ot-addtl-venlst .ot-plus-minus *,#onetrust-pc-sdk .ot-hide-tgl *{visibility:hidden}#onetrust-pc-sdk #ot-gn-venlst .ot-ven-item .ot-acc-hdr{min-height:40px}#onetrust-pc-sdk .ot-pc-header{height:39px;padding:10px 0 10px 30px;border-bottom:1px solid #e9e9e9}#onetrust-pc-sdk #ot-pc-title,#onetrust-pc-sdk #ot-category-title,#onetrust-pc-sdk .ot-cat-header,#onetrust-pc-sdk #ot-lst-title,#onetrust-pc-sdk .ot-ven-hdr .ot-ven-name,#onetrust-pc-sdk .ot-always-active{font-weight:bold;color:dimgray}#onetrust-pc-sdk .ot-cat-header{float:left;font-weight:600;font-size:.875em;line-height:1.5;max-width:90%;vertical-align:middle}#onetrust-pc-sdk .ot-always-active-group .ot-cat-header{width:55%;font-weight:700}#onetrust-pc-sdk .ot-cat-item p{clear:both;float:left;margin-top:10px;margin-bottom:5px;line-height:1.5;font-size:.812em;color:dimgray}#onetrust-pc-sdk .ot-close-icon{height:44px;width:44px;background-size:10px}#onetrust-pc-sdk #ot-pc-title{float:left;font-size:1em;line-height:1.5;margin-bottom:10px;margin-top:10px;width:100%}#onetrust-pc-sdk #accept-recommended-btn-handler{margin-right:10px;margin-bottom:25px;outline-offset:-1px}#onetrust-pc-sdk #ot-pc-desc{clear:both;width:100%;font-size:.812em;line-height:1.5;margin-bottom:25px}#onetrust-pc-sdk #ot-pc-desc a{margin-left:5px}#onetrust-pc-sdk #ot-pc-desc *{font-size:inherit;line-height:inherit}#onetrust-pc-sdk #ot-pc-desc ul li{padding:10px 0px}#onetrust-pc-sdk a{color:#656565;cursor:pointer}#onetrust-pc-sdk a:hover{color:#3860be}#onetrust-pc-sdk label{margin-bottom:0}#onetrust-pc-sdk #vdr-lst-dsc{font-size:.812em;line-height:1.5;padding:10px 15px 5px 15px}#onetrust-pc-sdk button{max-width:394px;padding:12px 30px;line-height:1;word-break:break-word;word-wrap:break-word;white-space:normal;font-weight:bold;height:auto}#onetrust-pc-sdk .ot-link-btn{padding:0;margin-bottom:0;border:0;font-weight:normal;line-height:normal;width:auto;height:auto}#onetrust-pc-sdk #ot-pc-content{position:absolute;overflow-y:scroll;padding-left:0px;padding-right:30px;top:60px;bottom:110px;margin:1px 3px 0 30px;width:calc(100% - 63px)}#onetrust-pc-sdk .ot-cat-grp .ot-always-active{float:right;clear:none;color:#3860be;margin:0;font-size:.813em;line-height:1.3}#onetrust-pc-sdk .ot-pc-scrollbar::-webkit-scrollbar-track{margin-right:20px}#onetrust-pc-sdk .ot-pc-scrollbar::-webkit-scrollbar{width:11px}#onetrust-pc-sdk .ot-pc-scrollbar::-webkit-scrollbar-thumb{border-radius:10px;background:#d8d8d8}#onetrust-pc-sdk input[type=checkbox]:focus+.ot-acc-hdr{outline:#000 1px solid}#onetrust-pc-sdk .ot-pc-scrollbar{scrollbar-arrow-color:#d8d8d8;scrollbar-darkshadow-color:#d8d8d8;scrollbar-face-color:#d8d8d8;scrollbar-shadow-color:#d8d8d8}#onetrust-pc-sdk .save-preference-btn-handler{margin-right:20px}#onetrust-pc-sdk .ot-pc-refuse-all-handler{margin-right:10px}#onetrust-pc-sdk #ot-pc-desc .privacy-notice-link{margin-left:0}#onetrust-pc-sdk .ot-subgrp-cntr{display:inline-block;clear:both;width:100%;padding-top:15px}#onetrust-pc-sdk .ot-switch+.ot-subgrp-cntr{padding-top:10px}#onetrust-pc-sdk ul.ot-subgrps{margin:0;font-size:initial}#onetrust-pc-sdk ul.ot-subgrps li p,#onetrust-pc-sdk ul.ot-subgrps li h5{font-size:.813em;line-height:1.4;color:dimgray}#onetrust-pc-sdk ul.ot-subgrps .ot-switch{min-height:auto}#onetrust-pc-sdk ul.ot-subgrps .ot-switch-nob{top:0}#onetrust-pc-sdk ul.ot-subgrps .ot-acc-hdr{display:inline-block;width:100%}#onetrust-pc-sdk ul.ot-subgrps .ot-acc-txt{margin:0}#onetrust-pc-sdk ul.ot-subgrps li{padding:0;border:none}#onetrust-pc-sdk ul.ot-subgrps li h5{position:relative;top:5px;font-weight:bold;margin-bottom:0;float:left}#onetrust-pc-sdk li.ot-subgrp{margin-left:20px;overflow:auto}#onetrust-pc-sdk li.ot-subgrp>h5{width:calc(100% - 100px)}#onetrust-pc-sdk .ot-cat-item p>ul,#onetrust-pc-sdk li.ot-subgrp p>ul{margin:0px;list-style:disc;margin-left:15px;font-size:inherit}#onetrust-pc-sdk .ot-cat-item p>ul li,#onetrust-pc-sdk li.ot-subgrp p>ul li{font-size:inherit;padding-top:10px;padding-left:0px;padding-right:0px;border:none}#onetrust-pc-sdk .ot-cat-item p>ul li:last-child,#onetrust-pc-sdk li.ot-subgrp p>ul li:last-child{padding-bottom:10px}#onetrust-pc-sdk .ot-pc-logo{height:40px;width:120px;display:inline-block}#onetrust-pc-sdk .ot-pc-footer{position:absolute;bottom:0px;width:100%;max-height:160px;border-top:1px solid #d8d8d8}#onetrust-pc-sdk.ot-ftr-stacked .ot-pc-refuse-all-handler{margin-bottom:0px}#onetrust-pc-sdk.ot-ftr-stacked #ot-pc-content{bottom:160px}#onetrust-pc-sdk.ot-ftr-stacked .ot-pc-footer button{width:100%;max-width:none}#onetrust-pc-sdk.ot-ftr-stacked .ot-btn-container{margin:0 30px;width:calc(100% - 60px);padding-right:0}#onetrust-pc-sdk .ot-pc-footer-logo{height:30px;width:100%;text-align:right;background:#f4f4f4}#onetrust-pc-sdk .ot-pc-footer-logo a{display:inline-block;margin-top:5px;margin-right:10px}#onetrust-pc-sdk[dir=rtl] .ot-pc-footer-logo{direction:rtl}#onetrust-pc-sdk[dir=rtl] .ot-pc-footer-logo a{margin-right:25px}#onetrust-pc-sdk .ot-tgl{float:right;position:relative;z-index:1}#onetrust-pc-sdk .ot-tgl input:checked+.ot-switch .ot-switch-nob{background-color:#cddcf2;border:1px solid #3860be}#onetrust-pc-sdk .ot-tgl input:checked+.ot-switch .ot-switch-nob:before{-webkit-transform:translateX(20px);-ms-transform:translateX(20px);transform:translateX(20px);background-color:#3860be;border-color:#3860be}#onetrust-pc-sdk .ot-tgl input:focus+.ot-switch{outline:#000 solid 1px}#onetrust-pc-sdk .ot-switch{position:relative;display:inline-block;width:45px;height:25px}#onetrust-pc-sdk .ot-switch-nob{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:#f2f1f1;border:1px solid #ddd;transition:all .2s ease-in 0s;-moz-transition:all .2s ease-in 0s;-o-transition:all .2s ease-in 0s;-webkit-transition:all .2s ease-in 0s;border-radius:20px}#onetrust-pc-sdk .ot-switch-nob:before{position:absolute;content:"";height:21px;width:21px;bottom:1px;background-color:#7d7d7d;-webkit-transition:.4s;transition:.4s;border-radius:20px}#onetrust-pc-sdk .ot-chkbox input:checked~label::before{background-color:#3860be}#onetrust-pc-sdk .ot-chkbox input+label::after{content:none;color:#fff}#onetrust-pc-sdk .ot-chkbox input:checked+label::after{content:""}#onetrust-pc-sdk .ot-chkbox input:focus+label::before{outline-style:solid;outline-width:2px;outline-style:auto}#onetrust-pc-sdk .ot-chkbox label{position:relative;display:inline-block;padding-left:30px;cursor:pointer;font-weight:500}#onetrust-pc-sdk .ot-chkbox label::before,#onetrust-pc-sdk .ot-chkbox label::after{position:absolute;content:"";display:inline-block;border-radius:3px}#onetrust-pc-sdk .ot-chkbox label::before{height:18px;width:18px;border:1px solid #3860be;left:0px;top:auto}#onetrust-pc-sdk .ot-chkbox label::after{height:5px;width:9px;border-left:3px solid;border-bottom:3px solid;transform:rotate(-45deg);-o-transform:rotate(-45deg);-ms-transform:rotate(-45deg);-webkit-transform:rotate(-45deg);left:4px;top:5px}#onetrust-pc-sdk .ot-label-txt{display:none}#onetrust-pc-sdk .ot-chkbox input,#onetrust-pc-sdk .ot-tgl input{position:absolute;opacity:0;width:0;height:0}#onetrust-pc-sdk .ot-arw-cntr{float:right;position:relative;pointer-events:none}#onetrust-pc-sdk .ot-arw-cntr .ot-arw{width:16px;height:16px;margin-left:5px;color:dimgray;display:inline-block;vertical-align:middle;-webkit-transition:all 150ms ease-in 0s;-moz-transition:all 150ms ease-in 0s;-o-transition:all 150ms ease-in 0s;transition:all 150ms ease-in 0s}#onetrust-pc-sdk input:checked~.ot-acc-hdr .ot-arw,#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-arw-cntr svg{transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);-webkit-transform:rotate(90deg)}#onetrust-pc-sdk input[type=checkbox]:focus+.ot-acc-hdr{outline:#000 1px solid}#onetrust-pc-sdk .ot-tgl-cntr,#onetrust-pc-sdk .ot-arw-cntr{display:inline-block}#onetrust-pc-sdk .ot-tgl-cntr{width:45px;float:right;margin-top:2px}#onetrust-pc-sdk #ot-lst-cnt .ot-tgl-cntr{margin-top:10px}#onetrust-pc-sdk .ot-always-active-subgroup{width:auto;padding-left:0px !important;top:3px;position:relative}#onetrust-pc-sdk .ot-label-status{padding-left:5px;font-size:.75em;display:none}#onetrust-pc-sdk .ot-arw-cntr{margin-top:-1px}#onetrust-pc-sdk .ot-arw-cntr svg{-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s;transition:all 300ms ease-in 0s;height:10px;width:10px}#onetrust-pc-sdk input:checked~.ot-acc-hdr .ot-arw{transform:rotate(90deg);-o-transform:rotate(90deg);-ms-transform:rotate(90deg);-webkit-transform:rotate(90deg)}#onetrust-pc-sdk .ot-arw{width:10px;margin-left:15px;transition:all 300ms ease-in 0s;-webkit-transition:all 300ms ease-in 0s;-moz-transition:all 300ms ease-in 0s;-o-transition:all 300ms ease-in 0s}#onetrust-pc-sdk .ot-vlst-cntr{margin-bottom:0}#onetrust-pc-sdk .ot-hlst-cntr{margin-top:5px;display:inline-block;width:100%}#onetrust-pc-sdk .category-vendors-list-handler,#onetrust-pc-sdk .category-vendors-list-handler+a,#onetrust-pc-sdk .category-host-list-handler{clear:both;color:#3860be;margin-left:0;font-size:.813em;text-decoration:none;float:left;overflow:hidden}#onetrust-pc-sdk .category-vendors-list-handler:hover,#onetrust-pc-sdk .category-vendors-list-handler+a:hover,#onetrust-pc-sdk .category-host-list-handler:hover{color:#1883fd}#onetrust-pc-sdk .category-vendors-list-handler+a{clear:none}#onetrust-pc-sdk .category-vendors-list-handler+a::after{content:"";height:15px;width:15px;background-repeat:no-repeat;margin-left:5px;float:right;background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 511.626 511.627'%3E%3Cg fill='%231276CE'%3E%3Cpath d='M392.857 292.354h-18.274c-2.669 0-4.859.855-6.563 2.573-1.718 1.708-2.573 3.897-2.573 6.563v91.361c0 12.563-4.47 23.315-13.415 32.262-8.945 8.945-19.701 13.414-32.264 13.414H82.224c-12.562 0-23.317-4.469-32.264-13.414-8.945-8.946-13.417-19.698-13.417-32.262V155.31c0-12.562 4.471-23.313 13.417-32.259 8.947-8.947 19.702-13.418 32.264-13.418h200.994c2.669 0 4.859-.859 6.57-2.57 1.711-1.713 2.566-3.9 2.566-6.567V82.221c0-2.662-.855-4.853-2.566-6.563-1.711-1.713-3.901-2.568-6.57-2.568H82.224c-22.648 0-42.016 8.042-58.102 24.125C8.042 113.297 0 132.665 0 155.313v237.542c0 22.647 8.042 42.018 24.123 58.095 16.086 16.084 35.454 24.13 58.102 24.13h237.543c22.647 0 42.017-8.046 58.101-24.13 16.085-16.077 24.127-35.447 24.127-58.095v-91.358c0-2.669-.856-4.859-2.574-6.57-1.713-1.718-3.903-2.573-6.565-2.573z'/%3E%3Cpath d='M506.199 41.971c-3.617-3.617-7.905-5.424-12.85-5.424H347.171c-4.948 0-9.233 1.807-12.847 5.424-3.617 3.615-5.428 7.898-5.428 12.847s1.811 9.233 5.428 12.85l50.247 50.248-186.147 186.151c-1.906 1.903-2.856 4.093-2.856 6.563 0 2.479.953 4.668 2.856 6.571l32.548 32.544c1.903 1.903 4.093 2.852 6.567 2.852s4.665-.948 6.567-2.852l186.148-186.148 50.251 50.248c3.614 3.617 7.898 5.426 12.847 5.426s9.233-1.809 12.851-5.426c3.617-3.616 5.424-7.898 5.424-12.847V54.818c-.001-4.952-1.814-9.232-5.428-12.847z'/%3E%3C/g%3E%3C/svg%3E")}#onetrust-pc-sdk .back-btn-handler{font-size:1em;text-decoration:none}#onetrust-pc-sdk .back-btn-handler:hover{opacity:.6}#onetrust-pc-sdk #ot-lst-title span{display:inline-block;word-break:break-word;word-wrap:break-word;margin-bottom:0;color:#656565;font-size:1em;font-weight:bold;margin-left:15px}#onetrust-pc-sdk #ot-lst-title{margin:10px 0 10px 0px;font-size:1em;text-align:left}#onetrust-pc-sdk #ot-pc-hdr{margin:0 0 0 30px;height:auto;width:auto}#onetrust-pc-sdk #ot-pc-hdr input::placeholder{color:#d4d4d4;font-style:italic}#onetrust-pc-sdk #vendor-search-handler{height:31px;width:100%;border-radius:50px;font-size:.8em;padding-right:35px;padding-left:15px;float:left;margin-left:15px}#onetrust-pc-sdk .ot-ven-name{display:block;width:auto;padding-right:5px}#onetrust-pc-sdk #ot-lst-cnt{overflow-y:auto;margin-left:20px;margin-right:7px;width:calc(100% - 27px);max-height:calc(100% - 80px);height:100%;transform:translate3d(0, 0, 0)}#onetrust-pc-sdk #ot-pc-lst{width:100%;bottom:100px;position:absolute;top:60px}#onetrust-pc-sdk #ot-pc-lst:not(.ot-enbl-chr) .ot-tgl-cntr .ot-arw-cntr,#onetrust-pc-sdk #ot-pc-lst:not(.ot-enbl-chr) .ot-tgl-cntr .ot-arw-cntr *{visibility:hidden}#onetrust-pc-sdk #ot-pc-lst .ot-tgl-cntr{right:12px;position:absolute}#onetrust-pc-sdk #ot-pc-lst .ot-arw-cntr{float:right;position:relative}#onetrust-pc-sdk #ot-pc-lst .ot-arw{margin-left:10px}#onetrust-pc-sdk #ot-pc-lst .ot-acc-hdr{overflow:hidden;cursor:pointer}#onetrust-pc-sdk .ot-vlst-cntr{overflow:hidden}#onetrust-pc-sdk #ot-sel-blk{overflow:hidden;width:100%;position:sticky;position:-webkit-sticky;top:0;z-index:3}#onetrust-pc-sdk #ot-back-arw{height:12px;width:12px}#onetrust-pc-sdk .ot-lst-subhdr{width:100%;display:inline-block}#onetrust-pc-sdk .ot-search-cntr{float:left;width:78%;position:relative}#onetrust-pc-sdk .ot-search-cntr>svg{width:30px;height:30px;position:absolute;float:left;right:-15px}#onetrust-pc-sdk .ot-fltr-cntr{float:right;right:50px;position:relative}#onetrust-pc-sdk #filter-btn-handler{background-color:#3860be;border-radius:17px;display:inline-block;position:relative;width:32px;height:32px;-moz-transition:.1s ease;-o-transition:.1s ease;-webkit-transition:1s ease;transition:.1s ease;padding:0;margin:0}#onetrust-pc-sdk #filter-btn-handler:hover{background-color:#3860be}#onetrust-pc-sdk #filter-btn-handler svg{width:12px;height:12px;margin:3px 10px 0 10px;display:block;position:static;right:auto;top:auto}#onetrust-pc-sdk .ot-ven-link{color:#3860be;text-decoration:none;font-weight:100;display:inline-block;padding-top:10px;transform:translate(0, 1%);-o-transform:translate(0, 1%);-ms-transform:translate(0, 1%);-webkit-transform:translate(0, 1%);position:relative;z-index:2}#onetrust-pc-sdk .ot-ven-link *{font-size:inherit}#onetrust-pc-sdk .ot-ven-link:hover{text-decoration:underline}#onetrust-pc-sdk .ot-ven-hdr{width:calc(100% - 160px);height:auto;float:left;word-break:break-word;word-wrap:break-word;vertical-align:middle;padding-bottom:3px}#onetrust-pc-sdk .ot-ven-link{letter-spacing:.03em;font-size:.75em;font-weight:400}#onetrust-pc-sdk .ot-ven-dets{border-radius:2px;background-color:#f8f8f8}#onetrust-pc-sdk .ot-ven-dets div:first-child p:first-child{border-top:none}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:not(:first-child){border-top:1px solid #e9e9e9}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:nth-child(n+3) p{display:inline-block}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:nth-child(n+3) p:nth-of-type(odd){width:30%}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc:nth-child(n+3) p:nth-of-type(even){width:50%;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-ven-dets .ot-ven-disc p{padding-top:5px;padding-bottom:5px;display:block}#onetrust-pc-sdk .ot-ven-dets p{font-size:.69em;text-align:left;vertical-align:middle;word-break:break-word;word-wrap:break-word;margin:0;padding-bottom:10px;padding-left:15px;color:#2e3644}#onetrust-pc-sdk .ot-ven-dets p:first-child{padding-top:5px}#onetrust-pc-sdk .ot-ven-dets .ot-ven-pur p:first-child{border-top:1px solid #e9e9e9;border-bottom:1px solid #e9e9e9;padding-bottom:5px;margin-bottom:5px;font-weight:bold}#onetrust-pc-sdk #ot-host-lst .ot-sel-all{float:right;position:relative;margin-right:42px;top:10px}#onetrust-pc-sdk #ot-host-lst .ot-sel-all input[type=checkbox]{width:auto;height:auto}#onetrust-pc-sdk #ot-host-lst .ot-sel-all label{height:20px;width:20px;padding-left:0px}#onetrust-pc-sdk #ot-host-lst .ot-acc-txt{overflow:hidden;width:95%}#onetrust-pc-sdk .ot-host-hdr{position:relative;z-index:1;pointer-events:none;width:calc(100% - 125px);float:left}#onetrust-pc-sdk .ot-host-name,#onetrust-pc-sdk .ot-host-desc{display:inline-block;width:90%}#onetrust-pc-sdk .ot-host-name{pointer-events:none}#onetrust-pc-sdk .ot-host-hdr>a{text-decoration:underline;font-size:.82em;position:relative;z-index:2;float:left;margin-bottom:5px;pointer-events:initial}#onetrust-pc-sdk .ot-host-name+a{margin-top:5px}#onetrust-pc-sdk .ot-host-name,#onetrust-pc-sdk .ot-host-name a,#onetrust-pc-sdk .ot-host-desc,#onetrust-pc-sdk .ot-host-info{color:dimgray;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-host-name,#onetrust-pc-sdk .ot-host-name a{font-weight:bold;font-size:.82em;line-height:1.3}#onetrust-pc-sdk .ot-host-name a{font-size:1em}#onetrust-pc-sdk .ot-host-expand{margin-top:3px;margin-bottom:3px;clear:both;display:block;color:#3860be;font-size:.72em;font-weight:normal}#onetrust-pc-sdk .ot-host-expand *{font-size:inherit}#onetrust-pc-sdk .ot-host-desc,#onetrust-pc-sdk .ot-host-info{font-size:.688em;line-height:1.4;font-weight:normal}#onetrust-pc-sdk .ot-host-desc{margin-top:10px}#onetrust-pc-sdk .ot-host-opt{margin:0;font-size:inherit;display:inline-block;width:100%}#onetrust-pc-sdk .ot-host-opt li>div div{font-size:.8em;padding:5px 0}#onetrust-pc-sdk .ot-host-opt li>div div:nth-child(1){width:30%;float:left}#onetrust-pc-sdk .ot-host-opt li>div div:nth-child(2){width:70%;float:left;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-host-info{border:none;display:inline-block;width:calc(100% - 10px);padding:10px;margin-bottom:10px;background-color:#f8f8f8}#onetrust-pc-sdk .ot-host-info>div{overflow:auto}#onetrust-pc-sdk #no-results{text-align:center;margin-top:30px}#onetrust-pc-sdk #no-results p{font-size:1em;color:#2e3644;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk #no-results p span{font-weight:bold}#onetrust-pc-sdk #ot-fltr-modal{width:100%;height:auto;display:none;-moz-transition:.2s ease;-o-transition:.2s ease;-webkit-transition:2s ease;transition:.2s ease;overflow:hidden;opacity:1;right:0}#onetrust-pc-sdk #ot-fltr-modal .ot-label-txt{display:inline-block;font-size:.85em;color:dimgray}#onetrust-pc-sdk #ot-fltr-cnt{z-index:2147483646;background-color:#fff;position:absolute;height:90%;max-height:300px;width:325px;left:210px;margin-top:10px;margin-bottom:20px;padding-right:10px;border-radius:3px;-webkit-box-shadow:0px 0px 12px 2px #c7c5c7;-moz-box-shadow:0px 0px 12px 2px #c7c5c7;box-shadow:0px 0px 12px 2px #c7c5c7}#onetrust-pc-sdk .ot-fltr-scrlcnt{overflow-y:auto;overflow-x:hidden;clear:both;max-height:calc(100% - 60px)}#onetrust-pc-sdk #ot-anchor{border:12px solid transparent;display:none;position:absolute;z-index:2147483647;right:55px;top:75px;transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);-webkit-transform:rotate(45deg);background-color:#fff;-webkit-box-shadow:-3px -3px 5px -2px #c7c5c7;-moz-box-shadow:-3px -3px 5px -2px #c7c5c7;box-shadow:-3px -3px 5px -2px #c7c5c7}#onetrust-pc-sdk .ot-fltr-btns{margin-left:15px}#onetrust-pc-sdk #filter-apply-handler{margin-right:15px}#onetrust-pc-sdk .ot-fltr-opt{margin-bottom:25px;margin-left:15px;width:75%;position:relative}#onetrust-pc-sdk .ot-fltr-opt p{display:inline-block;margin:0;font-size:.9em;color:#2e3644}#onetrust-pc-sdk .ot-chkbox label span{font-size:.85em;color:dimgray}#onetrust-pc-sdk .ot-chkbox input[type=checkbox]+label::after{content:none;color:#fff}#onetrust-pc-sdk .ot-chkbox input[type=checkbox]:checked+label::after{content:""}#onetrust-pc-sdk .ot-chkbox input[type=checkbox]:focus+label::before{outline-style:solid;outline-width:2px;outline-style:auto}#onetrust-pc-sdk #ot-selall-vencntr,#onetrust-pc-sdk #ot-selall-adtlvencntr,#onetrust-pc-sdk #ot-selall-hostcntr,#onetrust-pc-sdk #ot-selall-licntr,#onetrust-pc-sdk #ot-selall-gnvencntr{right:15px;position:relative;width:20px;height:20px;float:right}#onetrust-pc-sdk #ot-selall-vencntr label,#onetrust-pc-sdk #ot-selall-adtlvencntr label,#onetrust-pc-sdk #ot-selall-hostcntr label,#onetrust-pc-sdk #ot-selall-licntr label,#onetrust-pc-sdk #ot-selall-gnvencntr label{float:left;padding-left:0}#onetrust-pc-sdk #ot-ven-lst:first-child{border-top:1px solid #e2e2e2}#onetrust-pc-sdk ul{list-style:none;padding:0}#onetrust-pc-sdk ul li{position:relative;margin:0;padding:15px 15px 15px 10px;border-bottom:1px solid #e2e2e2}#onetrust-pc-sdk ul li h3{font-size:.75em;color:#656565;margin:0;display:inline-block;width:70%;height:auto;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk ul li p{margin:0;font-size:.7em}#onetrust-pc-sdk ul li input[type=checkbox]{position:absolute;cursor:pointer;width:100%;height:100%;opacity:0;margin:0;top:0;left:0}#onetrust-pc-sdk .ot-cat-item>button:focus,#onetrust-pc-sdk .ot-acc-cntr>button:focus,#onetrust-pc-sdk li>button:focus{outline:#000 solid 2px}#onetrust-pc-sdk .ot-cat-item>button,#onetrust-pc-sdk .ot-acc-cntr>button,#onetrust-pc-sdk li>button{position:absolute;cursor:pointer;width:100%;height:100%;margin:0;top:0;left:0;z-index:1;max-width:none;border:none}#onetrust-pc-sdk .ot-cat-item>button[aria-expanded=false]~.ot-acc-txt,#onetrust-pc-sdk .ot-acc-cntr>button[aria-expanded=false]~.ot-acc-txt,#onetrust-pc-sdk li>button[aria-expanded=false]~.ot-acc-txt{margin-top:0;max-height:0;opacity:0;overflow:hidden;width:100%;transition:.25s ease-out;display:none}#onetrust-pc-sdk .ot-cat-item>button[aria-expanded=true]~.ot-acc-txt,#onetrust-pc-sdk .ot-acc-cntr>button[aria-expanded=true]~.ot-acc-txt,#onetrust-pc-sdk li>button[aria-expanded=true]~.ot-acc-txt{transition:.1s ease-in;margin-top:10px;width:100%;overflow:auto;display:block}#onetrust-pc-sdk .ot-cat-item>button[aria-expanded=true]~.ot-acc-grpcntr,#onetrust-pc-sdk .ot-acc-cntr>button[aria-expanded=true]~.ot-acc-grpcntr,#onetrust-pc-sdk li>button[aria-expanded=true]~.ot-acc-grpcntr{width:auto;margin-top:0px;padding-bottom:10px}#onetrust-pc-sdk .ot-host-item>button:focus,#onetrust-pc-sdk .ot-ven-item>button:focus{outline:0;border:2px solid #000}#onetrust-pc-sdk .ot-hide-acc>button{pointer-events:none}#onetrust-pc-sdk .ot-hide-acc .ot-plus-minus>*,#onetrust-pc-sdk .ot-hide-acc .ot-arw-cntr>*{visibility:hidden}#onetrust-pc-sdk .ot-hide-acc .ot-acc-hdr{min-height:30px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt){padding-right:10px;width:calc(100% - 37px);margin-top:10px;max-height:calc(100% - 90px)}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) #ot-sel-blk{background-color:#f9f9fc;border:1px solid #e2e2e2;width:calc(100% - 2px);padding-bottom:5px;padding-top:5px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) .ot-sel-all{padding-right:34px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) .ot-sel-all-chkbox{width:auto}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) ul li{border:1px solid #e2e2e2;margin-bottom:10px}#onetrust-pc-sdk.ot-addtl-vendors #ot-lst-cnt:not(.ot-host-cnt) .ot-acc-cntr>.ot-acc-hdr{padding:10px 0 10px 15px}#onetrust-pc-sdk.ot-addtl-vendors .ot-sel-all-chkbox{float:right}#onetrust-pc-sdk.ot-addtl-vendors .ot-plus-minus~.ot-sel-all-chkbox{right:34px}#onetrust-pc-sdk.ot-addtl-vendors #ot-ven-lst:first-child{border-top:none}#onetrust-pc-sdk .ot-acc-cntr{position:relative;border-left:1px solid #e2e2e2;border-right:1px solid #e2e2e2;border-bottom:1px solid #e2e2e2}#onetrust-pc-sdk .ot-acc-cntr input{z-index:1}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr{background-color:#f9f9fc;padding:5px 0 5px 15px;width:auto}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr .ot-plus-minus{vertical-align:middle;top:auto}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr .ot-arw-cntr{right:10px}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-hdr input{z-index:2}#onetrust-pc-sdk .ot-acc-cntr>input[type=checkbox]:checked~.ot-acc-hdr{border-bottom:1px solid #e2e2e2}#onetrust-pc-sdk .ot-acc-cntr>.ot-acc-txt{padding-left:10px;padding-right:10px}#onetrust-pc-sdk .ot-acc-cntr button[aria-expanded=true]~.ot-acc-txt{width:auto}#onetrust-pc-sdk .ot-acc-cntr .ot-addtl-venbox{display:none}#onetrust-pc-sdk .ot-vlst-cntr{margin-bottom:0;width:100%}#onetrust-pc-sdk .ot-vensec-title{font-size:.813em;vertical-align:middle;display:inline-block}#onetrust-pc-sdk .category-vendors-list-handler,#onetrust-pc-sdk .category-vendors-list-handler+a{margin-left:0;margin-top:10px}#onetrust-pc-sdk #ot-selall-vencntr.line-through label::after,#onetrust-pc-sdk #ot-selall-adtlvencntr.line-through label::after,#onetrust-pc-sdk #ot-selall-licntr.line-through label::after,#onetrust-pc-sdk #ot-selall-hostcntr.line-through label::after,#onetrust-pc-sdk #ot-selall-gnvencntr.line-through label::after{height:auto;border-left:0;transform:none;-o-transform:none;-ms-transform:none;-webkit-transform:none;left:5px;top:9px}#onetrust-pc-sdk #ot-category-title{float:left;padding-bottom:10px;font-size:1em;width:100%}#onetrust-pc-sdk .ot-cat-grp{margin-top:10px}#onetrust-pc-sdk .ot-cat-item{line-height:1.1;margin-top:10px;display:inline-block;width:100%}#onetrust-pc-sdk .ot-btn-container{text-align:right}#onetrust-pc-sdk .ot-btn-container button{display:inline-block;font-size:.75em;letter-spacing:.08em;margin-top:19px}#onetrust-pc-sdk #close-pc-btn-handler.ot-close-icon{position:absolute;top:10px;right:0;z-index:1;padding:0;background-color:transparent;border:none}#onetrust-pc-sdk #close-pc-btn-handler.ot-close-icon:hover{opacity:.7}#onetrust-pc-sdk #close-pc-btn-handler.ot-close-icon svg{display:block;height:10px;width:10px}#onetrust-pc-sdk #clear-filters-handler{margin-top:20px;margin-bottom:10px;float:right;max-width:200px;text-decoration:none;color:#3860be;font-size:.9em;font-weight:bold;background-color:transparent;border-color:transparent;padding:1px}#onetrust-pc-sdk #clear-filters-handler:hover{color:#2285f7}#onetrust-pc-sdk #clear-filters-handler:focus{outline:#000 solid 1px}#onetrust-pc-sdk .ot-accordion-layout.ot-cat-item{position:relative;border-radius:2px;margin:0;padding:0;border:1px solid #d8d8d8;border-top:none;width:calc(100% - 2px);float:left}#onetrust-pc-sdk .ot-accordion-layout.ot-cat-item:first-of-type{margin-top:10px;border-top:1px solid #d8d8d8}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpdesc{padding-left:20px;padding-right:20px;width:calc(100% - 40px);font-size:.812em;margin-bottom:10px;margin-top:15px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpdesc>ul{padding-top:10px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpdesc>ul li{padding-top:0;line-height:1.5;padding-bottom:10px}#onetrust-pc-sdk .ot-accordion-layout div+.ot-acc-grpdesc{margin-top:5px}#onetrust-pc-sdk .ot-accordion-layout .ot-vlst-cntr:first-child{margin-top:10px}#onetrust-pc-sdk .ot-accordion-layout .ot-vlst-cntr:last-child,#onetrust-pc-sdk .ot-accordion-layout .ot-hlst-cntr:last-child{margin-bottom:5px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-hdr{padding-top:11.5px;padding-bottom:11.5px;padding-left:20px;padding-right:20px;width:calc(100% - 40px);display:inline-block}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-txt{width:100%;padding:0px}#onetrust-pc-sdk .ot-accordion-layout .ot-subgrp-cntr{padding-left:20px;padding-right:15px;padding-bottom:0;width:calc(100% - 35px)}#onetrust-pc-sdk .ot-accordion-layout .ot-subgrp{padding-right:5px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-grpcntr{z-index:1;position:relative}#onetrust-pc-sdk .ot-accordion-layout .ot-cat-header+.ot-arw-cntr{position:absolute;top:50%;transform:translateY(-50%);right:20px;margin-top:-2px}#onetrust-pc-sdk .ot-accordion-layout .ot-cat-header+.ot-arw-cntr .ot-arw{width:15px;height:20px;margin-left:5px;color:dimgray}#onetrust-pc-sdk .ot-accordion-layout .ot-cat-header{float:none;color:#2e3644;margin:0;display:inline-block;height:auto;word-wrap:break-word;min-height:inherit}#onetrust-pc-sdk .ot-accordion-layout .ot-vlst-cntr,#onetrust-pc-sdk .ot-accordion-layout .ot-hlst-cntr{padding-left:20px;width:calc(100% - 20px);display:inline-block;margin-top:0px;padding-bottom:2px}#onetrust-pc-sdk .ot-accordion-layout .ot-acc-hdr{position:relative;min-height:25px}#onetrust-pc-sdk .ot-accordion-layout h4~.ot-tgl,#onetrust-pc-sdk .ot-accordion-layout h4~.ot-always-active{position:absolute;top:50%;transform:translateY(-50%);right:20px}#onetrust-pc-sdk .ot-accordion-layout h4~.ot-tgl+.ot-tgl{right:95px}#onetrust-pc-sdk .ot-accordion-layout .category-vendors-list-handler,#onetrust-pc-sdk .ot-accordion-layout .category-vendors-list-handler+a{margin-top:5px}#onetrust-pc-sdk .ot-enbl-chr h4~.ot-tgl,#onetrust-pc-sdk .ot-enbl-chr h4~.ot-always-active{right:45px}#onetrust-pc-sdk .ot-enbl-chr h4~.ot-tgl+.ot-tgl{right:120px}#onetrust-pc-sdk .ot-enbl-chr .ot-pli-hdr.ot-leg-border-color span:first-child{width:90px}#onetrust-pc-sdk .ot-enbl-chr li.ot-subgrp>h5+.ot-tgl-cntr{padding-right:25px}#onetrust-pc-sdk .ot-plus-minus{width:20px;height:20px;font-size:1.5em;position:relative;display:inline-block;margin-right:5px;top:3px}#onetrust-pc-sdk .ot-plus-minus span{position:absolute;background:#27455c;border-radius:1px}#onetrust-pc-sdk .ot-plus-minus span:first-of-type{top:25%;bottom:25%;width:10%;left:45%}#onetrust-pc-sdk .ot-plus-minus span:last-of-type{left:25%;right:25%;height:10%;top:45%}#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-arw,#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-plus-minus span:first-of-type,#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-plus-minus span:last-of-type{transform:rotate(90deg)}#onetrust-pc-sdk button[aria-expanded=true]~.ot-acc-hdr .ot-plus-minus span:last-of-type{left:50%;right:50%}#onetrust-pc-sdk #ot-selall-vencntr label,#onetrust-pc-sdk #ot-selall-adtlvencntr label,#onetrust-pc-sdk #ot-selall-hostcntr label,#onetrust-pc-sdk #ot-selall-licntr label{position:relative;display:inline-block;width:20px;height:20px}#onetrust-pc-sdk .ot-host-item .ot-plus-minus,#onetrust-pc-sdk .ot-ven-item .ot-plus-minus{float:left;margin-right:8px;top:10px}#onetrust-pc-sdk .ot-pli-hdr{color:#77808e;overflow:hidden;padding-top:7.5px;padding-bottom:7.5px;width:calc(100% - 2px);border-top-left-radius:3px;border-top-right-radius:3px}#onetrust-pc-sdk .ot-pli-hdr span:first-child{top:50%;transform:translateY(50%);max-width:90px}#onetrust-pc-sdk .ot-pli-hdr span:last-child{padding-right:10px;max-width:95px;text-align:center}#onetrust-pc-sdk .ot-li-title{float:right;font-size:.813em}#onetrust-pc-sdk .ot-pli-hdr.ot-leg-border-color{background-color:#f4f4f4;border:1px solid #d8d8d8}#onetrust-pc-sdk .ot-pli-hdr.ot-leg-border-color span:first-child{text-align:left;width:70px}#onetrust-pc-sdk li.ot-subgrp>h5,#onetrust-pc-sdk .ot-cat-header{width:calc(100% - 130px)}#onetrust-pc-sdk li.ot-subgrp>h5+.ot-tgl-cntr{padding-left:13px}#onetrust-pc-sdk .ot-acc-grpcntr .ot-acc-grpdesc{margin-bottom:5px}#onetrust-pc-sdk .ot-acc-grpcntr .ot-subgrp-cntr{border-top:1px solid #d8d8d8}#onetrust-pc-sdk .ot-acc-grpcntr .ot-vlst-cntr+.ot-subgrp-cntr{border-top:none}#onetrust-pc-sdk .ot-acc-hdr .ot-arw-cntr+.ot-tgl-cntr,#onetrust-pc-sdk .ot-acc-txt h4+.ot-tgl-cntr{padding-left:13px}#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item .ot-subgrp>h5,#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item .ot-cat-header{width:calc(100% - 145px)}#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item h5+.ot-tgl-cntr,#onetrust-pc-sdk .ot-pli-hdr~.ot-cat-item .ot-cat-header+.ot-tgl{padding-left:28px}#onetrust-pc-sdk .ot-sel-all-hdr,#onetrust-pc-sdk .ot-sel-all-chkbox{display:inline-block;width:100%;position:relative}#onetrust-pc-sdk .ot-sel-all-chkbox{z-index:1}#onetrust-pc-sdk .ot-sel-all{margin:0;position:relative;padding-right:23px;float:right}#onetrust-pc-sdk .ot-consent-hdr,#onetrust-pc-sdk .ot-li-hdr{float:right;font-size:.812em;line-height:normal;text-align:center;word-break:break-word;word-wrap:break-word}#onetrust-pc-sdk .ot-li-hdr{max-width:100px;padding-right:10px}#onetrust-pc-sdk .ot-consent-hdr{max-width:55px}#onetrust-pc-sdk #ot-selall-licntr{display:block;width:21px;height:auto;float:right;position:relative;right:80px}#onetrust-pc-sdk #ot-selall-licntr label{position:absolute}#onetrust-pc-sdk .ot-ven-ctgl{margin-left:66px}#onetrust-pc-sdk .ot-ven-litgl+.ot-arw-cntr{margin-left:81px}#onetrust-pc-sdk .ot-enbl-chr .ot-host-cnt .ot-tgl-cntr{width:auto}#onetrust-pc-sdk #ot-lst-cnt:not(.ot-host-cnt) .ot-tgl-cntr{width:auto;top:auto;height:20px}#onetrust-pc-sdk #ot-lst-cnt .ot-chkbox{position:relative;display:inline-block;width:20px;height:20px}#onetrust-pc-sdk #ot-lst-cnt .ot-chkbox label{position:absolute;padding:0;width:20px;height:20px}#onetrust-pc-sdk .ot-acc-grpdesc+.ot-leg-btn-container{padding-left:20px;padding-right:20px;width:calc(100% - 40px);margin-bottom:5px}#onetrust-pc-sdk .ot-subgrp .ot-leg-btn-container{margin-bottom:5px}#onetrust-pc-sdk #ot-ven-lst .ot-leg-btn-container{margin-top:10px}#onetrust-pc-sdk .ot-leg-btn-container{display:inline-block;width:100%;margin-bottom:10px}#onetrust-pc-sdk .ot-leg-btn-container button{height:auto;padding:6.5px 8px;margin-bottom:0;letter-spacing:0;font-size:.75em;line-height:normal}#onetrust-pc-sdk .ot-leg-btn-container svg{display:none;height:14px;width:14px;padding-right:5px;vertical-align:sub}#onetrust-pc-sdk .ot-active-leg-btn{cursor:default;pointer-events:none}#onetrust-pc-sdk .ot-active-leg-btn svg{display:inline-block}#onetrust-pc-sdk .ot-remove-objection-handler{text-decoration:underline;padding:0;font-size:.75em;font-weight:600;line-height:1;padding-left:10px}#onetrust-pc-sdk .ot-obj-leg-btn-handler span{font-weight:bold;text-align:center;font-size:inherit;line-height:1.5}#onetrust-pc-sdk.ot-close-btn-link #close-pc-btn-handler{border:none;height:auto;line-height:1.5;text-decoration:underline;font-size:.69em;background:none;right:15px;top:15px;width:auto;font-weight:normal}#onetrust-pc-sdk[dir=rtl] #ot-back-arw,#onetrust-pc-sdk[dir=rtl] input~.ot-acc-hdr .ot-arw{transform:rotate(180deg);-o-transform:rotate(180deg);-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg)}#onetrust-pc-sdk[dir=rtl] input:checked~.ot-acc-hdr .ot-arw{transform:rotate(270deg);-o-transform:rotate(270deg);-ms-transform:rotate(270deg);-webkit-transform:rotate(270deg)}#onetrust-pc-sdk[dir=rtl] .ot-chkbox label::after{transform:rotate(45deg);-webkit-transform:rotate(45deg);-o-transform:rotate(45deg);-ms-transform:rotate(45deg);border-left:0;border-right:3px solid}#onetrust-pc-sdk[dir=rtl] .ot-search-cntr>svg{right:0}@media only screen and (max-width: 600px){#onetrust-pc-sdk.otPcCenter{left:0;min-width:100%;height:100%;top:0;border-radius:0}#onetrust-pc-sdk #ot-pc-content,#onetrust-pc-sdk.ot-ftr-stacked .ot-btn-container{margin:1px 3px 0 10px;padding-right:10px;width:calc(100% - 23px)}#onetrust-pc-sdk .ot-btn-container button{max-width:none;letter-spacing:.01em}#onetrust-pc-sdk #close-pc-btn-handler{top:10px;right:17px}#onetrust-pc-sdk p{font-size:.7em}#onetrust-pc-sdk #ot-pc-hdr{margin:10px 10px 0 5px;width:calc(100% - 15px)}#onetrust-pc-sdk .vendor-search-handler{font-size:1em}#onetrust-pc-sdk #ot-back-arw{margin-left:12px}#onetrust-pc-sdk #ot-lst-cnt{margin:0;padding:0 5px 0 10px;min-width:95%}#onetrust-pc-sdk .switch+p{max-width:80%}#onetrust-pc-sdk .ot-ftr-stacked button{width:100%}#onetrust-pc-sdk #ot-fltr-cnt{max-width:320px;width:90%;border-top-right-radius:0;border-bottom-right-radius:0;margin:0;margin-left:15px;left:auto;right:40px;top:85px}#onetrust-pc-sdk .ot-fltr-opt{margin-left:25px;margin-bottom:10px}#onetrust-pc-sdk .ot-pc-refuse-all-handler{margin-bottom:0}#onetrust-pc-sdk #ot-fltr-cnt{right:40px}}@media only screen and (max-width: 476px){#onetrust-pc-sdk .ot-fltr-cntr,#onetrust-pc-sdk #ot-fltr-cnt{right:10px}#onetrust-pc-sdk #ot-anchor{right:25px}#onetrust-pc-sdk button{width:100%}#onetrust-pc-sdk:not(.ot-addtl-vendors) #ot-pc-lst:not(.ot-enbl-chr) .ot-sel-all{padding-right:9px}#onetrust-pc-sdk:not(.ot-addtl-vendors) #ot-pc-lst:not(.ot-enbl-chr) .ot-tgl-cntr{right:0}}@media only screen and (max-width: 896px)and (max-height: 425px)and (orientation: landscape){#onetrust-pc-sdk.otPcCenter{left:0;top:0;min-width:100%;height:100%;border-radius:0}#onetrust-pc-sdk #ot-anchor{left:initial;right:50px}#onetrust-pc-sdk #ot-lst-title{margin-top:12px}#onetrust-pc-sdk #ot-lst-title *{font-size:inherit}#onetrust-pc-sdk #ot-pc-hdr input{margin-right:0;padding-right:45px}#onetrust-pc-sdk .switch+p{max-width:85%}#onetrust-pc-sdk #ot-sel-blk{position:static}#onetrust-pc-sdk #ot-pc-lst{overflow:auto}#onetrust-pc-sdk #ot-lst-cnt{max-height:none;overflow:initial}#onetrust-pc-sdk #ot-lst-cnt.no-results{height:auto}#onetrust-pc-sdk input{font-size:1em !important}#onetrust-pc-sdk p{font-size:.6em}#onetrust-pc-sdk #ot-fltr-modal{width:100%;top:0}#onetrust-pc-sdk ul li p,#onetrust-pc-sdk .category-vendors-list-handler,#onetrust-pc-sdk .category-vendors-list-handler+a,#onetrust-pc-sdk .category-host-list-handler{font-size:.6em}#onetrust-pc-sdk.ot-shw-fltr #ot-anchor{display:none !important}#onetrust-pc-sdk.ot-shw-fltr #ot-pc-lst{height:100% !important;overflow:hidden;top:0px}#onetrust-pc-sdk.ot-shw-fltr #ot-fltr-cnt{margin:0;height:100%;max-height:none;padding:10px;top:0;width:calc(100% - 20px);position:absolute;right:0;left:0;max-width:none}#onetrust-pc-sdk.ot-shw-fltr .ot-fltr-scrlcnt{max-height:calc(100% - 65px)}}
            #onetrust-consent-sdk #onetrust-pc-sdk,
                #onetrust-consent-sdk #ot-search-cntr,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-switch.ot-toggle,
                #onetrust-consent-sdk #onetrust-pc-sdk ot-grp-hdr1 .checkbox,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-title:after
                ,#onetrust-consent-sdk #onetrust-pc-sdk #ot-sel-blk,
                        #onetrust-consent-sdk #onetrust-pc-sdk #ot-fltr-cnt,
                        #onetrust-consent-sdk #onetrust-pc-sdk #ot-anchor {
                    background-color: #FFFFFF;
                }
               
            #onetrust-consent-sdk #onetrust-pc-sdk h3,
                #onetrust-consent-sdk #onetrust-pc-sdk h4,
                #onetrust-consent-sdk #onetrust-pc-sdk h5,
                #onetrust-consent-sdk #onetrust-pc-sdk h6,
                #onetrust-consent-sdk #onetrust-pc-sdk p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-ven-lst .ot-ven-opts p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-desc,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-title,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-li-title,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-sel-all-hdr span,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-info,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-fltr-modal #modal-header,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-checkbox label span,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst #ot-sel-blk p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst #ot-lst-title span,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst .back-btn-handler p,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst .ot-ven-name,
                #onetrust-consent-sdk #onetrust-pc-sdk #ot-pc-lst #ot-ven-lst .consent-category,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-inactive-leg-btn,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-label-status,
                #onetrust-consent-sdk #onetrust-pc-sdk .ot-chkbox label span,
                #onetrust-consent-sdk #onetrust-pc-sdk #clear-filters-handler 
                {
                    color: #2B2E33;
                }
             #onetrust-consent-sdk #onetrust-pc-sdk .privacy-notice-link,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler + a,
                    #onetrust-consent-sdk #onetrust-pc-sdk .category-host-list-handler,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-ven-link,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-name a,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-acc-hdr .ot-host-expand,
                    #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-info a
                    {
                        color: #635DFF;
                    }
            #onetrust-consent-sdk #onetrust-pc-sdk .category-vendors-list-handler:hover { opacity: .7;}
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-acc-grpcntr.ot-acc-txt,
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-acc-txt .ot-subgrp-tgl .ot-switch.ot-toggle
             {
                background-color: #F8F8F8;
            }
             #onetrust-consent-sdk #onetrust-pc-sdk #ot-host-lst .ot-host-info,
                    #onetrust-consent-sdk #onetrust-pc-sdk .ot-acc-txt .ot-ven-dets
                            {
                                background-color: #F8F8F8;
                            }
        #onetrust-consent-sdk #onetrust-pc-sdk 
            button:not(#clear-filters-handler):not(.ot-close-icon):not(#filter-btn-handler):not(.ot-remove-objection-handler):not(.ot-obj-leg-btn-handler):not([aria-expanded]):not(.ot-link-btn),
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-active-leg-btn {
                background-color: #635DFF;border-color: #635DFF;
                color: #FFFFFF;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-active-menu {
                border-color: #635DFF;
            }
            
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-remove-objection-handler{
                background-color: transparent;
                border: 1px solid transparent;
            }
            #onetrust-consent-sdk #onetrust-pc-sdk .ot-leg-btn-container .ot-inactive-leg-btn {
                background-color: #FFFFFF;
                color: #78808E; border-color: #78808E;
            }
            @media only screen and (max-width: 600px) {
  #onetrust-pc-sdk.ot-ftr-stacked .ot-btn-container {
    margin: 0;
  }
}

#onetrust-pc-sdk * {
  font-family: Inter, sans-serif!important;
}

#onetrust-pc-sdk {
  border-radius: 32px!important;
  height: 695px!important;
  width: 100%!important;
  max-width: 603px!important;
}

#onetrust-pc-sdk #ot-pc-content {
  width: 100%;
  max-width: 603px;
  margin: 0;
  box-sizing: border-box;
  padding: 32px 32px 32px 40px;
}

#onetrust-pc-sdk h2#ot-pc-title, #onetrust-pc-sdk h3#ot-category-title {
  font-weight: 400;
  font-size: 20px;
  line-height: 28px;
  letter-spacing: -0.1px;
  color: #41444B;
  margin: 0 0 16px 0;
  padding: 0;
}

#onetrust-pc-sdk #ot-pc-desc {
  margin-bottom: 16px;
  font-size: 16px;
  line-height: 24px;
  letter-spacing: -0.01px;
  color: #2B2E33;
}

#onetrust-pc-sdk #ot-pc-desc a {
  text-decoration: none;
  font-size: 16px;
  line-height: 24px;
  letter-spacing: -0.01px;
  margin-top: 8px;
  display: block;
}

#onetrust-pc-sdk #ot-pc-desc a:hover {
  color: #564ed1!important;
  opacity: 1;
}

#onetrust-pc-sdk .ot-accordion-layout h4~.ot-always-active{
  color: #635DFF;
}

#onetrust-pc-sdk .ot-pc-header .ot-pc-logo {
  background-size: 90px;
}

#onetrust-pc-sdk .ot-btn-container {
  box-sizing: border-box;
  padding: 0 40px;
}

#onetrust-pc-sdk button#accept-recommended-btn-handler, #onetrust-pc-sdk .ot-btn-container button.ot-pc-refuse-all-handler, #onetrust-pc-sdk .ot-btn-container button.save-preference-btn-handler {
  border-radius: 8px!important;
  font-weight: 400;
  font-size: 16px;
  line-height: 32px;
  letter-spacing: 0;
  padding: 7px 24px;
  min-width: auto;
  margin-bottom: 32px;
  margin-right: 0;
}

#onetrust-pc-sdk button#accept-recommended-btn-handler:hover, #onetrust-pc-sdk .ot-btn-container button.save-preference-btn-handler:hover {
  background: #564ed1!important;
  opacity: 1;
}

#onetrust-pc-sdk .ot-btn-container button.ot-pc-refuse-all-handler {
  background-color: white!important;
  color: #2B2E33!important;
  border-color: #5A6066!important;
  margin-bottom: 0px!important;
}

#onetrust-pc-sdk .ot-btn-container button.ot-pc-refuse-all-handler:hover {
  border-color: #000!important;
  background: white;
  opacity: 1!important;
}

#onetrust-pc-sdk .ot-pc-footer {
  border: none;
}

#onetrust-pc-sdk button#accept-recommended-btn-handler:focus, #onetrust-pc-sdk .ot-btn-container button.ot-pc-refuse-all-handler:focus, #onetrust-pc-sdk .ot-btn-container button.save-preference-btn-handler:focus {
  outline: none!important;
}

.ot-accordion-layout #onetrust-pc-sdk button {
  padding: 8px 16px;
}

#onetrust-pc-sdk .ot-cat-item>button:focus, #onetrust-pc-sdk .ot-acc-cntr>button:focus, #onetrust-pc-sdk li>button:focus {
  outline: none!important;
}

#onetrust-pc-sdk .ot-cat-grp {
  margin-top: 0!important;
}

#onetrust-pc-sdk .ot-accordion-layout.ot-cat-item:first-of-type {
  margin-top: 0!important;
}

#onetrust-pc-sdk .ot-pc-footer-logo {
  margin-left: -11px;
  background-color: #fff;
}.ot-sdk-cookie-policy{font-family:inherit;font-size:16px}.ot-sdk-cookie-policy.otRelFont{font-size:1rem}.ot-sdk-cookie-policy h3,.ot-sdk-cookie-policy h4,.ot-sdk-cookie-policy h6,.ot-sdk-cookie-policy p,.ot-sdk-cookie-policy li,.ot-sdk-cookie-policy a,.ot-sdk-cookie-policy th,.ot-sdk-cookie-policy #cookie-policy-description,.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group,.ot-sdk-cookie-policy #cookie-policy-title{color:dimgray}.ot-sdk-cookie-policy #cookie-policy-description{margin-bottom:1em}.ot-sdk-cookie-policy h4{font-size:1.2em}.ot-sdk-cookie-policy h6{font-size:1em;margin-top:2em}.ot-sdk-cookie-policy th{min-width:75px}.ot-sdk-cookie-policy a,.ot-sdk-cookie-policy a:hover{background:#fff}.ot-sdk-cookie-policy thead{background-color:#f6f6f4;font-weight:bold}.ot-sdk-cookie-policy .ot-mobile-border{display:none}.ot-sdk-cookie-policy section{margin-bottom:2em}.ot-sdk-cookie-policy table{border-collapse:inherit}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy{font-family:inherit;font-size:1rem}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h3,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h4,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h6,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy p,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-title{color:dimgray}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description{margin-bottom:1em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup{margin-left:1.5em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group-desc,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-table-header,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy span,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td{font-size:.9em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td span,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td a{font-size:inherit}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group{font-size:1em;margin-bottom:.6em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-title{margin-bottom:1.2em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy>section{margin-bottom:1em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th{min-width:75px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a:hover{background:#fff}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead{background-color:#f6f6f4;font-weight:bold}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-mobile-border{display:none}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy section{margin-bottom:2em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup ul li{list-style:disc;margin-left:1.5em}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-subgroup ul li h4{display:inline-block}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table{border-collapse:inherit;margin:auto;border:1px solid #d7d7d7;border-radius:5px;border-spacing:initial;width:100%;overflow:hidden}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table td{border-bottom:1px solid #d7d7d7;border-right:1px solid #d7d7d7}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td{border-bottom:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr th:last-child,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr td:last-child{border-right:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-host,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-cookies-type{width:25%}.ot-sdk-cookie-policy[dir=rtl]{text-align:left}#ot-sdk-cookie-policy h3{font-size:1.5em}@media only screen and (max-width: 530px){.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) table,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) thead,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tbody,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) th,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td,.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr{display:block}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) thead tr{position:absolute;top:-9999px;left:-9999px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr{margin:0 0 1em 0}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr:nth-child(odd),.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) tr:nth-child(odd) a{background:#f6f6f4}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td{border:none;border-bottom:1px solid #eee;position:relative;padding-left:50%}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td:before{position:absolute;height:100%;left:6px;width:40%;padding-right:10px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) .ot-mobile-border{display:inline-block;background-color:#e4e4e4;position:absolute;height:100%;top:0;left:45%;width:2px}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) td:before{content:attr(data-label);font-weight:bold}.ot-sdk-cookie-policy:not(#ot-sdk-cookie-policy-v2) li{word-break:break-word;word-wrap:break-word}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table{overflow:hidden}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table td{border:none;border-bottom:1px solid #d7d7d7}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tbody,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tr{display:block}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-host,#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table .ot-cookies-type{width:auto}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy tr{margin:0 0 1em 0}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td:before{height:100%;width:40%;padding-right:10px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td:before{content:attr(data-label);font-weight:bold}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li{word-break:break-word;word-wrap:break-word}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy thead tr{position:absolute;top:-9999px;left:-9999px;z-index:-9999}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td{border-bottom:1px solid #d7d7d7;border-right:0px}#ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table tr:last-child td:last-child{border-bottom:0px}}
                
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h5,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy h6,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy li,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy p,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy a,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy span,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy td,
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-description {
                        color: #696969;
                    }
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy th {
                        color: #696969;
                    }
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy .ot-sdk-cookie-policy-group {
                        color: #696969;
                    }
                    
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy #cookie-policy-title {
                            color: #696969;
                        }
                    
            
                    #ot-sdk-cookie-policy-v2.ot-sdk-cookie-policy table th {
                            background-color: #F8F8F8;
                        }
                    
            </style><script class="optanon-category-4" type="text/javascript">window.twttr=function(t,e,r){var n,i=t.getElementsByTagName(e)[0],w=window.twttr||{};return t.getElementById(r)?w:((n=t.createElement(e)).id=r,n.src="https://platform.twitter.com/widgets.js",i.parentNode.insertBefore(n,i),w._e=[],w.ready=function(t){w._e.push(t)},w)}(document,"script","twitter-wjs");</script><script class="optanon-category-4" type="text/javascript">(function (h, o, t, j, a, r) {h.hj = h.hj || function () { (h.hj.q = h.hj.q || []).push(arguments) }; h._hjSettings = { hjid: 301495, hjsv: 5 }; a = o.getElementsByTagName('head')[0]; r = o.createElement('script'); r.async = 1; r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv; a.appendChild(r);}(window, document, '//static.hotjar.com/c/hotjar-', '.js?sv='))</script><script async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/hotjar-301495.js"></script><script class="optanon-category-4" type="text/javascript">
                  window._6si = window._6si || [];
                  window._6si.push(['enableEventTracking', true]);
                  window._6si.push(['setToken', '17aa5119e1d44eeab301f44113230d69']);
                  window._6si.push(['setEndpoint', 'b.6sc.co']);
                  (function() {
                  var gd = document.createElement('script');
                  gd.type = 'text/javascript';
                  gd.async = true;
                  gd.src = '//j.6sc.co/6si.min.js';
                  var s = document.getElementsByTagName('script')[0];
                  s.parentNode.insertBefore(gd, s);
                  })();</script><link rel="preload" as="script" href="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/17870831401.js"><script async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/modules.01a02f6e8b126e8c8358.js" charset="utf-8"></script><style type="text/css">iframe#_hjRemoteVarsFrame {display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;}</style><meta http-equiv="origin-trial" content="A7bG5hJ4XpMV5a3V1wwAR0PalkFSxLOZeL9D/YBYdupYUIgUgGhfVJ1zBFOqGybb7gRhswfJ+AmO7S2rNK2IOwkAAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjY5NzY2Mzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><meta http-equiv="origin-trial" content="A7bG5hJ4XpMV5a3V1wwAR0PalkFSxLOZeL9D/YBYdupYUIgUgGhfVJ1zBFOqGybb7gRhswfJ+AmO7S2rNK2IOwkAAAB7eyJvcmlnaW4iOiJodHRwczovL3d3dy5nb29nbGV0YWdtYW5hZ2VyLmNvbTo0NDMiLCJmZWF0dXJlIjoiUHJpdmFjeVNhbmRib3hBZHNBUElzIiwiZXhwaXJ5IjoxNjY5NzY2Mzk5LCJpc1RoaXJkUGFydHkiOnRydWV9"><script type="application/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/3322.js"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/munchkin(1).js"></script><link rel="prefetch" as="style" href="https://c.disquscdn.com/next/embed/styles/lounge.9772024640e1cec8d973cd80fb62abd8.css"><link rel="prefetch" as="script" href="https://c.disquscdn.com/next/embed/common.bundle.33bc87b2c4f9324203cc85b7dd1d0492.js"><link rel="prefetch" as="script" href="https://c.disquscdn.com/next/embed/lounge.bundle.4a4252944de4199d2e7f3e9e3eb9bc54.js"><link rel="prefetch" as="script" href="https://disqus.com/next/config.js"><style type="text/css">.drift-conductor-item iframe,
.drift-frame-controller {
  display: block;
  min-width: 0;
  max-width: none;
  min-height: 0;
  max-height: none;
}

.drift-conductor-item iframe {
  border: none !important;
  background: transparent !important;
  width: 100% !important;
  height: 100% !important;
  max-width: 100% !important;
}

.drift-conductor-item.with-transition {
  -webkit-transition: opacity .5s ease, -webkit-transform .5s ease;
  transition: opacity .5s ease, -webkit-transform .5s ease;
  -o-transition: opacity .5s ease, -o-transform .5s ease;
  -moz-transition: opacity .5s ease, transform .5s ease, -moz-transform .5s ease;
  transition: opacity .5s ease, transform .5s ease;
  transition: opacity .5s ease, transform .5s ease, -webkit-transform .5s ease, -moz-transform .5s ease, -o-transform .5s ease;
}

.drift-frame-chat.with-transition.drift-frame-chat__takeover {
  -webkit-transition: opacity .5s ease;
  -o-transition: opacity .5s ease;
  -moz-transition: opacity .5s ease;
  transition: opacity .5s ease;
}

.drift-conductor-item.with-height-transition {
  -webkit-transition: max-height .5s ease, opacity .5s ease, -webkit-transform .5s ease;
  transition: max-height .5s ease, opacity .5s ease, -webkit-transform .5s ease;
  -o-transition: max-height .5s ease, opacity .5s ease, -o-transform .5s ease;
  -moz-transition: max-height .5s ease, opacity .5s ease, transform .5s ease, -moz-transform .5s ease;
  transition: max-height .5s ease, opacity .5s ease, transform .5s ease;
  transition: max-height .5s ease, opacity .5s ease, transform .5s ease, -webkit-transform .5s ease, -moz-transform .5s ease, -o-transform .5s ease;
}

.drift-conductor-item {
  -webkit-transform: translateZ(0);
     -moz-transform: translateZ(0);
          transform: translateZ(0);
}

.drift-frame-controller {
  bottom: 24px;
}

.drift-frame-controller-align-left {
  left: 24px;
}

.drift-frame-controller-align-right {
  right: 24px;
}

.drift-frame-chat:not(iframe) {
  bottom: -webkit-calc(12px + 52px + 24px);
  bottom: -moz-calc(12px + 52px + 24px);
  bottom: calc(12px + 52px + 24px); /* vertical margin x 2 + widget icon size*/
  width: 100%;
  height: 100%;
  min-width: 320px;
  opacity: 0;
  visibility: hidden;

  -webkit-transform: translateY(88px);

     -moz-transform: translateY(88px);

      -ms-transform: translateY(88px);

       -o-transform: translateY(88px);

          transform: translateY(88px);
}

.drift-frame-chat:not(iframe).drift-chat-open {
  opacity: 1;
  visibility: visible;
  -webkit-transform: translateY(0px);
     -moz-transform: translateY(0px);
      -ms-transform: translateY(0px);
       -o-transform: translateY(0px);
          transform: translateY(0px);
}

.drift-frame-chat.drift-frame-chat__takeover:not(iframe):not(.drift-frame--mobile) {
  min-width: 600px;
}

.drift-frame-chat-align-left {
  left: 12px;
}

.drift-frame-chat-align-right {
  right: 12px;
}

.drift-frame-takeover,
.drift-frame-landingPage,
.drift-frame-chat__takeover {
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  min-height: 100%;
  min-width: 100%;
}

.drift-frame-chat__takeover.hide-frame {
  visibility: hidden;
}

.drift-frame-emailCapture {
  bottom: 0;
  height: -webkit-calc(100% + 30px);
  height: -moz-calc(100% + 30px);
  height: calc(100% + 30px);
}

.drift-frame-emailCapture-align-left {
  left: 0;
}

.drift-frame-emailCapture-align-right {
  right: 0;
}

.drift-frame-slider {
  bottom: 18px;
  height: -webkit-calc(100% + 20px);
  height: -moz-calc(100% + 20px);
  height: calc(100% + 20px);
}

.drift-frame-slider-align-left {
  left: 96px;
}

.drift-frame-slider-align-right {
  right: 96px;
}

.drift-frame--mobile.drift-frame-slider-align-left {
  left: 68px;
}

.drift-frame--mobile.drift-frame-slider-align-right {
  right: 68px;
}

.drift-widget-content-box {
  background: rgba(0,0,0,.5);
  width: 100%;
  height: 100%;

  position: fixed;
  z-index: 2147483647;
  top: 0;
  left: 0;
}

.drift-widget-content-box > * {
  margin: 0 auto;
  position: relative;
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
     -moz-transform: translate(-50%, -50%);
      -ms-transform: translate(-50%, -50%);
       -o-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  max-height: 80%;

}

@media
(max-height: 685px),
(min-width: 369px) and (max-width: 380px),
(max-width: 367px),

(min-device-width: 320px)
and (max-device-width: 480px)
and (-webkit-min-device-pixel-ratio: 2)
and (orientation: portrait)

{
  .drift-frame--mobile.drift-frame-chat.drift-chat-open {
    bottom: 0 !important;
    right: 0;
    left: 0;
    z-index: 2147483647 !important;
  }

  .drift-frame--mobile.drift-frame-controller {
    bottom: 0;
  }

  .drift-frame--mobile.drift-frame-controller.drift-frame-controller-align-left {
    left: 0;
  }

  .drift-frame--mobile.drift-frame-controller.drift-frame-controller-align-right {
    right: 0;
  }


  .drift-frame--mobile.drift-frame-controller.drift-chat-open {
    display: none;
  }

  .drift-frame--mobile.drift-frame-slider {
    bottom: 0;
    max-width: 320px;
  }

  .drift-frame--mobile iframe.drift-frame-chat {
    width: 1px !important;
    min-width: 100%;

    height: 1px !important;
    min-height: 100%;
  }

  html.drift-widget-parent--chat-open,
  html.drift-widget-parent--chat-open > body {
    height: 100vh !important;
    margin: 0 !important;
    min-height: 0 !important;
    overflow: hidden !important;
    position: static !important;
  }
}

@media only screen and (orientation: landscape) {
  .drift-frame--mobile.drift-frame-controller.drift-chat-open {
    display: none;
  }

  .drift-frame--mobile.drift-frame-controller {
    bottom: 0;
  }

  .drift-frame--mobile.drift-frame-controller-align-right {
    right: 0;
  }

  .drift-frame--mobile.drift-frame-controller-align-left {
    left: 0;
  }
}

.drift-frame-chat.widget--xs.drift-chat-open {
  bottom: 0 !important;
  right: 0 !important;
  left: 0 !important;
}

.drift-frame-controller.widget--xs.drift-chat-open {
  display: none;
}

</style><script type="text/javascript" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/c7fa7451-6f95-4815-ac32-b8cc2537837a" data-awssuidacr="takcIqWzNZ6rVf72Kpxh2zXwROqmBbR3"></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/taas"></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/js(2)" async=""></script><script charset="utf-8" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/4.3b34b074.chunk.js"></script></head><body itemscope="" itemtype="http://schema.org/WebPage" bis_register="W3sibWFzdGVyIjp0cnVlLCJleHRlbnNpb25JZCI6ImVwcGlvY2VtaG1ubGJoanBsY2drb2ZjaWllZ29tY29uIiwiYWRibG9ja2VyU3RhdHVzIjp7IkRJU1BMQVkiOiJkaXNhYmxlZCIsIkZBQ0VCT09LIjoiZGlzYWJsZWQiLCJUV0lUVEVSIjoiZGlzYWJsZWQiLCJSRURESVQiOiJkaXNhYmxlZCJ9LCJ2ZXJzaW9uIjoiMS45LjAiLCJzY29yZSI6MTA5MDB9XQ=="><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/17870831401.js"></script><div id="__next" bis_skin_checked="1"><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/otSDKStub.js" type="text/javascript" charset="UTF-8" data-domain-script="96e22fd8-d619-4cdd-a3c6-d51529d21faf" id="consent-script"></script><script>
                function OptanonWrapper() {
                  const status = document.getElementById("onetrust-accept-btn-handler") ? 'waitingForConsent' : 'expressedConsent';
                  window.top.postMessage(status, '*');
                }
              </script><script>window.datafile=undefined</script><div style="width: 0%; opacity: 1;" class="u5ztjm-0 fpXLVz" bis_skin_checked="1"></div><nav id="blog-header" class="qfu855-0 jHZpuz hide-blog-nav"><div class="qfu855-1 cohnnM" bis_skin_checked="1"><div class="qfu855-2 hReZRI" bis_skin_checked="1"><a href="https://auth0.com/blog/" class="qfu855-3 BbhZl"><svg width="158" height="43" fill="none" xmlns="http://www.w3.org/2000/svg"><g fill="#fff"><path d="M21.952 2.667H12.53l2.91 9.066h9.422l-7.62 5.402 2.91 9.13c4.899-3.581 6.511-8.983 4.71-14.532l-2.91-9.066zM.218 11.733H9.62l2.91-9.066H3.129l-2.91 9.066c-1.801 5.549-.21 10.951 4.69 14.531l2.91-9.129-7.6-5.402zm4.69 14.531l7.622 5.381 7.621-5.38-7.621-5.486-7.621 5.485zm71.064-14.74c-2.24 0-3.664 1.005-4.334 2.638h-.167V6.708h-3.33v19.514h3.413v-8.48c0-2.093 1.299-3.308 3.141-3.308 1.843 0 2.848 1.152 2.848 3.1v8.688h3.413v-9.254c0-3.497-1.99-5.444-4.984-5.444zM90.19 6.666c-4.627 0-7.412 3.622-7.412 9.904s2.764 9.987 7.412 9.987c4.649 0 7.413-3.664 7.413-9.987s-2.785-9.904-7.413-9.904zm-3.894 9.904c.02-4.586 1.507-6.993 3.894-6.993 1.634 0 2.848 1.11 3.455 3.287l-7.286 5.276a17.912 17.912 0 01-.063-1.57zm3.894 7.035c-1.675 0-2.931-1.193-3.517-3.497L94 14.77c.06.598.089 1.2.084 1.801 0 4.627-1.487 7.035-3.895 7.035zM52.752 20.13c0 2.199-1.57 3.288-3.078 3.288-1.507 0-2.743-1.152-2.743-2.995v-8.71H43.52v9.234c0 3.497 1.988 5.465 4.836 5.465 2.157 0 3.685-1.152 4.355-2.764h.147v2.575h3.308v-14.51h-3.413v8.418zm-16.96-8.626c-3.057 0-5.38 1.361-6.135 4l3.183.46c.335-1.005 1.298-1.843 2.973-1.843 1.675 0 2.45.796 2.45 2.24v.043c0 .983-1.026 1.026-3.58 1.298-2.555.272-5.507 1.151-5.507 4.417 0 2.848 2.094 4.356 4.857 4.356 2.262 0 3.623-1.068 4.251-2.283h.105v1.99h3.287v-9.695c0-3.832-3.12-4.983-5.884-4.983zm2.492 9.485c0 1.612-1.32 2.973-3.371 2.973-1.424 0-2.45-.649-2.45-1.905s1.152-1.864 2.68-2.073c.9-.126 2.68-.356 3.141-.712v1.717zM63.472 8.09H60.06v3.643h-2.072v2.701h2.072v8.04c-.02 2.723 1.948 4.062 4.523 3.979a6.407 6.407 0 001.738-.251V23.5c-.251.041-.858.104-1.298.125-.859.021-1.55-.314-1.55-1.675v-7.517h2.848v-2.7h-2.847V8.09zM67.488 40.876c1.067 0 1.852-.913 1.852-2.391 0-1.487-.785-2.39-1.852-2.39-.794 0-1.232.437-1.442.811v-2.545h-.858v6.387h.83v-.684c.22.374.676.812 1.47.812zm-.246-.73c-.722 0-1.242-.557-1.242-1.67s.52-1.652 1.242-1.652c.702 0 1.213.42 1.213 1.652 0 1.223-.511 1.67-1.213 1.67zm6.031-3.924l-.775 2.345c-.21.611-.265.785-.347 1.031-.082-.219-.164-.42-.465-1.122l-.931-2.254h-.958l1.998 4.471-.228.648c-.128.347-.31.42-.62.42h-.913v.767h.94c.794 0 1.132-.283 1.423-1.141l1.78-5.165h-.904zm6.964 4.654c1.834 0 3.184-1.333 3.184-3.322 0-1.98-1.35-3.321-3.184-3.321-1.835 0-3.212 1.341-3.212 3.321 0 1.99 1.368 3.322 3.212 3.322zm-.01-.83c-1.396 0-2.226-1.068-2.226-2.492 0-1.423.83-2.49 2.226-2.49 1.397 0 2.227 1.067 2.227 2.49 0 1.424-.83 2.492-2.227 2.492zm7.754.702h1.105l-2.172-2.646 2.007-1.88H87.8l-2.309 2.254V34.36h-.858v6.388h.858v-1.314l.822-.766 1.67 2.08zm3.434 0h1.113v-.739h-.949c-.31 0-.447-.137-.447-.447v-2.628h1.223v-.712h-1.223v-1.414h-.858v1.414h-1.03v.712h1.03v2.7c0 .749.393 1.114 1.141 1.114zm3.252.128c.721 0 1.159-.32 1.478-.812.055.383.183.684.84.684h.657v-.73h-.465c-.21 0-.265-.055-.265-.264v-2.072c0-.976-.584-1.588-1.807-1.588-1.195 0-1.843.648-1.99 1.269l.822.264c.119-.346.374-.812 1.168-.812.666 0 .949.32.949.84v.136c-1.469.12-2.847.539-2.847 1.789 0 .803.575 1.296 1.46 1.296zm.228-.703c-.538 0-.803-.255-.803-.666 0-.72.904-.985 1.962-1.095v.465c0 .904-.584 1.296-1.159 1.296zM112.357 26.293V7.02h1.685v7.576h.15a6.44 6.44 0 01.81-1.336 4.33 4.33 0 011.402-1.149c.584-.313 1.317-.47 2.202-.47 1.186 0 2.227.314 3.125.94.897.622 1.596 1.494 2.098 2.617.502 1.117.753 2.419.753 3.905 0 1.493-.251 2.801-.753 3.925-.496 1.123-1.192 1.998-2.09 2.625-.89.628-1.925.941-3.105.941-.878 0-1.612-.157-2.202-.47-.583-.314-1.054-.7-1.411-1.158a6.666 6.666 0 01-.829-1.355h-.206v2.682h-1.629zm1.657-7.218c0 1.167.172 2.202.517 3.106.352.897.853 1.602 1.506 2.117.659.508 1.456.762 2.39.762.96 0 1.772-.263 2.437-.79.666-.534 1.17-1.252 1.516-2.155.345-.904.517-1.917.517-3.04 0-1.11-.172-2.111-.517-3.002-.339-.89-.841-1.596-1.506-2.117-.665-.527-1.48-.79-2.447-.79-.94 0-1.74.253-2.4.762-.652.501-1.15 1.198-1.496 2.089-.345.884-.517 1.904-.517 3.058zM128.697 7.02v19.273h-1.675V7.02h1.675zm8.812 19.574c-1.249 0-2.353-.317-3.313-.95-.953-.634-1.7-1.51-2.24-2.626-.539-1.123-.809-2.419-.809-3.886 0-1.481.27-2.783.81-3.906.539-1.129 1.286-2.007 2.24-2.635.959-.633 2.063-.95 3.312-.95 1.248 0 2.35.317 3.303.95.953.634 1.7 1.512 2.24 2.635.545 1.123.818 2.425.818 3.906 0 1.467-.27 2.763-.81 3.886-.539 1.117-1.288 1.992-2.248 2.626-.954.633-2.055.95-3.303.95zm0-1.534c1.004 0 1.854-.27 2.55-.809.696-.54 1.223-1.258 1.58-2.155.365-.897.547-1.885.547-2.964 0-1.08-.182-2.07-.546-2.974-.358-.904-.885-1.628-1.581-2.174s-1.547-.819-2.55-.819c-.998 0-1.848.273-2.55.819-.697.546-1.227 1.27-1.591 2.174-.357.903-.536 1.895-.536 2.974 0 1.079.179 2.067.536 2.964.364.897.894 1.615 1.59 2.155.697.54 1.547.81 2.55.81zm14.314 6.954c-.985 0-1.848-.128-2.588-.385-.74-.251-1.365-.596-1.873-1.036a4.962 4.962 0 01-1.185-1.477l1.374-.903c.207.364.483.721.828 1.072.351.352.806.643 1.364.876.565.232 1.258.348 2.08.348 1.28 0 2.312-.32 3.096-.96.79-.64 1.185-1.634 1.185-2.983V23.31h-.15c-.195.439-.474.878-.838 1.317-.364.433-.84.794-1.43 1.082-.583.289-1.308.433-2.174.433-1.154 0-2.18-.285-3.077-.856-.89-.57-1.594-1.386-2.108-2.447-.508-1.066-.762-2.337-.762-3.811 0-1.462.248-2.748.743-3.858.502-1.11 1.202-1.976 2.099-2.598.897-.62 1.941-.931 3.133-.931.885 0 1.619.157 2.203.47.583.308 1.05.69 1.402 1.149.357.458.636.903.837 1.336h.17v-2.757h1.637v14.83c0 1.224-.26 2.23-.781 3.021a4.63 4.63 0 01-2.127 1.75c-.897.383-1.917.574-3.058.574zm-.113-7.406c.928 0 1.722-.222 2.38-.668.66-.451 1.165-1.098 1.516-1.938.351-.841.527-1.841.527-3.002 0-1.13-.173-2.13-.518-3.002-.345-.878-.847-1.569-1.506-2.07-.652-.509-1.452-.763-2.399-.763-.966 0-1.782.26-2.447.782-.665.52-1.167 1.223-1.506 2.107-.338.879-.508 1.86-.508 2.946 0 1.104.173 2.08.518 2.926.345.841.85 1.5 1.515 1.977.665.47 1.474.706 2.428.706z"></path></g></svg></a></div><ul class="qfu855-4 fyvoSS"><li class="qfu855-5 dQKcqD"><a href="https://auth0.com/blog/developers/" class="qfu855-6 fQFuzE">Developers</a></li><li class="qfu855-5 dQKcqD"><a href="https://auth0.com/blog/identity-and-security/" class="qfu855-6 fQFuzE">Identity &amp; Security</a></li><li class="qfu855-5 dQKcqD"><a href="https://auth0.com/blog/business/" class="qfu855-6 fQFuzE">Business</a></li><li class="qfu855-5 dQKcqD"><a href="https://auth0.com/blog/leadership/" class="qfu855-6 fQFuzE">Leadership</a></li><li class="qfu855-5 dQKcqD"><a href="https://auth0.com/blog/culture/" class="qfu855-6 fQFuzE">Culture</a></li><li class="qfu855-5 dQKcqD"><a href="https://auth0.com/blog/engineering/" class="qfu855-6 fQFuzE">Engineering</a></li><li class="qfu855-5 dQKcqD"><a href="https://auth0.com/blog/announcements/" class="qfu855-6 fQFuzE">Announcements</a></li></ul><div class="qfu855-7 hVUOsD" bis_skin_checked="1"><button class="qfu855-9 fzCeRu">Talk To Sales</button><a href="https://auth0.com/signup?&amp;signUpData=%7B%22category%22%3A%22button%22%7D" class="qfu855-10 kjKZJW">Sign Up</a><div class="qfu855-11 bUpImh" bis_skin_checked="1"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/search-icon-desktop.svg" class="qfu855-13 ggbIzm"></div></div><div class="qfu855-8 bMXPDE" bis_skin_checked="1"><div class="qfu855-12 fQdvpT" bis_skin_checked="1"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/search-icon-mobile.svg" class="qfu855-13 ggbIzm"></div><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/hamburger-menu.svg" class="qfu855-14 cOJQfD"></div></div></nav><div class="sc-1ow9wvv-0 zfplh" bis_skin_checked="1"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/close-button-desktop.svg" class="sc-1ow9wvv-3 glLQTZ"><span class="sc-1ow9wvv-1 dBJEMD">DevDay 2022: Keynotes, workshops, and more. Join us in Sydney, London &amp; Berlin.</span><a href="https://regionalevents.okta.com/DeveloperDays2022?utm_source=blog&amp;utm_medium=top-banner" target="_blank" rel="noopener noreferrer" class="sc-1ow9wvv-2 jwCgfY">Register for Free</a></div><div class="qfu855-15 huIner" bis_skin_checked="1"><ul class="qfu855-16 dPBwKt"><li class="qfu855-17 hdfvqY"><a href="https://auth0.com/blog/developers/" class="qfu855-18 gINsin">Developers</a></li><li class="qfu855-17 hdfvqY"><a href="https://auth0.com/blog/identity-and-security/" class="qfu855-18 gINsin">Identity &amp; Security</a></li><li class="qfu855-17 hdfvqY"><a href="https://auth0.com/blog/business/" class="qfu855-18 gINsin">Business</a></li><li class="qfu855-17 hdfvqY"><a href="https://auth0.com/blog/leadership/" class="qfu855-18 gINsin">Leadership</a></li><li class="qfu855-17 hdfvqY"><a href="https://auth0.com/blog/culture/" class="qfu855-18 gINsin">Culture</a></li><li class="qfu855-17 hdfvqY"><a href="https://auth0.com/blog/engineering/" class="qfu855-18 gINsin">Engineering</a></li><li class="qfu855-17 hdfvqY"><a href="https://auth0.com/blog/announcements/" class="qfu855-18 gINsin">Announcements</a></li><li class="qfu855-19 jWrqOS"><a href="https://auth0.com/signup?&amp;signUpData=%7B%22category%22%3A%22button%22%7D" class="qfu855-20 qqefI">Try Auth0 For Free</a><button class="qfu855-21 hkSJcp">Talk To Sales</button></li></ul></div><div id="modal-root" bis_skin_checked="1"><div bis_skin_checked="1"></div><div bis_skin_checked="1"></div></div><div itemscope="" itemtype="http://schema.org/BlogPosting" itemprop="mainEntity" bis_skin_checked="1"><link itemprop="mainEntityOfPage" href="https://auth0.com/blog/developing-restful-apis-with-lumen/"><section class="v0njjd-0 kEXVJZ"><header class="bie152-0 fdUNjD"><div class="bie152-2 HzgPI" bis_skin_checked="1"><div class="bie152-3 bvpwcT" bis_skin_checked="1"><div class="bie152-4 hEWFFr" bis_skin_checked="1"><span id="post-category" class="bie152-5 iWwXup">Lumen</span><h1 itemprop="headline" class="bie152-6 gmdlsg">Developing RESTful APIs with Lumen (A PHP Micro-framework)</h1><p itemprop="description" class="bie152-7 cKMtoG">Lumen is a PHP micro-framework built to deliver microservices and blazing fast APIs. Learn how to build and secure RESTful APIs with Lumen</p></div><div class="bie152-8 guySzk" bis_skin_checked="1"><div class="bie152-9 cQQJTT" bis_skin_checked="1"><a href="https://auth0.com/blog/authors/holly-guevara/" class="bie152-10 jdWmtl"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/5e074956ee8ba1fea26e30d28c190495_s_300" class="bie152-11 SbeZk"><div class="bie152-12 kAjmGL" bis_skin_checked="1"><h4 class="bie152-13 coofmK">Holly Guevara</h4><h4 class="bie152-14 czqHud">Developer Content Manager</h4></div></a></div><div class="bie152-9 cQQJTT" bis_skin_checked="1"><a href="https://auth0.com/blog/authors/prosper-otemuyiwa/" class="bie152-10 jdWmtl"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/1097492785caf9ffeebffeb624202d8f_s_200" class="bie152-11 SbeZk"><div class="bie152-12 kAjmGL" bis_skin_checked="1"><h4 class="bie152-13 coofmK">Prosper Otemuyiwa</h4><h4 class="bie152-14 czqHud">Former Auth0 Employee</h4></div></a></div></div><p class="bie152-15 jxcMKT">Last Updated On: October 07, 2021</p><meta itemprop="datePublished" content="2017-12-26"><meta itemprop="dateModified" content="2021-10-07"></div><div class="bie152-16 dVDHHD" bis_skin_checked="1"><figure itemprop="image" itemscope="" itemtype="http://schema.org/ImageObject" class="bie152-17 iMjyEW"><meta itemprop="url" content="https://images.ctfassets.net/23aumh6u8s0i/7gu8qd0qzmuxWWjYLhZpqo/2bb8a206fe4a86af9414545b5c25c368/laravel"><meta itemprop="width" content="1176"><meta itemprop="height" content="1056"></figure></div></div></header><header class="bie152-0 bie152-1 fdUNjD dxeIkr"><div class="bie152-2 HzgPI" bis_skin_checked="1"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/laravel" class="bie152-18 hhBVmp"><div class="bie152-4 hEWFFr" bis_skin_checked="1"><span class="bie152-5 iWwXup">Lumen</span><h1 itemprop="headline" class="bie152-6 gmdlsg">Developing RESTful APIs with Lumen (A PHP Micro-framework)</h1><p itemprop="description" class="bie152-7 cKMtoG">Lumen is a PHP micro-framework built to deliver microservices and blazing fast APIs. Learn how to build and secure RESTful APIs with Lumen</p><div class="bie152-8 guySzk" bis_skin_checked="1"><div class="bie152-9 cQQJTT" bis_skin_checked="1"><a href="https://auth0.com/blog/authors/holly-guevara/" class="bie152-10 jdWmtl"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/5e074956ee8ba1fea26e30d28c190495_s_300" class="bie152-11 SbeZk"><div class="bie152-12 kAjmGL" bis_skin_checked="1"><h4 class="bie152-13 coofmK">Holly Guevara</h4><h4 class="bie152-14 czqHud">Developer Content Manager</h4></div></a></div><div class="bie152-9 cQQJTT" bis_skin_checked="1"><a href="https://auth0.com/blog/authors/prosper-otemuyiwa/" class="bie152-10 jdWmtl"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/1097492785caf9ffeebffeb624202d8f_s_200" class="bie152-11 SbeZk"><div class="bie152-12 kAjmGL" bis_skin_checked="1"><h4 class="bie152-13 coofmK">Prosper Otemuyiwa</h4><h4 class="bie152-14 czqHud">Former Auth0 Employee</h4></div></a></div></div><p class="bie152-15 jxcMKT">Last Updated On: October 07, 2021</p><meta itemprop="datePublished" content="2017-12-26"><meta itemprop="dateModified" content="2021-10-07"></div></div></header><aside class="sc-59gcxs-0 eGoNHg"><div class="sc-59gcxs-1 ibnLIz" bis_skin_checked="1"><p class="sc-59gcxs-2 bXnLac">Table of Contents</p><svg width="14" height="8" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="sc-59gcxs-3 gYAqhN"><defs><path d="M16.66 7.903l-6.07 6.617c-.019.028-.012.064-.037.089a.522.522 0 01-.398.15.523.523 0 01-.394-.15c-.024-.025-.018-.06-.036-.087l-6.07-6.618a.53.53 0 01.748-.748l5.753 6.274 5.755-6.275a.528.528 0 11.748.748z" id="open_svg__a"></path></defs><use fill="#000" xlink:href="#open_svg__a" transform="translate(-3 -7)" fill-rule="evenodd"></use></svg></div><div class="sc-59gcxs-5 URtjQ" bis_skin_checked="1"><ul class="sc-59gcxs-6 cXKgTi"><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#Lumen-Features-and-Architecture" class="sc-59gcxs-8 kHzLyO">Lumen Features and Architecture</a></li><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#Lumen-Key-Requirements" class="sc-59gcxs-8 kHzLyO">Lumen Key Requirements</a></li><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#Building-a-Fast-Authors-API-Rapidly-With-Lumen" class="sc-59gcxs-8 kHzLyO">Building a Fast Authors API Rapidly With Lumen</a></li><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#Lumen-API-Validation" class="sc-59gcxs-8 kHzLyO">Lumen API Validation</a></li><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#Securing-the-Authors-API-with-Auth0" class="sc-59gcxs-8 kHzLyO">Securing the Authors API with Auth0</a></li><li class="sc-59gcxs-7 hqqEbd"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#Conclusion" class="sc-59gcxs-8 kHzLyO">Conclusion</a></li></ul></div></aside><article class="v0njjd-1 dHwRRo"><aside class="sc-1y9xkzh-0 bMXvsY"><div class="sc-1y9xkzh-1 hTZJuI" bis_skin_checked="1"><div class="sc-1y9xkzh-2 JYDoz" bis_skin_checked="1"><h4 class="sc-1y9xkzh-3 cueMcy">Table of Contents</h4><ul class="sc-1y9xkzh-4 bHqwnd"><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#Lumen-Features-and-Architecture" class="sc-1y9xkzh-6 inGZzq">Lumen Features and Architecture</a></li><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#Lumen-Key-Requirements" class="sc-1y9xkzh-6 inGZzq">Lumen Key Requirements</a></li><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#Building-a-Fast-Authors-API-Rapidly-With-Lumen" class="sc-1y9xkzh-6 inGZzq">Building a Fast Authors API Rapidly With Lumen</a></li><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#Lumen-API-Validation" class="sc-1y9xkzh-6 inGZzq">Lumen API Validation</a></li><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#Securing-the-Authors-API-with-Auth0" class="sc-1y9xkzh-6 iJUjtc">Securing the Authors API with Auth0</a></li><li class="sc-1y9xkzh-5 drwFbc"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#Conclusion" class="sc-1y9xkzh-6 inGZzq">Conclusion</a></li></ul></div><ul class="sc-1y9xkzh-8 kWZBqr"><li data-element-id="blogSidebarDocsCTA" class="sc-1y9xkzh-9 kSDgak"><a href="https://auth0.com/docs" target="_blank" rel="noopener" class="sc-1y9xkzh-10 gUppOI"><h4 class="sc-1y9xkzh-11 iKGOGZ">Auth0 Docs</h4><span class="sc-1y9xkzh-12 giJJK"><img alt="Open external link" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/external-link.svg"></span><br><span>Implement Authentication in Minutes</span></a></li><li data-element-id="blogSidebarAdCTA" class="sc-1y9xkzh-9 kSDgak"><a href="https://www.okta.com/oktane22/?utm_source=auth0&amp;utm_medium=partner&amp;utm_campaign=2022_11_EV_OKT_Oktane22&amp;utm_id=aNK4z0000004FsAGAU" target="_blank" rel="noopener noreferrer" class="sc-1h4umoy-0 iqHDBe"><p class="sc-1h4umoy-1 iiJvwP">Join us in San Francisco<br>at Oktane, the identity<br> event of the year</p><div class="sc-1h4umoy-2 fuGTms" bis_skin_checked="1">Register now</div></a></li></ul></div></aside><main id="post-content" itemprop="articleBody" class="nlufiy-0 jWmJon"><div bis_skin_checked="1"><div class="alert alert-info alert-icon" bis_skin_checked="1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="jmumfs-0 eQaJEC icon-budicon-500"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"></path><path d="M22 4L12 14.01l-3-3"></path></svg><strong>This post has been updated to <a href="https://lumen.laravel.com/docs/7.x" target="_blank" rel="noreferrer noopener">Lumen 7.x</a> and <a href="https://github.com/auth0/auth0-PHP" target="_blank" rel="noreferrer noopener">Auth0 PHP SDK 7.x</a>.</strong></div><p><strong>TL;DR:</strong> In this tutorial, I'll show you how easy it is to build and secure an API with Lumen. Check out the <a href="https://github.com/auth0-blog/lumen-api-auth" target="_blank" rel="noreferrer noopener">repo</a> to get the code.</p><hr><p><strong>Lumen</strong> is an open-source PHP micro-framework created by <a href="https://twitter.com/taylorotwell" target="_blank" rel="noreferrer noopener">Taylor Otwell</a> as an alternative to Laravel to meet the demand of lightweight installations that are faster than existing PHP micro-frameworks such as <a href="https://www.slimframework.com/" target="_blank" rel="noreferrer noopener">Slim</a> and <a href="https://silex.symfony.com/" target="_blank" rel="noreferrer noopener">Silex</a>. With Lumen, you can build lightning-fast microservices and APIs that can support your Laravel applications.</p><h2 id="Lumen-Features-and-Architecture">Lumen Features and Architecture</h2><p><strong>Lumen</strong> utilizes the <a href="https://github.com/illuminate" target="_blank" rel="noreferrer noopener">Illuminate components</a> that power the <a href="https://auth0.com/blog/whats-new-in-laravel-6/" target="_blank" rel="noreferrer noopener">Laravel</a> framework. As such, Lumen is built to painlessly upgrade directly to Laravel when needed; for example, when you discover that you need more features out of the box than what Lumen offers.</p><p>These are some of the built-in features of Lumen:</p><ul><li><p><strong>Routing</strong> is provided out of the box in Lumen. This includes basic routing, routing parameters, named routes, and route groups such as middleware.</p></li><li><p><strong>Authentication</strong> does not support session state. However, incoming requests are authenticated via stateless mechanisms such as tokens.</p></li><li><p><strong>Caching</strong> is implemented the same as in Laravel. Cache drivers such as <em>Database</em>, <em>Memcached</em>, and <em>Redis</em> are supported. For example, you can install the <code class=" language-js">illuminate<span class="token operator">/</span>redis</code> package via Composer to use a Redis cache with Lumen.</p></li><li><p><strong>Errors and Logging</strong> are implemented via the <a href="https://github.com/Seldaek/monolog" target="_blank" rel="noreferrer noopener">Monolog library</a>, which provides support for various log handlers.</p></li><li><p><strong>Queuing</strong> services are similar to the ones offered by Laravel. A unified API is provided across a variety of different queue back-ends.</p></li><li><p><strong>Events</strong> provide a simple observer implementation that allows you to subscribe and listen for events in your application.</p></li><li><p><strong>Bootstrapping</strong> processes are located in a <a href="https://github.com/laravel/lumen/blob/master/bootstrap/app.php" target="_blank" rel="noreferrer noopener">single file</a>.</p></li></ul><blockquote class="sc-1w6xcbn-0 iHEjMB"><a href="https://twitter.com/intent/tweet?text=%22Lumen%20is%20an%20amazing%20PHP%20micro-framework%20that%20offers%20a%20painless%20upgrade%20path%20to%20Laravel.%22%20via%20@auth0%20https://auth0.com/blog/developing-restful-apis-with-lumen" target="_blank" rel="noopener noreferrer" class="sc-1w6xcbn-6 hWZHRM"><p class="sc-1w6xcbn-1 RNVxz">"Lumen is an amazing PHP micro-framework that offers a painless upgrade path to Laravel."</p><div class="sc-1w6xcbn-4 kOcxUO" bis_skin_checked="1"><div class="sc-1w6xcbn-2 DyLWM" bis_skin_checked="1"><img alt="Tweet" class="sc-1w6xcbn-3 bIOxzt bird" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/twitter.svg"><h4 class="sc-1w6xcbn-5 jcFhMI">Tweet This</h4></div></div></a></blockquote><h2 id="Lumen-Key-Requirements">Lumen Key Requirements</h2><p>To use Lumen, you need to have the following tools installed on your machine:</p><ul><li><strong>PHP</strong>: Make sure <a href="http://php.net/manual/en/install.php" target="_blank" rel="noreferrer noopener"><code class=" language-js"><span class="token constant">PHP</span> <span class="token operator">&gt;=</span> <span class="token number">7.2</span></code></a> is installed on your machine. Furthermore, ensure that the following PHP extensions are installed. <code class=" language-js">OpenSSL</code>, <code class=" language-js"><span class="token constant">PDO</span></code> and <code class=" language-js">Mbstring</code>.</li><li><strong>Composer</strong>: Navigate to the <a href="https://getcomposer.org/" target="_blank" rel="noreferrer noopener">Composer website</a> and install it on your machine. Composer is needed to install Lumen's dependencies.</li></ul><blockquote><p><strong>Note:</strong> You'll need <strong>MySQL</strong> for this tutorial. Navigate to the <a href="https://www.mysql.com/" target="_blank" rel="noreferrer noopener">MySQL website</a> and install the community server edition. If you are using a Mac, I recommend <a href="https://flaviocopes.com/mysql-how-to-install/" target="_blank" rel="noreferrer noopener">following these instructions</a>. For this tutorial, you can use MySQL straight from the terminal, but if you'd prefer a MySQL GUI, check out <a href="https://sequelpro.com/" target="_blank" rel="noreferrer noopener">Sequel Pro</a> for Mac or <a href="https://www.heidisql.com/" target="_blank" rel="noreferrer noopener">HeidiSQL</a> for Windows. </p></blockquote><h2 id="Building-a-Fast-Authors-API-Rapidly-With-Lumen">Building a Fast Authors API Rapidly With Lumen</h2><p>At Auth0, we have many technical writers, otherwise known as authors. A directive has been given to developing an app to manage Auth0 authors. The front-end app will be built with ReactJS. However, it needs to pull data from a source and also push to it. Yes, we need an API!</p><p>This is what we need the API to do:</p><ul><li>Get all authors.</li><li>Get one author.</li><li>Add a new author.</li><li>Edit an author.</li><li>Delete an author.</li></ul><p>Let's flesh out the possible endpoints for this API. Given some <em>authors</em> resource, we'll have the following endpoints:</p><ul><li>Get all authors  - <code class=" language-js"><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>authors</code></li><li>Get one author   - <code class=" language-js"><span class="token constant">GET</span> <span class="token operator">/</span>api<span class="token operator">/</span>authors<span class="token operator">/</span><span class="token number">23</span></code></li><li>Create an author - <code class=" language-js"><span class="token constant">POST</span> <span class="token operator">/</span>api<span class="token operator">/</span>authors</code></li><li>Edit an author   - <code class=" language-js"><span class="token constant">PUT</span> <span class="token operator">/</span>api<span class="token operator">/</span>authors<span class="token operator">/</span><span class="token number">23</span></code></li><li>Delete an author - <code class=" language-js"><span class="token constant">DELETE</span>  <span class="token operator">/</span>api<span class="token operator">/</span>authors<span class="token operator">/</span><span class="token number">23</span></code></li></ul><p>What will be the author attributes? Let's flesh it out like we did the endpoints.</p><ul><li>Author: <code class=" language-js">name</code>, <code class=" language-js">email</code>, <code class=" language-js">twitter</code>, <code class=" language-js">github</code>, <code class=" language-js">location</code>, and <code class=" language-js">latest_article_published</code>.</li></ul><h3 id="Install-Lumen">Install Lumen</h3><p>Run the following command in your terminal to create a new project with <a href="https://lumen.laravel.com/" target="_blank" rel="noreferrer noopener">Lumen</a>:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">composer</span> create-project --prefer-dist laravel/lumen authors</code></pre><p><code class=" language-js">cd</code> into the newly created project.</p><pre class=" language-bash"><code class=" language-bash"><span class="token builtin class-name">cd</span> authors</code></pre><p>Now, run <code class=" language-js">php <span class="token operator">-</span><span class="token constant">S</span> localhost<span class="token operator">:</span><span class="token number">8000</span> <span class="token operator">-</span>t <span class="token keyword">public</span></code> to serve the project. Head over to your browser. You should see the index page like so:</p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/lumen-index" alt="Authors - Index Page" class=" lightbox-image">
<em>Authors Index</em></p><h3 id="Activate-Eloquent-and-Facades">Activate Eloquent and Facades</h3><p>As I mentioned earlier, the entire bootstrap process is located in a <a href="https://github.com/laravel/lumen/blob/master/bootstrap/app.php" target="_blank" rel="noreferrer noopener">single file</a>.</p><p>Open up the <code class=" language-js">bootstrap<span class="token operator">/</span>app<span class="token punctuation">.</span>php</code> and uncomment this line, <code class=" language-js"><span class="token comment">// app-&gt;withEloquent</span></code>. Once uncommented, Lumen hooks the <a href="https://github.com/illuminate/database/tree/master/Eloquent" target="_blank" rel="noreferrer noopener">Eloquent ORM</a> with your database using the connections configured in the <code class=" language-js"><span class="token punctuation">.</span>env</code> file.</p><blockquote><p>Make sure you set the right details for your database in the .env file.</p></blockquote><p>Next uncomment this line <code class=" language-js"><span class="token comment">//$app-&gt;withFacades();</span></code>, which allows us to make use of <a href="https://laravel.com/docs/5.5/facades" target="_blank" rel="noreferrer noopener">Facades</a> in our project.</p><h3 id="Setup-Database--Models-and-Migrations">Setup Database, Models and Migrations</h3><p>At the time of this writing, Lumen supports four database systems: MySQL, Postgres, SQLite, and SQL Server. We are making use of MySQL in this tutorial. First, we'll create a migration for the <code class=" language-js">authors</code> table.</p><blockquote><p>Migrations are like version control for your database, allowing your team to easily modify and share the application's database schema.</p></blockquote><p>Run the command below in the terminal to create the <code class=" language-js">authors</code> table migration:</p><pre class=" language-bash"><code class=" language-bash">php artisan make:migration create_authors_table</code></pre><p>The new migration will be placed in your <code class=" language-js">database<span class="token operator">/</span>migrations</code> directory. Each migration file name contains a timestamp, which allows Lumen to determine the order of the migrations. Next, we'll modify the recently created migration to include the attributes we need for the <code class=" language-js">authors</code> table.</p><p>Open up the migration file and modify it like so:</p><pre class=" language-php"><code class=" language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Support<span class="token punctuation">\</span>Facades<span class="token punctuation">\</span>Schema</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Schema<span class="token punctuation">\</span>Blueprint</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Migrations<span class="token punctuation">\</span>Migration</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">CreateAuthorsTable</span> <span class="token keyword">extends</span> <span class="token class-name">Migration</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
     * Run the migrations.
     *
     * @return void
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">up</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'authors'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Blueprint</span> <span class="token variable">$table</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">increments</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'email'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'github'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'twitter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'location'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token keyword type-declaration">string</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'latest_article_published'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$table</span><span class="token operator">-&gt;</span><span class="token function">timestamps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Reverse the migrations.
     *
     * @return void
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">down</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name static-context">Schema</span><span class="token operator">::</span><span class="token function">dropIfExists</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'authors'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre><p>Here we're just adding a few extra columns to the <code class=" language-js">authors</code> table such as social handles, location, and a field for the <code class=" language-js">last_article_published</code>.</p><p>Now, go ahead and run the migration like so:</p><pre class=" language-bash"><code class=" language-bash">php artisan migrate</code></pre><p>Check your database. You should now have the <code class=" language-js">authors</code> and <code class=" language-js">migrations</code> tables present.</p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/migration" alt="Authors table" class=" lightbox-image"></p><p>Let's create the <code class=" language-js">Author</code> model. Create an <code class=" language-js">app<span class="token operator">/</span>Author<span class="token punctuation">.</span>php</code> file and add the code below to it:</p><p><em>app/Author.php</em></p><pre class=" language-php"><code class=" language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Database<span class="token punctuation">\</span>Eloquent<span class="token punctuation">\</span>Model</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Author</span> <span class="token keyword">extends</span> <span class="token class-name">Model</span>
<span class="token punctuation">{</span>

    <span class="token comment">/**
     * The attributes that are mass assignable.
     *
     * @var array
     */</span>
    <span class="token keyword">protected</span> <span class="token variable">$fillable</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'name'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'email'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'github'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'twitter'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'location'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'latest_article_published'</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * The attributes excluded from the model's JSON form.
     *
     * @var array
     */</span>
    <span class="token keyword">protected</span> <span class="token variable">$hidden</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></code></pre><p>In the code above, we made the author attributes <a href="https://laravel.com/docs/5.5/eloquent#mass-assignment" target="_blank" rel="noreferrer noopener">mass assignable</a>.</p><h3 id="Set-up-Routes">Set up Routes</h3><p>Routing is fairly straight-forward. Open up <code class=" language-js">routes<span class="token operator">/</span>web<span class="token punctuation">.</span>php</code> and modify it like so:</p><pre class=" language-php"><code class=" language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token comment">/*
|--------------------------------------------------------------------------
| Application Routes
|--------------------------------------------------------------------------
|
| Here is where you can register all of the routes for an application.
| It is a breeze. Simply tell Lumen the URIs it should respond to
| and give it the Closure to call when that URI is requested.
|
*/</span>

<span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$router</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token property">app</span><span class="token operator">-&gt;</span><span class="token function">version</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'prefix'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'api'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$router</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'authors'</span><span class="token punctuation">,</span>  <span class="token punctuation">[</span><span class="token string single-quoted-string">'uses'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'AuthorController@showAllAuthors'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'authors/{id}'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'uses'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'AuthorController@showOneAuthor'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'authors'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'uses'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'AuthorController@create'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'authors/{id}'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'uses'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'AuthorController@delete'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'authors/{id}'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'uses'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'AuthorController@update'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre><p>In the code above, we have abstracted the functionality for each route into a controller,  <code class=" language-js">AuthorController</code>. Route groups allow you to share route attributes, such as middleware or namespaces, across a large number of routes without needing to define those attributes on each route. Therefore, every route will have a prefix of <code class=" language-js"><span class="token operator">/</span>api</code>. Next, let's create the Author Controller.</p><h3 id="Set-up-Author-Controller">Set up Author Controller</h3><p>Create a new file, <code class=" language-js">AuthorController<span class="token punctuation">.</span>php</code> in <code class=" language-js">app<span class="token operator">/</span>Http<span class="token operator">/</span>Controllers</code> directory and add the following code to it like so:</p><pre class=" language-php"><code class=" language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Controllers</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">App<span class="token punctuation">\</span>Author</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Request</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">AuthorController</span> <span class="token keyword">extends</span> <span class="token class-name">Controller</span>
<span class="token punctuation">{</span>
    
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">showAllAuthors</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token class-name static-context">Author</span><span class="token operator">::</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">showOneAuthor</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token class-name static-context">Author</span><span class="token operator">::</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$author</span> <span class="token operator">=</span> <span class="token class-name static-context">Author</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token variable">$author</span><span class="token punctuation">,</span> <span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$author</span> <span class="token operator">=</span> <span class="token class-name static-context">Author</span><span class="token operator">::</span><span class="token function">findOrFail</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token variable">$author</span><span class="token operator">-&gt;</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token variable">$author</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name static-context">Author</span><span class="token operator">::</span><span class="token function">findOrFail</span><span class="token punctuation">(</span><span class="token variable">$id</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Deleted Successfully'</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre><p>Let's analyze the code above. First, we have <code class=" language-js">use App\Author</code>, which allowed us to require the <code class=" language-js">Author</code> model that we created earlier. </p><p>Next, we've created the following five methods:</p><ul><li><code class=" language-js">showAllAuthors</code> <ul><li>/GET</li></ul></li><li><code class=" language-js">showOneAuthor</code> <ul><li>/GET</li></ul></li><li><code class=" language-js">create</code> <ul><li>/POST</li></ul></li><li><code class=" language-js">update</code> <ul><li>/PUT</li></ul></li><li><code class=" language-js"><span class="token keyword">delete</span></code> <ul><li>/DELETE</li></ul></li></ul><p>These will allow us to use that <code class=" language-js">Author</code> model to interact with author data.
For example, if you make a POST request to <code class=" language-js"><span class="token operator">/</span>api<span class="token operator">/</span>authors</code> API endpoint, the <code class=" language-js">create</code> function will be invoked, and a new entry will be added to the <code class=" language-js">authors</code> table.</p><p><strong>Author controller method overview:</strong></p><ul><li><code class=" language-js">showAllAuthors</code> <ul><li>checks for all the author resources</li></ul></li><li><code class=" language-js">create</code> <ul><li>creates a new author resource</li></ul></li><li><code class=" language-js">showOneAuthor</code> <ul><li>checks for a single author resource</li></ul></li><li><code class=" language-js">update</code> <ul><li>checks if an author resource exists and allows the resource to be updated</li></ul></li><li><code class=" language-js"><span class="token keyword">delete</span></code> <ul><li>checks if an author resource exists and deletes it</li></ul></li></ul><p><strong>Controller responses:</strong></p><ul><li><code class=" language-js"><span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <ul><li>global helper function that obtains an instance of the response factory</li></ul></li><li><code class=" language-js"><span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> <ul><li>returns the response in JSON format.</li></ul></li><li><code class=" language-js"><span class="token number">200</span></code> <ul><li>HTTP status code that indicates the request was successful.</li></ul></li><li><code class=" language-js"><span class="token number">201</span></code> <ul><li>HTTP status code that indicates a new resource has just been created.</li></ul></li><li><code class=" language-js">findOrFail</code> <ul><li>throws a <code class=" language-js">ModelNotFoundException</code> if no result is not found.</li></ul></li></ul><p>Finally, test the API routes with <a href="https://www.getpostman.com/" target="_blank" rel="noreferrer noopener">Postman</a>.</p><p><em>Author POST operation</em> - <code class=" language-js"><span class="token constant">POST</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8000</span><span class="token operator">/</span>api<span class="token operator">/</span>authors</code></p><p>Make sure you have selected <code class=" language-js"><span class="token constant">POST</span></code> from the dropdown, and then you can fill the form data in by clicking on <code class=" language-js">Body</code> and then selecting <code class=" language-js">form<span class="token operator">-</span>data</code>. Fill in a value for <code class=" language-js">name</code>, <code class=" language-js">email</code>, etc. to create a new author.</p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/create-new-author" alt="Lumen POST operation" class=" lightbox-image"></p><p><em>Author GET operation</em> - <code class=" language-js"><span class="token constant">GET</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8000</span><span class="token operator">/</span>api<span class="token operator">/</span>authors</code></p><p>You should now see an array of objects, including the author you just created plus any others in the database.</p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/getallauthors" alt="Lumen GET operation" class=" lightbox-image"></p><p><em>Author PUT operation</em></p><p>The <code class=" language-js"><span class="token constant">PUT</span></code> operation allows us to edit an existing author. Notice the author's <code class=" language-js">id</code> in the URL.</p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/update-author" alt="Lumen PUT operation" class=" lightbox-image"></p><p><em>Author DELETE operation</em></p><p>Finally, we can delete a specific author as well.</p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/delete-author" alt="Lumen DELETE operation" class=" lightbox-image"></p><p>Now we have a working API. Awesome!</p><h2 id="Lumen-API-Validation">Lumen API Validation</h2><p>When developing applications, <strong>never trust the user.</strong> Always validate incoming data.</p><p>In Lumen, it's very easy to validate your application's incoming data. Lumen provides access to the <code class=" language-js">$<span class="token keyword">this</span><span class="token operator">-</span><span class="token operator">&gt;</span>validate</code> helper method from within Route closures.</p><p>Currently, in our API, we're not checking what people are sending through to our <code class=" language-js">create</code> method. Let's fix that now.</p><p>Open up the <code class=" language-js">AuthorController</code> file and modify the <code class=" language-js">create</code> method like this:</p><pre class=" language-php"><code class=" language-php"><span class="token comment">// ...</span>
 <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name type-declaration">Request</span> <span class="token variable">$request</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">validate</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
            <span class="token string single-quoted-string">'name'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'required'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'email'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'required|email|unique:authors'</span><span class="token punctuation">,</span>
            <span class="token string single-quoted-string">'location'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'required|alpha'</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token variable">$author</span> <span class="token operator">=</span> <span class="token class-name static-context">Author</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token variable">$author</span><span class="token punctuation">,</span> <span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token comment">// ...</span></code></pre><p>Now test the API POST route with Postman.</p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/validation" alt="Lumen API Validation" class=" lightbox-image"></p><p>It validated the incoming requests and returned the appropriate error message. </p><ul><li><em>name</em>, <em>email</em>, and <em>location</em> were required. In testing the API, <em>name</em> and <em>email</em> were not provided.</li><li><em>email</em> was required to be in email format.</li><li><em>location</em> was required to be entirely alphabetic characters, <code class=" language-js">alpha</code>. Nothing more. Numbers were provided as the value for <em>location</em>.</li></ul><blockquote><p><strong>Note</strong>: Always validate incoming data. Never trust your users!</p></blockquote><p>Check out <a href="https://laravel.com/docs/5.8/validation#available-validation-rules" target="_blank" rel="noreferrer noopener">a plethora of validation rules</a> that you can use with Lumen.</p><h2 id="Securing-the-Authors-API-with-Auth0">Securing the Authors API with Auth0</h2><p>Right now, an application can make requests to any of the endpoints present in our API. In a real-world scenario, we would want to restrict our API so that only certain <a href="https://auth0.com/docs/flows/concepts/auth-code" target="_blank" rel="noreferrer noopener">authorized users</a> have the ability to do this. A few things need to happen here.</p><ol start="1"><li>A user signs in with their credentials (to prove who they are, i.e., <strong>authenticate</strong>)</li><li>If the user is authorized to use the API, the application is issued an API access token</li><li>Whenever an API request is made, the application will send that API access token along with the request</li><li>If the access token is valid, the API will respond with the requested data</li></ol><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/auth0-flow" alt="Auth sequence flow" class=" lightbox-image"></p><p>In this tutorial, we're going to focus on what happens in <strong>step 4</strong> of that list (step 9-10 in the diagram). Since we're only building the backend API here, you'll need to create a separate front-end to accomplish the first two steps. <a href="https://auth0.com/blog/reactjs-authentication-tutorial/" target="_blank" rel="noreferrer noopener">Here</a> is an awesome example of how you can do that using Auth0 with React.</p><p>For now, let's focus on generating access tokens using <a href="https://jwt.io/" target="_blank" rel="noreferrer noopener">JSON Web Tokens</a>.</p><p>JSON Web Token, commonly known as JWT, is an open standard for creating JSON-based access tokens that make some claim, usually <a href="https://jwt.io/introduction/" target="_blank" rel="noreferrer noopener">authorizing a user or exchanging information</a>. This technology has gained popularity over the past few years because it enables backends to accept requests simply by validating the contents of these JWTs.</p><p>JWTs can be used for authorization or information exchange. In this tutorial, we'll be using JWTs to grant authorization to applications (users) using our API.</p><p>Whenever the user wants to access a protected route or resource (an endpoint), the user agent must send the JWT, usually in the <em>Authorization</em> header using the <a href="http://self-issued.info/docs/draft-ietf-oauth-v2-bearer.html" target="_blank" rel="noreferrer noopener">Bearer schema</a>, along with the request.</p><p>When the API receives a request with an access token, the first thing it needs to do is <strong>validate the token</strong>. If the validation fails, then the request must be rejected.</p><p>For more information about <strong>JSON Web Tokens</strong>, check out our <em>free ebook</em> below.</p><div class="sc-15ovdmy-0 iWxExb" bis_skin_checked="1"><div class="sc-15ovdmy-2 kdWleC" bis_skin_checked="1"><p class="sc-15ovdmy-3 drMxzz">Interested in getting up-to-speed with JWTs as soon as possible?</p><a href="https://auth0.com/resources/ebooks/jwt-handbook" target="_blank" rel="noopener noreferrer" class="sc-15ovdmy-4 sc-7mh838-0 rfnlo hRFbKY">Download the free ebook</a></div><div class="sc-15ovdmy-2 kdWleC" bis_skin_checked="1"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/jwt-handbook.svg" alt="JWT Handbook" class="sc-7mh838-1 jKEAR"></div></div><p>We will make use of Auth0 to issue our access tokens. With Auth0, we only have to write a few lines of code to get an in-depth <a href="https://auth0.com/docs/identityproviders" target="_blank" rel="noreferrer noopener">identity management solution</a> which includes: </p><ul><li><a href="https://auth0.com/docs/sso/single-sign-on" target="_blank" rel="noreferrer noopener">Single sign-on</a></li><li><a href="https://auth0.com/docs/user-profile" target="_blank" rel="noreferrer noopener">User management</a></li><li>Support for <a href="https://auth0.com/docs/identityproviders" target="_blank" rel="noreferrer noopener">social identity providers (like Facebook, GitHub, Twitter, etc.)</a></li><li><a href="https://auth0.com/enterprise" target="_blank" rel="noreferrer noopener">Enterprise (Active Directory, LDAP, SAML, etc.)</a></li><li>Your <a href="https://auth0.com/docs/connections/database/mysql" target="_blank" rel="noreferrer noopener">own database of users</a></li></ul><p>If you haven't done so yet, this is a good time to sign up for a <a href="https://auth0.com/signup" data-amp-replace="CLIENT_ID" data-amp-addparams="anonId=CLIENT_ID(cid-scope-cookie-fallback-name)" target="_blank" rel="noreferrer noopener">free Auth0 account</a>. </p><div class="sc-1foo5yb-0 eotdrM" bis_skin_checked="1">Try out the most powerful authentication platform for free.<a target="_blank" href="https://auth0.com/signup?promo=sup&amp;place=in-blog-banner&amp;type=link&amp;text=get-started&amp;origin=blog" class="sc-1foo5yb-1 hEuTqB">Get started →</a></div><p>Once you have your Auth0 account, go ahead and <a href="https://manage.auth0.com/#/apis" target="_blank" rel="noreferrer noopener">create a new API in the dashboard</a>. An API is an entity that represents an external resource, capable of accepting and responding to requests made by clients, such as the authors API we just made.</p><blockquote><p><a href="https://auth0.com/pricing" target="_blank" rel="noreferrer noopener">Auth0 offers a generous <strong>free tier</strong></a> to get started with modern authentication.</p></blockquote><p>Login to your Auth0 <a href="https://manage.auth0.com/" target="_blank" rel="noreferrer noopener">management dashboard</a> and create a new API client.</p><p>Click on the APIs menu item and then the <strong>Create API</strong> button. </p><p><em>Create a New API</em>
<img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/newapitobecreated" alt="New API to be created" class=" lightbox-image"></p><p>Next, you will need to give your API a <code class=" language-js">Name</code> and an <code class=" language-js">Identifier</code>. The <code class=" language-js">Name</code> can be anything you choose, so make it as descriptive as you want. The <code class=" language-js">Identifier</code> will be used to specify your API and cannot be changed once set. We'll be using it as an <code class=" language-js">audience</code> later when configuring the access token verification.</p><p>Here's my setup for the author's API:</p><ul><li>Name: <strong>Authors API</strong></li><li>Identifier: <strong><a href="https://authorsapi.com/" target="_blank" rel="noreferrer noopener">https://authorsapi.com</a></strong>.</li><li>Signing algorithm: <strong>RS256</strong></li></ul><p>Once you have yours filled out, click on the <strong>Create API</strong> button.</p><p><em>Creating the Authors API</em>
<img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/authorsapi" alt="Authors API" class=" lightbox-image"></p><p>Next head over to your terminal and install the <a href="https://github.com/auth0/auth0-PHP" target="_blank" rel="noreferrer noopener"><strong>Auth0 PHP SDK</strong></a> in your project's root directory:</p><pre class=" language-bash"><code class=" language-bash"><span class="token function">composer</span> require auth0/auth0-php</code></pre><h3 id="Setting-up-environment-variables">Setting up environment variables</h3><p>In this section, we're going to create the middleware to validate access tokens. The middleware will use some environment variables, so let's set those up first.</p><p>Open up <code class=" language-js"><span class="token punctuation">.</span>env</code> and add the following:</p><pre class=" language-js"><code class=" language-js"><span class="token constant">AUTH0_DOMAIN</span><span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">your-domain.auth0.com</span><span class="token regex-delimiter">/</span></span>
<span class="token constant">AUTH0_AUD</span><span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>authorsapi<span class="token punctuation">.</span>com</code></pre><p>Replace these values with your own from the <a href="https://manage.auth0.com/dashboard" target="_blank" rel="noreferrer noopener">Auth0 dashboard</a>.</p><p><strong>AUTH0_DOMAIN</strong></p><p>To find your domain, click on <code class=" language-js">APIs</code> &gt; <code class=" language-js">Authors <span class="token constant">API</span></code> &gt; <code class=" language-js">Quick Start</code> &gt; <code class=" language-js"><span class="token constant">PHP</span></code> in the dashboard. Copy the value listed for <code class=" language-js">authorized_iss</code> and paste it into <code class=" language-js"><span class="token punctuation">.</span>env</code> as <code class=" language-js"><span class="token constant">AUTH0_DOMAIN</span></code>.</p><blockquote><p>When filling in the <code class=" language-js"><span class="token constant">AUTH0_DOMAIN</span></code> value, make sure you add the trailing slash: <code class=" language-js">https<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">xyz.auth0.com</span><span class="token regex-delimiter">/</span></span></code>.</p></blockquote><p><strong>AUTH0_AUD</strong></p><p>You can find this value in the Auth0 dashboard in the same place as the domain:</p><p><code class=" language-js">APIs</code> &gt; <code class=" language-js">Quick Start</code> &gt; <code class=" language-js"><span class="token constant">PHP</span></code>. </p><p>Copy the value listed for <code class=" language-js">valid_audiences</code> and paste it in for <code class=" language-js"><span class="token constant">AUTH0_AUD</span></code>. If you followed the naming conventions of this tutorial, it would be <code class=" language-js">https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>authorsapi<span class="token punctuation">.</span>com</code>.</p><h3 id="Create-the-Auth0-Middleware">Create the Auth0 Middleware</h3><p>Create a new middleware file, <code class=" language-js">Auth0Middleware<span class="token punctuation">.</span>php</code>, in the <code class=" language-js">app<span class="token operator">/</span>Http<span class="token operator">/</span>Middleware</code> directory. Add the following code to it:</p><pre class=" language-php"><code class=" language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Middleware</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Closure</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Auth0<span class="token punctuation">\</span>SDK<span class="token punctuation">\</span>Exception<span class="token punctuation">\</span>InvalidTokenException</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Auth0<span class="token punctuation">\</span>SDK<span class="token punctuation">\</span>Helpers<span class="token punctuation">\</span>JWKFetcher</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Auth0<span class="token punctuation">\</span>SDK<span class="token punctuation">\</span>Helpers<span class="token punctuation">\</span>Tokens<span class="token punctuation">\</span>AsymmetricVerifier</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Auth0<span class="token punctuation">\</span>SDK<span class="token punctuation">\</span>Helpers<span class="token punctuation">\</span>Tokens<span class="token punctuation">\</span>TokenVerifier</span><span class="token punctuation">;</span>


<span class="token keyword">class</span> <span class="token class-name">Auth0Middleware</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
     * Run the request filter.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \Closure  $next
     * @return mixed
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Closure</span> <span class="token variable">$next</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$token</span> <span class="token operator">=</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">bearerToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$token</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'No token provided'</span><span class="token punctuation">,</span> <span class="token number">401</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">validateToken</span><span class="token punctuation">(</span><span class="token variable">$token</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token variable">$next</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">validateToken</span><span class="token punctuation">(</span><span class="token variable">$token</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token variable">$jwksUri</span> <span class="token operator">=</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'AUTH0_DOMAIN'</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'.well-known/jwks.json'</span><span class="token punctuation">;</span>
            <span class="token variable">$jwksFetcher</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JWKFetcher</span><span class="token punctuation">(</span><span class="token constant">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string single-quoted-string">'base_uri'</span> <span class="token operator">=&gt;</span> <span class="token variable">$jwksUri</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$signatureVerifier</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AsymmetricVerifier</span><span class="token punctuation">(</span><span class="token variable">$jwksFetcher</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$tokenVerifier</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TokenVerifier</span><span class="token punctuation">(</span><span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'AUTH0_DOMAIN'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'AUTH0_AUD'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$signatureVerifier</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token variable">$decoded</span> <span class="token operator">=</span> <span class="token variable">$tokenVerifier</span><span class="token operator">-&gt;</span><span class="token function">verify</span><span class="token punctuation">(</span><span class="token variable">$token</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InvalidTokenException</span> <span class="token variable">$e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token variable">$e</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre><p>This middleware checks if a request is made with a <em>valid</em> access token. In the next step, we'll apply this middleware to all of our routes that we want to protect. That way, before the request is executed, the middleware will run and check for the valid access token. </p><p>Let's look at how we validate the access token.</p><p>The <code class=" language-js"><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> method first takes the request and grabs the access token. If it doesn't exist, an error is returned, and the request fails.</p><p>If the token does exist, we need to check that it's valid, which is done in <code class=" language-js"><span class="token function">validateToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>.</p><p>First, we grab the <a href="https://auth0.com/docs/tokens/concepts/jwks" target="_blank" rel="noreferrer noopener">JSON Web Key Set</a> URI.</p><pre class=" language-php"><code class=" language-php"><span class="token variable">$jwksUri</span> <span class="token operator">=</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'AUTH0_DOMAIN'</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'.well-known/jwks.json'</span><span class="token punctuation">;</span></code></pre><blockquote><p>The JSON Web Key Set (JWKS) is a set of keys that contains the public keys used to verify any JSON Web Token (our access token) issued by the authorization server and signed using the RS256 signing algorithm.</p></blockquote><p>If you're curious, you can find your public JWKS at the url: your Auth0 domain + '.well-known/jwks.json'. Use the domain you used in your <code class=" language-js"><span class="token punctuation">.</span>env</code> file. Here's mine: <a href="https://demo-apps.auth0.com/.well-known/jwks.json" target="_blank" rel="noreferrer noopener">https://demo-apps.auth0.com/.well-known/jwks.json</a>.</p><p>Next, we're using <code class=" language-js"><span class="token function">JWKFetcher</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> to pull the keys from that URI. The first parameter accepts a cache handler to <a href="https://lumen.laravel.com/docs/master/cache" target="_blank" rel="noreferrer noopener">save the keys to the cache</a>. We haven't set one up, so just leave it <code class=" language-js"><span class="token keyword">null</span></code>.</p><pre class=" language-php"><code class=" language-php"><span class="token variable">$jwksFetcher</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JWKFetcher</span><span class="token punctuation">(</span><span class="token constant">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string single-quoted-string">'base_uri'</span> <span class="token operator">=&gt;</span> <span class="token variable">$jwksUri</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Next up is the <code class=" language-js">$signatureVerifier</code>:</p><pre class=" language-php"><code class=" language-php"><span class="token variable">$signatureVerifier</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AsymmetricVerifier</span><span class="token punctuation">(</span><span class="token variable">$jwksFetcher</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This is how our application will <a href="https://auth0.com/docs/tokens/guides/validate-jwts#check-the-signature" target="_blank" rel="noreferrer noopener">verify the signature</a> of the JWT. Auth0 has a private key that generated the signature, so we have to use the public key to validate that the sender of the JWT is who they say they are.</p><blockquote><p>Note: The <code class=" language-js"><span class="token function">AsymmetricVerifier</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> is used for the RS256 signing algorithm. If you're using HS256, then use <code class=" language-js"><span class="token function">SymmetricVerifier</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> and pass it the Auth0 client secret instead. You can find the client secret in your Auth0 dashboard.</p><p>E.g. <code class=" language-js">$signature_verifier <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SymmetricVerifier</span><span class="token punctuation">(</span><span class="token function">env</span><span class="token punctuation">(</span><span class="token string">'AUTH0_CLIENT_SECRET'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></p></blockquote><p>After setting up the signature verification, we must now validate the rest of the token.</p><pre class=" language-php"><code class=" language-php"><span class="token variable">$tokenVerifier</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TokenVerifier</span><span class="token punctuation">(</span><span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'AUTH0_DOMAIN'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'AUTH0_AUD'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$signatureVerifier</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This takes 3 parameters:</p><ul><li><strong>Auth0 domain</strong> — the token issuer</li><li><strong>Auth0 audience</strong> — the API identifier</li><li><strong>Signature verifier</strong> — the token signature verifier set up previously</li></ul><p>It will verify that the token exists, the signature is verified, the token algorithm is supported, and all <a href="https://auth0.com/docs/tokens/concepts/jwt-claims" target="_blank" rel="noreferrer noopener">JWT claims</a> are valid.</p><p>If all of this passes, the token is decoded and the middleware allows the HTTP request to execute.</p><h3 id="Assign-middleware-to-routes">Assign middleware to routes</h3><p>Now that the middleware is set up, we need to add it to our routes. The first step is to assign the middleware a short-hand key in <code class=" language-js">bootstrap<span class="token operator">/</span>app<span class="token punctuation">.</span>php</code> file's call to the <code class=" language-js">$app<span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">routeMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> method.</p><p>Go ahead and open up <code class=" language-js">bootstrap<span class="token operator">/</span>app<span class="token punctuation">.</span>php</code> and uncomment this line of code:</p><pre class=" language-php"><code class=" language-php"><span class="token operator">...</span>
<span class="token comment">// $app-&gt;routeMiddleware([</span>
<span class="token comment">//     'auth' =&gt; App\Http\Middleware\Authenticate::class,</span>
<span class="token comment">// ]);</span>
<span class="token operator">...</span></code></pre><p>Once uncommented, replace the <code class=" language-js">Authenticate<span class="token operator">:</span><span class="token operator">:</span><span class="token keyword">class</span></code> with <code class=" language-js">Auth0Middleware<span class="token operator">:</span><span class="token operator">:</span><span class="token keyword">class</span></code> like so:</p><pre class=" language-php"><code class=" language-php"><span class="token variable">$app</span><span class="token operator">-&gt;</span><span class="token function">routeMiddleware</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'auth'</span> <span class="token operator">=&gt;</span> <span class="token class-name class-name-fully-qualified static-context">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Middleware<span class="token punctuation">\</span>Auth0Middleware</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This will allow us to use the <code class=" language-js">Auth0Midddleware</code> that we just created. And now we can use the middleware key in the route options array in the <code class=" language-js">routes<span class="token operator">/</span>web<span class="token punctuation">.</span>php</code> file like so:</p><pre class=" language-php"><code class=" language-php"><span class="token operator">...</span>
<span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'prefix'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'api'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'middleware'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'auth'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$router</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'authors'</span><span class="token punctuation">,</span>  <span class="token punctuation">[</span><span class="token string single-quoted-string">'uses'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'AuthorController@showAllAuthors'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'authors/{id}'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'uses'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'AuthorController@showOneAuthor'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'authors'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'uses'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'AuthorController@create'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'authors/{id}'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'uses'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'AuthorController@delete'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'authors/{id}'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'uses'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'AuthorController@update'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Now, if a request is made to any endpoint, it first runs the Auth0Middleware. If the request doesn't have a valid access token or no token at all, it returns an error. Let's try all of this out.</p><p><em>Accessing any endpoint without an authorization header</em></p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/authorizationheadernotfound" alt="Authorization Header not found" class=" lightbox-image"></p><p><em>Accessing any endpoint without any token provided</em></p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/notokenfound" alt="No token provided" class=" lightbox-image"></p><p><em>Accessing any endpoint without a valid access token</em></p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/invalidtokenexception" alt="Invalid token exception" class=" lightbox-image"></p><p>Now, let's test it with a valid access token. Head over to the <code class=" language-js">test</code> tab of your newly created API on your Auth0 dashboard.</p><p>Grab the Access token from the <em>Test</em> tab</p><p><em>Grab the Access Token</em></p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/obtaintoken" alt="Get the Access token" class=" lightbox-image"></p><p>Now use this <code class=" language-js">access token</code> in Postman by sending it as an Authorization header to make a POST request to <code class=" language-js">api<span class="token operator">/</span>authors</code> endpoint.</p><p><em>Accessing the endpoint securely</em></p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/lumen_authorpost" alt="Accessing the endpoint securely" class=" lightbox-image"></p><p>It validates the access token and successfully makes the POST request.</p><blockquote><p><em>Note:</em> If you're getting a message that the token cannot be trusted, try adding a trailing slash to <code class=" language-js"><span class="token constant">AUTH0_DOMAIN</span></code> in <code class=" language-js"><span class="token punctuation">.</span>env</code>, e.g., <code class=" language-js">https<span class="token operator">:</span><span class="token operator">/</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">xyz.auth0.com</span><span class="token regex-delimiter">/</span></span></code></p></blockquote><h3 id="Adding-permissions">Adding permissions</h3><p>Currently, this single access token will allow an application to run any requests, as long as it has a valid token. You may want to eventually issue certain <strong>permissions</strong> with the access token. Let's try it out.</p><p>In the Auth0 dashboard, find the API we've been using and then click on <code class=" language-js">Permissions</code>. Create a new scope that will grant permission to create a new author (e.g., <code class=" language-js">create<span class="token operator">:</span>authors</code>). Then add a short description of what that scope does and click "Add".</p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/api-permissions-dashboard" alt="Auth0 API permissions dashboard" class=" lightbox-image"></p><p>Now our API expects that when an application makes a request to create a new author, it must also send an access token that includes the <code class=" language-js">create<span class="token operator">:</span>authors</code> scope. To check for this, we need to add middleware that checks the scope in the access token. Open up <code class=" language-js">Auth0Middleware<span class="token punctuation">.</span>php</code> and replace it with:</p><pre class=" language-php"><code class=" language-php">// app/Http/Middleware/Auth0Middleware.php
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Http<span class="token punctuation">\</span>Middleware</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Closure</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Auth0<span class="token punctuation">\</span>SDK<span class="token punctuation">\</span>Exception<span class="token punctuation">\</span>InvalidTokenException</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Auth0<span class="token punctuation">\</span>SDK<span class="token punctuation">\</span>Helpers<span class="token punctuation">\</span>JWKFetcher</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Auth0<span class="token punctuation">\</span>SDK<span class="token punctuation">\</span>Helpers<span class="token punctuation">\</span>Tokens<span class="token punctuation">\</span>AsymmetricVerifier</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Auth0<span class="token punctuation">\</span>SDK<span class="token punctuation">\</span>Helpers<span class="token punctuation">\</span>Tokens<span class="token punctuation">\</span>TokenVerifier</span><span class="token punctuation">;</span>


<span class="token keyword">class</span> <span class="token class-name">Auth0Middleware</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
     * Run the request filter.
     *
     * @param  \Illuminate\Http\Request  $request
     * @param  \Closure  $next
     * @return mixed
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Closure</span> <span class="token variable">$next</span><span class="token punctuation">,</span> <span class="token variable">$scopeRequired</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$token</span> <span class="token operator">=</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token function">bearerToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$token</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'No token provided'</span><span class="token punctuation">,</span> <span class="token number">401</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token variable">$decodedToken</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">validateAndDecode</span><span class="token punctuation">(</span><span class="token variable">$token</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$scopeRequired</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">tokenHasScope</span><span class="token punctuation">(</span><span class="token variable">$decodedToken</span><span class="token punctuation">,</span> <span class="token variable">$scopeRequired</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'message'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Insufficient scope'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">403</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token variable">$next</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">validateAndDecode</span><span class="token punctuation">(</span><span class="token variable">$token</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token variable">$jwksUri</span> <span class="token operator">=</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'AUTH0_DOMAIN'</span><span class="token punctuation">)</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'.well-known/jwks.json'</span><span class="token punctuation">;</span>
    
            <span class="token variable">$jwksFetcher</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JWKFetcher</span><span class="token punctuation">(</span><span class="token constant">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string single-quoted-string">'base_uri'</span> <span class="token operator">=&gt;</span> <span class="token variable">$jwksUri</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$signatureVerifier</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AsymmetricVerifier</span><span class="token punctuation">(</span><span class="token variable">$jwksFetcher</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token variable">$tokenVerifier</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TokenVerifier</span><span class="token punctuation">(</span><span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'AUTH0_DOMAIN'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">env</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'AUTH0_AUD'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$signatureVerifier</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">return</span> <span class="token variable">$tokenVerifier</span><span class="token operator">-&gt;</span><span class="token function">verify</span><span class="token punctuation">(</span><span class="token variable">$token</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InvalidTokenException</span> <span class="token variable">$e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token variable">$e</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Check if a token has a specific scope.
     *
     * @param \stdClass $token - JWT access token to check.
     * @param string $scopeRequired - Scope to check for.
     *
     * @return bool
     */</span>
    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">tokenHasScope</span><span class="token punctuation">(</span><span class="token variable">$token</span><span class="token punctuation">,</span> <span class="token variable">$scopeRequired</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$token</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'scope'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token variable">$tokenScopes</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">' '</span><span class="token punctuation">,</span> <span class="token variable">$token</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'scope'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$scopeRequired</span><span class="token punctuation">,</span> <span class="token variable">$tokenScopes</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span></span></code></pre><p>A few changes were made here. </p><p>The first thing to note is we added another parameter, <code class=" language-js">scopeRequired</code>, to the <code class=" language-js"><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> method. This is set to <code class=" language-js"><span class="token keyword">null</span></code> by default, since most of our routes won't require the <code class=" language-js">create<span class="token operator">:</span>author</code> permission. Later in our routes, we'll specify when it is required.</p><pre class=" language-php"><code class=" language-php"><span class="token comment">// ...</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">handle</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Closure</span> <span class="token variable">$next</span><span class="token punctuation">,</span> <span class="token variable">$scopeRequired</span> <span class="token operator">=</span> <span class="token constant">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
<span class="token comment">// ...</span></code></pre><p>Next, we get the token that was <strong>validated and decoded</strong> in <code class=" language-js"><span class="token function">validateAndDecode</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>:</p><pre class=" language-php"><code class=" language-php"><span class="token comment">// ...</span>
<span class="token variable">$decodedToken</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">validateAndDecode</span><span class="token punctuation">(</span><span class="token variable">$token</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ...</span></code></pre><p>Next, we check if the scope is required for this request. If it is, we use that decoded token to check if the scope exists. If so, the request continues, but if not, we send an <code class=" language-js">Insufficient scope</code> message instead.</p><pre class=" language-php"><code class=" language-php"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$scopeRequired</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token function">tokenHasScope</span><span class="token punctuation">(</span><span class="token variable">$decodedToken</span><span class="token punctuation">,</span> <span class="token variable">$scopeRequired</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">response</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'message'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Insufficient scope'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">403</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>We also added the method <code class=" language-js"><span class="token function">tokenHasScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, which is what's doing the check for that specific scope in the previous <code class=" language-js"><span class="token keyword">if</span></code> statement.</p><pre class=" language-php"><code class=" language-php"><span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">tokenHasScope</span><span class="token punctuation">(</span><span class="token variable">$token</span><span class="token punctuation">,</span> <span class="token variable">$scopeRequired</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$token</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'scope'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token variable">$tokenScopes</span> <span class="token operator">=</span> <span class="token function">explode</span><span class="token punctuation">(</span><span class="token string single-quoted-string">' '</span><span class="token punctuation">,</span> <span class="token variable">$token</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'scope'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$scopeRequired</span><span class="token punctuation">,</span> <span class="token variable">$tokenScopes</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span></code></pre><p>It grabs all of the scopes in the token, splits each scope as an array item, and searches the array for the required scope.</p><p>Finally, we need to add this scope check middleware to our route for creating a new author. Open up <code class=" language-js">routes<span class="token operator">/</span>web<span class="token punctuation">.</span>php</code> and modify the <code class=" language-js">post</code> route as follows:</p><pre class=" language-php"><code class=" language-php"><span class="token comment">// routes/web.php</span>
<span class="token comment">// ...</span>
<span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'prefix'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'api'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'middleware'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'auth'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$router</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// ...</span>

    <span class="token variable">$router</span><span class="token operator">-&gt;</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'authors'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">'middleware'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'auth:create:authors'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'uses'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'AuthorController@create'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Now, if you try to create a new author in Postman using that same token as before, you'll receive the "Insufficient scope" message.</p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/insufficient-scope" alt="Insufficient scope" class=" lightbox-image"></p><p>To test that it works, make sure you're on the page with your API in the <a href="https://manage.auth0.com/dashboard/" target="_blank" rel="noreferrer noopener">Auth0 dashboard</a> and then go to the <code class=" language-js">Permissions</code> tab. Click on <code class=" language-js">Machine to Machine Applications</code> and find the API Application you've been using. Make sure the <code class=" language-js">Authorized</code> toggle is on and then click on the arrow. Now select the <code class=" language-js">create<span class="token operator">:</span>authors</code> scope and press "Update". </p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/scope-token-test" alt="Scope token test dashboard" class=" lightbox-image"></p><p>Now the permission for <code class=" language-js">create<span class="token operator">:</span>authors</code> has been added to our test token. Head back over to the "Test" tab and press "Copy token" to get the updated one.</p><p>Paste that token into the Authorization header as you did before (make sure you have <code class=" language-js">Bearer</code> before it), try the <code class=" language-js"><span class="token constant">POST</span></code> request again, and now it should have worked! </p><p>If you'd like to see what the decoded access token looks like, just add <code class=" language-js"><span class="token function">dd</span><span class="token punctuation">(</span>$decodedToken<span class="token punctuation">)</span><span class="token punctuation">;</span></code> inside the <code class=" language-js"><span class="token function">handle</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> method in <code class=" language-js">app<span class="token operator">/</span>Http<span class="token operator">/</span>Middleware<span class="token operator">/</span>Auth0Middleware<span class="token punctuation">.</span>php</code> right after the <code class=" language-js">$decodedToken</code> variable is declared. Then just run that POST request one more time in Postman, and you'll see the contents of the token, including the scope. Pretty cool! Just make sure you delete that test line in a real application. </p><p><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/token-scope" alt="Token scope" class=" lightbox-image"></p><h3 id="Adding-a-front-end">Adding a front-end</h3><p>This is just an example of how to create the API access tokens. Once you're ready to actually <strong>issue and use them</strong>, you need to create a front-end. Here are some amazing <a href="https://auth0.com/blog/reactjs-authentication-tutorial/" target="_blank" rel="noreferrer noopener">React</a> and <a href="https://auth0.com/blog/beginner-vuejs-tutorial-with-user-login/" target="_blank" rel="noreferrer noopener">Vue.js authentication tutorials</a> that cover how you can accomplish that.</p><h2 id="Conclusion">Conclusion</h2><p>Well done! You have learned how to build a rest API with the powerful PHP micro-framework Lumen and secure it using JWTs. Need to use PHP to build your API or micro-service? I'd bet on Lumen as the tool of choice for speed and ease of use.</p><p>As you've seen, Auth0 can help secure your <strong>API</strong> with ease. Auth0 provides more than just username-password authentication. It provides features like <a href="https://auth0.com/multifactor-authentication" target="_blank" rel="noreferrer noopener">multifactor auth</a>, <a href="https://auth0.com/breached-passwords" target="_blank" rel="noreferrer noopener">breached password detection</a>, <a href="https://auth0.com/docs/anomaly-detection" target="_blank" rel="noreferrer noopener">anomaly detection</a>, <a href="https://auth0.com/docs/identityproviders" target="_blank" rel="noreferrer noopener">enterprise federation</a>, <a href="https://auth0.com/docs/sso" target="_blank" rel="noreferrer noopener">single sign-on (SSO)</a>, and more. </p><a href="https://auth0.com/signup" data-amp-replace="CLIENT_ID" data-amp-addparams="anonId=CLIENT_ID(cid-scope-cookie-fallback-name)" target="_blank" rel="noreferrer noopener">Sign up</a><p> today so you can take the stress out of authentication and instead focus on building unique features for your app.</p><p>Please, let me know if you have any questions in the comment section. 😊</p></div><ul class="nlufiy-1 dOMuZW"><li class="nlufiy-2 fXIXML"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#" class="nlufiy-3 jFCgAB"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/twitter-social-button.svg" alt="Twitter icon"></a></li><li class="nlufiy-2 fXIXML"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#" class="nlufiy-3 jRHWVS"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/linkedin-social-button.svg" alt="LinkedIn icon"></a></li><li class="nlufiy-2 fXIXML"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen/#" class="nlufiy-3 dCgmko"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/facebook-social-button.svg" alt="Faceboook icon"></a></li></ul></main></article><div itemscope="" itemtype="https://schema.org/Organization" itemprop="publisher" bis_skin_checked="1"><div itemprop="logo" itemscope="" itemtype="https://schema.org/ImageObject" bis_skin_checked="1"><meta itemprop="url" content="https://i.cloudup.com/BngR4GufYd-3000x3000.png"><meta itemprop="width" content="100"><meta itemprop="height" content="37"></div><meta itemprop="name" content="Auth0"></div></section><aside class="v0njjd-2 eOJQKq"><section class="eb4tqf-0 cUeJxc"><article class="eb4tqf-1 eeCWwh"><h3 class="eb4tqf-2 eHrQny">More like this</h3><ul class="eb4tqf-3 eRFpcL"><li data-element-id="ml-bottom-blog-recommendation" class="sc-1t3ptg8-2 SwmLi"><a href="https://auth0.com/blog/build-a-laravel-6-app-with-authentication/" class="sc-1t3ptg8-4 hZxZfg"><figure class="sc-1t3ptg8-5 cJzZrb"></figure><div class="sc-1t3ptg8-6 edDGSP" bis_skin_checked="1"><h4 color="E5AF44" class="sc-1t3ptg8-7 ikuijq">Laravel</h4><h3 class="sc-1t3ptg8-8 jVGonE">Build a Laravel CRUD App with Authentication</h3></div></a></li><li data-element-id="ml-bottom-blog-recommendation" class="sc-1t3ptg8-2 SwmLi"><a href="https://auth0.com/blog/build-and-secure-laravel-api/" class="sc-1t3ptg8-4 hZxZfg"><figure class="sc-1t3ptg8-5 cOqsvJ"></figure><div class="sc-1t3ptg8-6 edDGSP" bis_skin_checked="1"><h4 color="E5AF44" class="sc-1t3ptg8-7 ikuijq">Laravel</h4><h3 class="sc-1t3ptg8-8 jVGonE">Build and Secure a Laravel API</h3></div></a></li><li data-element-id="ml-bottom-blog-recommendation" class="sc-1t3ptg8-2 SwmLi"><a href="https://auth0.com/blog/developing-restful-apis-with-lumen-a-php-micro-framework/" class="sc-1t3ptg8-4 hZxZfg"><figure class="sc-1t3ptg8-5 dmGVoc"></figure><div class="sc-1t3ptg8-6 edDGSP" bis_skin_checked="1"><h4 color="E5AF44" class="sc-1t3ptg8-7 ikuijq">PHP</h4><h3 class="sc-1t3ptg8-8 jVGonE">Developing RESTful APIs with Lumen (A PHP Micro-framework)</h3></div></a></li></ul></article></section><section class="fr3dgj-0 wgbeZ"><article class="fr3dgj-1 dGWFvT"><div class="fr3dgj-2 ejdPpM" bis_skin_checked="1"><h3 class="fr3dgj-3 ftCbBx">Follow the conversation</h3><div class="fr3dgj-4 fJKZGu" bis_skin_checked="1"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/chevron-up.svg" class="fr3dgj-5 gUjlSf"></div></div><div id="disqus_thread" class="fr3dgj-12 hEzWJt" bis_skin_checked="1"><iframe id="dsq-app7081" name="dsq-app7081" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" width="100%" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/saved_resource.html" style="width: 1px !important; min-width: 100% !important; border: none !important; overflow: hidden !important; height: 8978px !important;" bis_size="{&quot;x&quot;:289,&quot;y&quot;:41198,&quot;w&quot;:714,&quot;h&quot;:0,&quot;abs_x&quot;:289,&quot;abs_y&quot;:41198}" horizontalscrolling="no" verticalscrolling="no"></iframe></div><script>
  var disqus_shortname = 'auth0blog'; // required: replace example with your forum shortname
  var disqus_config = function () {
    this.page.url = 'https://auth0.com/blog/developing-restful-apis-with-lumen'
  };

  (function() {  // REQUIRED CONFIGURATION VARIABLE: EDIT THE SHORTNAME BELOW
    var d = document, s = d.createElement('script');
    s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
  })();
</script><noscript>Please enable JavaScript to view the<!-- --> <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript></article></section></aside></div><footer class="se2h2f-0 cKkxOM"><section class="sc-1cjm8t9-0 kFxyKJ"><div class="sc-1cjm8t9-1 hCUaZa" bis_skin_checked="1"><div class="sc-1cjm8t9-2 eqalMj" bis_skin_checked="1"><h2 class="sc-1cjm8t9-3 jqjLnD">Secure access for everyone. But not just anyone.</h2></div><div class="sc-1cjm8t9-4 dyFOzi" bis_skin_checked="1"><a href="https://auth0.com/signup?&amp;signUpData=%7B%22category%22%3A%22button%22%7D" class="sc-1cjm8t9-6 jLIrRp">Try Auth0 for Free</a><button class="sc-1cjm8t9-5 sc-1cjm8t9-7 eYcLwW iMBUpK">Talk to Sales</button></div></div></section><section class="se2h2f-1 dVGqDZ"><article class="se2h2f-2 eRDypO"><ul class="se2h2f-3 daVBxX"><li class="se2h2f-4 frYIIS"><h3 class="se2h2f-5 hYwhOd">Blog</h3><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/developers/" class="se2h2f-7 kfPipf">Developers</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/identity-and-security/" class="se2h2f-7 kfPipf">Identity &amp; Security</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/business/" class="se2h2f-7 kfPipf">Business</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/leadership/" class="se2h2f-7 kfPipf">Leadership</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/culture/" class="se2h2f-7 kfPipf">Culture</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/engineering/" class="se2h2f-7 kfPipf">Engineering</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/blog/announcements/" class="se2h2f-7 kfPipf">Announcements</a></p></li><li class="se2h2f-4 frYIIS"><h3 class="se2h2f-5 hYwhOd">Company</h3><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/about" class="se2h2f-7 kfPipf">About Us</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/customers/" class="se2h2f-7 kfPipf">Customers</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/security" class="se2h2f-7 kfPipf">Security</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/careers/" class="se2h2f-7 kfPipf">Careers</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/partners" class="se2h2f-7 kfPipf">Partners</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/press" class="se2h2f-7 kfPipf">Press</a></p><p class="se2h2f-6 cOZklZ"><a href="https://status.auth0.com/" class="se2h2f-7 kfPipf">Status</a></p><p class="se2h2f-6 cOZklZ"><a href="https://www.okta.com/agreements/" class="se2h2f-7 kfPipf">Legal</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/privacy" class="se2h2f-7 kfPipf">Privacy Policy</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/web-terms" class="se2h2f-7 kfPipf">Terms</a></p></li><li class="se2h2f-4 frYIIS"><h3 class="se2h2f-5 hYwhOd">Product</h3><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/single-sign-on/" class="se2h2f-7 kfPipf">Single Sign-On</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/breached-passwords" class="se2h2f-7 kfPipf">Password Detection</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/multifactor-authentication" class="se2h2f-7 kfPipf">Guardian</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/machine-to-machine/" class="se2h2f-7 kfPipf">M2M</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/universal-login/" class="se2h2f-7 kfPipf">Universal Login</a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/passwordless/" class="se2h2f-7 kfPipf">Passwordless</a></p></li><li class="se2h2f-4 frYIIS"><h3 class="se2h2f-5 hYwhOd">More</h3><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/" target="_blank" rel="noopener noreferrer" class="se2h2f-7 kfPipf">Auth0.com<img alt="Open external link" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/external-link.svg" class="se2h2f-14 kUlUxE"></a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/ambassador-program/" target="_blank" rel="noopener noreferrer" class="se2h2f-7 kfPipf">Ambassador Program<img alt="Open external link" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/external-link.svg" class="se2h2f-14 kUlUxE"></a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/guest-authors/" target="_blank" rel="noopener noreferrer" class="se2h2f-7 kfPipf">Guest Author Program<img alt="Open external link" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/external-link.svg" class="se2h2f-14 kUlUxE"></a></p><p class="se2h2f-6 cOZklZ"><a href="https://community.auth0.com/" target="_blank" rel="noopener noreferrer" class="se2h2f-7 kfPipf">Auth0 Community<img alt="Open external link" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/external-link.svg" class="se2h2f-14 kUlUxE"></a></p><p class="se2h2f-6 cOZklZ"><a href="https://auth0.com/learn/" target="_blank" rel="noopener noreferrer" class="se2h2f-7 kfPipf">Resources<img alt="Open external link" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/external-link.svg" class="se2h2f-14 kUlUxE"></a></p></li></ul><hr class="se2h2f-8 gplNEi"><div class="se2h2f-9 gBMQRB" bis_skin_checked="1"><ul class="se2h2f-10 dHEfNl"><li class="se2h2f-11 gKhDpQ"><a href="https://twitter.com/auth0" target="_blank" rel="noopener noreferrer" class="se2h2f-12 gXAHYn"><svg aria-hidden="true" class="se2h2f-19 eNRqGo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></li><li class="se2h2f-11 gKhDpQ"><a href="https://facebook.com/getauth0" target="_blank" rel="noopener noreferrer" class="se2h2f-12 gXAHYn"><svg aria-hidden="true" class="se2h2f-15 VdjZw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="currentColor" d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"></path></svg></a></li><li class="se2h2f-11 gKhDpQ"><a href="https://linkedin.com/company/auth0" target="_blank" rel="noopener noreferrer" class="se2h2f-12 gXAHYn"><svg aria-hidden="true" class="se2h2f-18 bLnTdJ" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></li><li class="se2h2f-11 gKhDpQ"><a href="https://www.instagram.com/weareauth0/" target="_blank" rel="noopener noreferrer" class="se2h2f-12 gXAHYn"><svg aria-hidden="true" class="se2h2f-17 ekZMky" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"></path></svg></a></li><li class="se2h2f-11 gKhDpQ"><a href="https://github.com/auth0" target="_blank" rel="noopener noreferrer" class="se2h2f-12 gXAHYn"><svg aria-hidden="true" class="se2h2f-16 biwoHT" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></li></ul><p class="se2h2f-13 eYYtIj">©<!-- -->2022<!-- --> Okta, Inc. All Rights Reserved.</p></div></article></section></footer><div id="asset-library-root" bis_skin_checked="1"></div><div id="modal-root" bis_skin_checked="1"></div><div id="alert-root" bis_skin_checked="1"></div><noscript></noscript></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"path":"developing-restful-apis-with-lumen","lastUpdatedBy":"robertino.calcaterra@auth0.com","layout":"post","title":"Developing RESTful APIs with Lumen (A PHP Micro-framework)","description":"Lumen is a PHP micro-framework built to deliver microservices and blazing fast APIs. Learn how to build and secure RESTful APIs with Lumen","metaTitle":"Developing RESTful APIs with Lumen (A PHP Micro-framework)","metaDescription":"Lumen is a PHP micro-framework built to deliver microservices and blazing fast APIs. The creator of Laravel crafted a micro-framework off the giant full-stack web framework, Laravel. Learn how to build and secure RESTful APIs with Lumen","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/7gu8qd0qzmuxWWjYLhZpqo/2bb8a206fe4a86af9414545b5c25c368/laravel","size":{"width":1176,"height":1056}},"dateCreated":"2017-12-26T08:30","dateLastUpdated":"2021-10-07T21:18","category":["Developers","Tutorial","Lumen"],"tags":["lumen","php","micro-framework","laravel","authentication","auth","restful","api","rest"],"lang":"en","orderOfFeaturedPost":null,"communityTopicId":null,"metaRobots":null,"designArtistLink":null,"designArtistName":null,"postContent":"\n\n\u003cdiv class=\"alert alert-info alert-icon\"\u003e\n  \u003ci class=\"icon-budicon-500\"\u003e\u003c/i\u003e\n  \u003cstrong\u003eThis post has been updated to \u003ca href=\"https://lumen.laravel.com/docs/7.x\"\u003eLumen 7.x\u003c/a\u003e and \u003ca href=\"https://github.com/auth0/auth0-PHP\"\u003eAuth0 PHP SDK 7.x\u003c/a\u003e.\u003c/strong\u003e\n\u003c/div\u003e\n\n**TL;DR:** In this tutorial, I'll show you how easy it is to build and secure an API with Lumen. Check out the [repo](https://github.com/auth0-blog/lumen-api-auth) to get the code.\n\n---\n\n**Lumen** is an open-source PHP micro-framework created by [Taylor Otwell](https://twitter.com/taylorotwell) as an alternative to Laravel to meet the demand of lightweight installations that are faster than existing PHP micro-frameworks such as [Slim](https://www.slimframework.com) and [Silex](https://silex.symfony.com). With Lumen, you can build lightning-fast microservices and APIs that can support your Laravel applications.\n\n## Lumen Features and Architecture\n\n**Lumen** utilizes the [Illuminate components](https://github.com/illuminate) that power the [Laravel](https://auth0.com/blog/whats-new-in-laravel-6/) framework. As such, Lumen is built to painlessly upgrade directly to Laravel when needed; for example, when you discover that you need more features out of the box than what Lumen offers.\n\nThese are some of the built-in features of Lumen:\n\n* **Routing** is provided out of the box in Lumen. This includes basic routing, routing parameters, named routes, and route groups such as middleware.\n\n* **Authentication** does not support session state. However, incoming requests are authenticated via stateless mechanisms such as tokens.\n\n* **Caching** is implemented the same as in Laravel. Cache drivers such as _Database_, _Memcached_, and _Redis_ are supported. For example, you can install the `illuminate/redis` package via Composer to use a Redis cache with Lumen.\n\n* **Errors and Logging** are implemented via the [Monolog library](https://github.com/Seldaek/monolog), which provides support for various log handlers.\n\n* **Queuing** services are similar to the ones offered by Laravel. A unified API is provided across a variety of different queue back-ends.\n\n* **Events** provide a simple observer implementation that allows you to subscribe and listen for events in your application.\n\n* **Bootstrapping** processes are located in a [single file](https://github.com/laravel/lumen/blob/master/bootstrap/app.php).\n\n\u003cinclude src=\"TweetQuote\" quoteText=\"Lumen is an amazing PHP micro-framework that offers a painless upgrade path to Laravel.\"/\u003e\n\n## Lumen Key Requirements\n\nTo use Lumen, you need to have the following tools installed on your machine:\n\n* **PHP**: Make sure [`PHP \u003e= 7.2`](http://php.net/manual/en/install.php) is installed on your machine. Furthermore, ensure that the following PHP extensions are installed. `OpenSSL`, `PDO` and `Mbstring`.\n* **Composer**: Navigate to the [Composer website](https://getcomposer.org/) and install it on your machine. Composer is needed to install Lumen's dependencies.\n\n\u003e **Note:** You'll need **MySQL** for this tutorial. Navigate to the [MySQL website](https://www.mysql.com) and install the community server edition. If you are using a Mac, I recommend [following these instructions](https://flaviocopes.com/mysql-how-to-install/). For this tutorial, you can use MySQL straight from the terminal, but if you'd prefer a MySQL GUI, check out [Sequel Pro](https://sequelpro.com) for Mac or [HeidiSQL](https://www.heidisql.com/) for Windows. \n\n## Building a Fast Authors API Rapidly With Lumen\n\nAt Auth0, we have many technical writers, otherwise known as authors. A directive has been given to developing an app to manage Auth0 authors. The front-end app will be built with ReactJS. However, it needs to pull data from a source and also push to it. Yes, we need an API!\n\nThis is what we need the API to do:\n\n* Get all authors.\n* Get one author.\n* Add a new author.\n* Edit an author.\n* Delete an author.\n\nLet's flesh out the possible endpoints for this API. Given some _authors_ resource, we'll have the following endpoints:\n\n* Get all authors  - `GET /api/authors`\n* Get one author   - `GET /api/authors/23`\n* Create an author - `POST /api/authors`\n* Edit an author   - `PUT /api/authors/23`\n* Delete an author - `DELETE  /api/authors/23`\n\nWhat will be the author attributes? Let's flesh it out like we did the endpoints.\n\n* Author: `name`, `email`, `twitter`, `github`, `location`, and `latest_article_published`.\n\n### Install Lumen\n\nRun the following command in your terminal to create a new project with [Lumen](https://lumen.laravel.com):\n\n```bash\ncomposer create-project --prefer-dist laravel/lumen authors\n```\n\n`cd` into the newly created project.\n\n```bash\ncd authors\n```\n\nNow, run `php -S localhost:8000 -t public` to serve the project. Head over to your browser. You should see the index page like so:\n\n![Authors - Index Page](https://images.ctfassets.net/23aumh6u8s0i/16yFt4quLcKWwEr6qNPs0o/1234dd16866c0bb5b7abb4b534c28766/lumen-index)\n_Authors Index_\n\n### Activate Eloquent and Facades\n\nAs I mentioned earlier, the entire bootstrap process is located in a [single file](https://github.com/laravel/lumen/blob/master/bootstrap/app.php).\n\nOpen up the `bootstrap/app.php` and uncomment this line, `// app-\u003ewithEloquent`. Once uncommented, Lumen hooks the [Eloquent ORM](https://github.com/illuminate/database/tree/master/Eloquent) with your database using the connections configured in the `.env` file.\n\n\u003e Make sure you set the right details for your database in the .env file.\n\nNext uncomment this line `//$app-\u003ewithFacades();`, which allows us to make use of [Facades](https://laravel.com/docs/5.5/facades) in our project.\n\n### Setup Database, Models and Migrations\n\nAt the time of this writing, Lumen supports four database systems: MySQL, Postgres, SQLite, and SQL Server. We are making use of MySQL in this tutorial. First, we'll create a migration for the `authors` table.\n\n\u003e Migrations are like version control for your database, allowing your team to easily modify and share the application's database schema.\n\nRun the command below in the terminal to create the `authors` table migration:\n\n```bash\nphp artisan make:migration create_authors_table\n```\n\nThe new migration will be placed in your `database/migrations` directory. Each migration file name contains a timestamp, which allows Lumen to determine the order of the migrations. Next, we'll modify the recently created migration to include the attributes we need for the `authors` table.\n\nOpen up the migration file and modify it like so:\n\n```php\n\u003c?php\n\nuse Illuminate\\Support\\Facades\\Schema;\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Database\\Migrations\\Migration;\n\nclass CreateAuthorsTable extends Migration\n{\n    /**\n     * Run the migrations.\n     *\n     * @return void\n     */\n    public function up()\n    {\n        Schema::create('authors', function (Blueprint $table) {\n            $table-\u003eincrements('id');\n            $table-\u003estring('name');\n            $table-\u003estring('email');\n            $table-\u003estring('github');\n            $table-\u003estring('twitter');\n            $table-\u003estring('location');\n            $table-\u003estring('latest_article_published');\n            $table-\u003etimestamps();\n        });\n    }\n\n    /**\n     * Reverse the migrations.\n     *\n     * @return void\n     */\n    public function down()\n    {\n        Schema::dropIfExists('authors');\n    }\n}\n```\n\nHere we're just adding a few extra columns to the `authors` table such as social handles, location, and a field for the `last_article_published`.\n\nNow, go ahead and run the migration like so:\n\n```bash\nphp artisan migrate\n```\n\nCheck your database. You should now have the `authors` and `migrations` tables present.\n\n![Authors table](https://images.ctfassets.net/23aumh6u8s0i/6cTPeDWIEs4ohkuvEwcbFu/abbd84a728ca1568edccb21529b8a04a/migration)\n\nLet's create the `Author` model. Create an `app/Author.php` file and add the code below to it:\n\n_app/Author.php_\n\n```php\n\u003c?php\n\nnamespace App;\n\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass Author extends Model\n{\n\n    /**\n     * The attributes that are mass assignable.\n     *\n     * @var array\n     */\n    protected $fillable = [\n        'name', 'email', 'github', 'twitter', 'location', 'latest_article_published'\n    ];\n\n    /**\n     * The attributes excluded from the model's JSON form.\n     *\n     * @var array\n     */\n    protected $hidden = [];\n}\n```\n\nIn the code above, we made the author attributes [mass assignable](https://laravel.com/docs/5.5/eloquent#mass-assignment).\n\n\n### Set up Routes\n\nRouting is fairly straight-forward. Open up `routes/web.php` and modify it like so:\n\n```php\n\u003c?php\n\n/*\n|--------------------------------------------------------------------------\n| Application Routes\n|--------------------------------------------------------------------------\n|\n| Here is where you can register all of the routes for an application.\n| It is a breeze. Simply tell Lumen the URIs it should respond to\n| and give it the Closure to call when that URI is requested.\n|\n*/\n\n$router-\u003eget('/', function () use ($router) {\n    return $router-\u003eapp-\u003eversion();\n});\n\n$router-\u003egroup(['prefix' =\u003e 'api'], function () use ($router) {\n  $router-\u003eget('authors',  ['uses' =\u003e 'AuthorController@showAllAuthors']);\n\n  $router-\u003eget('authors/{id}', ['uses' =\u003e 'AuthorController@showOneAuthor']);\n\n  $router-\u003epost('authors', ['uses' =\u003e 'AuthorController@create']);\n\n  $router-\u003edelete('authors/{id}', ['uses' =\u003e 'AuthorController@delete']);\n\n  $router-\u003eput('authors/{id}', ['uses' =\u003e 'AuthorController@update']);\n});\n```\n\nIn the code above, we have abstracted the functionality for each route into a controller,  `AuthorController`. Route groups allow you to share route attributes, such as middleware or namespaces, across a large number of routes without needing to define those attributes on each route. Therefore, every route will have a prefix of `/api`. Next, let's create the Author Controller.\n\n### Set up Author Controller\n\nCreate a new file, `AuthorController.php` in `app/Http/Controllers` directory and add the following code to it like so:\n\n```php\n\u003c?php\n\nnamespace App\\Http\\Controllers;\n\nuse App\\Author;\nuse Illuminate\\Http\\Request;\n\nclass AuthorController extends Controller\n{\n    \n    public function showAllAuthors()\n    {\n        return response()-\u003ejson(Author::all());\n    }\n\n    public function showOneAuthor($id)\n    {\n        return response()-\u003ejson(Author::find($id));\n    }\n\n    public function create(Request $request)\n    {\n        $author = Author::create($request-\u003eall());\n\n        return response()-\u003ejson($author, 201);\n    }\n\n    public function update($id, Request $request)\n    {\n        $author = Author::findOrFail($id);\n        $author-\u003eupdate($request-\u003eall());\n\n        return response()-\u003ejson($author, 200);\n    }\n\n    public function delete($id)\n    {\n        Author::findOrFail($id)-\u003edelete();\n        return response('Deleted Successfully', 200);\n    }\n}\n```\n\nLet's analyze the code above. First, we have `use App\\Author`, which allowed us to require the `Author` model that we created earlier. \n\nNext, we've created the following five methods:\n\n* `showAllAuthors` - /GET\n* `showOneAuthor` - /GET\n* `create` - /POST\n* `update` - /PUT\n* `delete` - /DELETE\n\nThese will allow us to use that `Author` model to interact with author data.\nFor example, if you make a POST request to `/api/authors` API endpoint, the `create` function will be invoked, and a new entry will be added to the `authors` table.\n\n**Author controller method overview:**\n\n- `showAllAuthors` - checks for all the author resources\n- `create` - creates a new author resource\n- `showOneAuthor` - checks for a single author resource\n- `update` - checks if an author resource exists and allows the resource to be updated\n- `delete` - checks if an author resource exists and deletes it\n\n**Controller responses:**\n\n* `response()` - global helper function that obtains an instance of the response factory\n* `response()-\u003ejson()` - returns the response in JSON format.\n* `200` - HTTP status code that indicates the request was successful.\n* `201` - HTTP status code that indicates a new resource has just been created.\n* `findOrFail` - throws a `ModelNotFoundException` if no result is not found.\n\n\nFinally, test the API routes with [Postman](https://www.getpostman.com/).\n\n_Author POST operation_ - `POST http://localhost:8000/api/authors`\n\nMake sure you have selected `POST` from the dropdown, and then you can fill the form data in by clicking on `Body` and then selecting `form-data`. Fill in a value for `name`, `email`, etc. to create a new author.\n\n![Lumen POST operation](https://images.ctfassets.net/23aumh6u8s0i/6iJlaJ15ECvBSyaFo8W1Gg/20f10c520d40728bdea11aa2da0aad1d/create-new-author)\n\n_Author GET operation_ - `GET http://localhost:8000/api/authors`\n\nYou should now see an array of objects, including the author you just created plus any others in the database.\n\n![Lumen GET operation](https://images.ctfassets.net/23aumh6u8s0i/71nJxhLliqzHtoOk9CouY7/f038b628f59add2eb1a34db40a217ac2/getallauthors)\n\n_Author PUT operation_\n\nThe `PUT` operation allows us to edit an existing author. Notice the author's `id` in the URL.\n\n![Lumen PUT operation](https://images.ctfassets.net/23aumh6u8s0i/2VLMdliP2CKRr3j54Zy0K8/191907b9753aa5cc2e6bda8ae07c3f2b/update-author)\n\n_Author DELETE operation_\n\nFinally, we can delete a specific author as well.\n\n![Lumen DELETE operation](https://images.ctfassets.net/23aumh6u8s0i/5x7cTs1xVYuUazTDpIH3EA/573b5eacc847d5d4aef581c5b50bf7c0/delete-author)\n\nNow we have a working API. Awesome!\n\n## Lumen API Validation\n\nWhen developing applications, **never trust the user.** Always validate incoming data.\n\nIn Lumen, it's very easy to validate your application's incoming data. Lumen provides access to the `$this-\u003evalidate` helper method from within Route closures.\n\nCurrently, in our API, we're not checking what people are sending through to our `create` method. Let's fix that now.\n\nOpen up the `AuthorController` file and modify the `create` method like this:\n\n```php\n// ...\n public function create(Request $request)\n    {\n        $this-\u003evalidate($request, [\n            'name' =\u003e 'required',\n            'email' =\u003e 'required|email|unique:authors',\n            'location' =\u003e 'required|alpha'\n        ]);\n\n        $author = Author::create($request-\u003eall());\n\n        return response()-\u003ejson($author, 201);\n    }\n// ...\n```\n\nNow test the API POST route with Postman.\n\n![Lumen API Validation](https://images.ctfassets.net/23aumh6u8s0i/01CPcHfnkYPUayr949Mgkp/edd61de9995777eab0fd4eb616dbf26b/validation)\n\nIt validated the incoming requests and returned the appropriate error message. \n\n* _name_, _email_, and _location_ were required. In testing the API, _name_ and _email_ were not provided.\n* _email_ was required to be in email format.\n* _location_ was required to be entirely alphabetic characters, `alpha`. Nothing more. Numbers were provided as the value for _location_.\n\n\u003e **Note**: Always validate incoming data. Never trust your users!\n\nCheck out [a plethora of validation rules](https://laravel.com/docs/5.8/validation#available-validation-rules) that you can use with Lumen.\n\n## Securing the Authors API with Auth0\n\nRight now, an application can make requests to any of the endpoints present in our API. In a real-world scenario, we would want to restrict our API so that only certain [authorized users](https://auth0.com/docs/flows/concepts/auth-code) have the ability to do this. A few things need to happen here.\n\n1. A user signs in with their credentials (to prove who they are, i.e., **authenticate**)\n2. If the user is authorized to use the API, the application is issued an API access token\n3. Whenever an API request is made, the application will send that API access token along with the request\n4. If the access token is valid, the API will respond with the requested data\n\n![Auth sequence flow](https://images.ctfassets.net/23aumh6u8s0i/5rxhsrATv7IED2mfbfVdHw/5a361594f6c17e231577be5853308e9a/auth0-flow)\n\nIn this tutorial, we're going to focus on what happens in **step 4** of that list (step 9-10 in the diagram). Since we're only building the backend API here, you'll need to create a separate front-end to accomplish the first two steps. [Here](https://auth0.com/blog/reactjs-authentication-tutorial/) is an awesome example of how you can do that using Auth0 with React.\n\nFor now, let's focus on generating access tokens using [JSON Web Tokens](https://jwt.io).\n\nJSON Web Token, commonly known as JWT, is an open standard for creating JSON-based access tokens that make some claim, usually [authorizing a user or exchanging information](https://jwt.io/introduction/). This technology has gained popularity over the past few years because it enables backends to accept requests simply by validating the contents of these JWTs.\n\nJWTs can be used for authorization or information exchange. In this tutorial, we'll be using JWTs to grant authorization to applications (users) using our API.\n\nWhenever the user wants to access a protected route or resource (an endpoint), the user agent must send the JWT, usually in the _Authorization_ header using the [Bearer schema](http://self-issued.info/docs/draft-ietf-oauth-v2-bearer.html), along with the request.\n\nWhen the API receives a request with an access token, the first thing it needs to do is **validate the token**. If the validation fails, then the request must be rejected.\n\nFor more information about **JSON Web Tokens**, check out our *free ebook* below.\n\n\u003cinclude src=\"ebook-ads/JwtHandbook\" /\u003e\n\nWe will make use of Auth0 to issue our access tokens. With Auth0, we only have to write a few lines of code to get an in-depth [identity management solution](https://auth0.com/docs/identityproviders) which includes: \n\n- [Single sign-on](https://auth0.com/docs/sso/single-sign-on)\n- [User management](https://auth0.com/docs/user-profile)\n- Support for [social identity providers (like Facebook, GitHub, Twitter, etc.)](https://auth0.com/docs/identityproviders) \n- [Enterprise (Active Directory, LDAP, SAML, etc.)](https://auth0.com/enterprise)\n- Your [own database of users](https://auth0.com/docs/connections/database/mysql)\n\nIf you haven't done so yet, this is a good time to sign up for a \u003ca href=\"https://auth0.com/signup\" data-amp-replace=\"CLIENT_ID\" data-amp-addparams=\"anonId=CLIENT_ID(cid-scope-cookie-fallback-name)\"\u003efree Auth0 account\u003c/a\u003e. \n\n\u003cinclude src=\"SignupCTA\" text=\"Try out the most powerful authentication platform for free.\" linkText=\"Get started →\" /\u003e\n\nOnce you have your Auth0 account, go ahead and [create a new API in the dashboard](https://manage.auth0.com/#/apis). An API is an entity that represents an external resource, capable of accepting and responding to requests made by clients, such as the authors API we just made.\n\n\u003e [Auth0 offers a generous **free tier**](https://auth0.com/pricing) to get started with modern authentication.\n\nLogin to your Auth0 [management dashboard](https://manage.auth0.com) and create a new API client.\n\nClick on the APIs menu item and then the **Create API** button. \n\n_Create a New API_\n![New API to be created](https://images.ctfassets.net/23aumh6u8s0i/2FlSNDBkGFV9r3vy6EUSOa/6747447443ae0f3c6f6d3321327d7098/newapitobecreated)\n\nNext, you will need to give your API a `Name` and an `Identifier`. The `Name` can be anything you choose, so make it as descriptive as you want. The `Identifier` will be used to specify your API and cannot be changed once set. We'll be using it as an `audience` later when configuring the access token verification.\n\nHere's my setup for the author's API:\n\n* Name: **Authors API**\n* Identifier: **https://authorsapi.com**.\n* Signing algorithm: **RS256** \n\nOnce you have yours filled out, click on the **Create API** button.\n\n_Creating the Authors API_\n![Authors API](https://images.ctfassets.net/23aumh6u8s0i/6C364bP5cxc6KT5w8EglzE/b3baf944ae31a8bd7816a32f3708e4f1/authorsapi)\n\nNext head over to your terminal and install the [**Auth0 PHP SDK**](https://github.com/auth0/auth0-PHP) in your project's root directory:\n\n```bash\ncomposer require auth0/auth0-php\n```\n\n### Setting up environment variables\n\nIn this section, we're going to create the middleware to validate access tokens. The middleware will use some environment variables, so let's set those up first.\n\nOpen up `.env` and add the following:\n\n```\nAUTH0_DOMAIN=https://your-domain.auth0.com/\nAUTH0_AUD=https://authorsapi.com\n```\n\nReplace these values with your own from the [Auth0 dashboard](https://manage.auth0.com/dashboard).\n\n**AUTH0_DOMAIN**\n\nTo find your domain, click on `APIs` \u003e `Authors API` \u003e `Quick Start` \u003e `PHP` in the dashboard. Copy the value listed for `authorized_iss` and paste it into `.env` as `AUTH0_DOMAIN`.\n\n\u003e When filling in the `AUTH0_DOMAIN` value, make sure you add the trailing slash: `https://xyz.auth0.com/`.\n\n**AUTH0_AUD**\n\nYou can find this value in the Auth0 dashboard in the same place as the domain:\n\n`APIs` \u003e `Quick Start` \u003e `PHP`. \n \nCopy the value listed for `valid_audiences` and paste it in for `AUTH0_AUD`. If you followed the naming conventions of this tutorial, it would be `https://authorsapi.com`.\n\n### Create the Auth0 Middleware\n\nCreate a new middleware file, `Auth0Middleware.php`, in the `app/Http/Middleware` directory. Add the following code to it:\n\n```php\n\u003c?php\n\nnamespace App\\Http\\Middleware;\n\nuse Closure;\nuse Auth0\\SDK\\Exception\\InvalidTokenException;\nuse Auth0\\SDK\\Helpers\\JWKFetcher;\nuse Auth0\\SDK\\Helpers\\Tokens\\AsymmetricVerifier;\nuse Auth0\\SDK\\Helpers\\Tokens\\TokenVerifier;\n\n\nclass Auth0Middleware\n{\n    /**\n     * Run the request filter.\n     *\n     * @param  \\Illuminate\\Http\\Request  $request\n     * @param  \\Closure  $next\n     * @return mixed\n     */\n    public function handle($request, Closure $next)\n    {\n        $token = $request-\u003ebearerToken();\n        if(!$token) {\n        return response()-\u003ejson('No token provided', 401);\n        }\n\n        $this-\u003evalidateToken($token);\n\n        return $next($request);\n    }\n\n    public function validateToken($token)\n    {\n        try {\n            $jwksUri = env('AUTH0_DOMAIN') . '.well-known/jwks.json';\n            $jwksFetcher = new JWKFetcher(null, [ 'base_uri' =\u003e $jwksUri ]);\n            $signatureVerifier = new AsymmetricVerifier($jwksFetcher);\n            $tokenVerifier = new TokenVerifier(env('AUTH0_DOMAIN'), env('AUTH0_AUD'), $signatureVerifier);\n\n            $decoded = $tokenVerifier-\u003everify($token);\n        }\n        catch(InvalidTokenException $e) {\n            throw $e;\n        };\n    }\n}\n```\n\nThis middleware checks if a request is made with a *valid* access token. In the next step, we'll apply this middleware to all of our routes that we want to protect. That way, before the request is executed, the middleware will run and check for the valid access token. \n\nLet's look at how we validate the access token.\n\nThe `handle()` method first takes the request and grabs the access token. If it doesn't exist, an error is returned, and the request fails.\n\nIf the token does exist, we need to check that it's valid, which is done in `validateToken()`.\n\nFirst, we grab the [JSON Web Key Set](https://auth0.com/docs/tokens/concepts/jwks) URI.\n\n```php\n$jwksUri = env('AUTH0_DOMAIN') . '.well-known/jwks.json';\n```\n\n\u003e The JSON Web Key Set (JWKS) is a set of keys that contains the public keys used to verify any JSON Web Token (our access token) issued by the authorization server and signed using the RS256 signing algorithm.\n\nIf you're curious, you can find your public JWKS at the url: your Auth0 domain + '.well-known/jwks.json'. Use the domain you used in your `.env` file. Here's mine: [https://demo-apps.auth0.com/.well-known/jwks.json](https://demo-apps.auth0.com/.well-known/jwks.json).\n\nNext, we're using `JWKFetcher()` to pull the keys from that URI. The first parameter accepts a cache handler to [save the keys to the cache](https://lumen.laravel.com/docs/master/cache). We haven't set one up, so just leave it `null`.\n\n```php\n$jwksFetcher = new JWKFetcher(null, [ 'base_uri' =\u003e $jwksUri ]);\n```\n\nNext up is the `$signatureVerifier`:\n\n```php\n$signatureVerifier = new AsymmetricVerifier($jwksFetcher);\n```\n\nThis is how our application will [verify the signature](https://auth0.com/docs/tokens/guides/validate-jwts#check-the-signature) of the JWT. Auth0 has a private key that generated the signature, so we have to use the public key to validate that the sender of the JWT is who they say they are.\n\n\u003e Note: The `AsymmetricVerifier()` is used for the RS256 signing algorithm. If you're using HS256, then use `SymmetricVerifier()` and pass it the Auth0 client secret instead. You can find the client secret in your Auth0 dashboard.\n\u003e \n\u003e E.g. `$signature_verifier = new SymmetricVerifier(env('AUTH0_CLIENT_SECRET'));`\n\nAfter setting up the signature verification, we must now validate the rest of the token.\n\n```php\n$tokenVerifier = new TokenVerifier(env('AUTH0_DOMAIN'), env('AUTH0_AUD'), $signatureVerifier);\n```\n\nThis takes 3 parameters:\n\n- **Auth0 domain** \u0026mdash; the token issuer\n- **Auth0 audience** \u0026mdash; the API identifier\n- **Signature verifier** \u0026mdash; the token signature verifier set up previously\n\nIt will verify that the token exists, the signature is verified, the token algorithm is supported, and all [JWT claims](https://auth0.com/docs/tokens/concepts/jwt-claims) are valid.\n\nIf all of this passes, the token is decoded and the middleware allows the HTTP request to execute.\n\n### Assign middleware to routes\n\nNow that the middleware is set up, we need to add it to our routes. The first step is to assign the middleware a short-hand key in `bootstrap/app.php` file's call to the `$app-\u003erouteMiddleware()` method.\n\nGo ahead and open up `bootstrap/app.php` and uncomment this line of code:\n\n```php\n...\n// $app-\u003erouteMiddleware([\n//     'auth' =\u003e App\\Http\\Middleware\\Authenticate::class,\n// ]);\n...\n```\n\nOnce uncommented, replace the `Authenticate::class` with `Auth0Middleware::class` like so:\n\n```php\n$app-\u003erouteMiddleware([\n    'auth' =\u003e App\\Http\\Middleware\\Auth0Middleware::class,\n]);\n```\n\nThis will allow us to use the `Auth0Midddleware` that we just created. And now we can use the middleware key in the route options array in the `routes/web.php` file like so:\n\n```php\n...\n$router-\u003egroup(['prefix' =\u003e 'api', 'middleware' =\u003e 'auth'], function () use ($router) {\n  $router-\u003eget('authors',  ['uses' =\u003e 'AuthorController@showAllAuthors']);\n\n  $router-\u003eget('authors/{id}', ['uses' =\u003e 'AuthorController@showOneAuthor']);\n\n  $router-\u003epost('authors', ['uses' =\u003e 'AuthorController@create']);\n\n  $router-\u003edelete('authors/{id}', ['uses' =\u003e 'AuthorController@delete']);\n\n  $router-\u003eput('authors/{id}', ['uses' =\u003e 'AuthorController@update']);\n});\n```\n\nNow, if a request is made to any endpoint, it first runs the Auth0Middleware. If the request doesn't have a valid access token or no token at all, it returns an error. Let's try all of this out.\n\n_Accessing any endpoint without an authorization header_\n\n![Authorization Header not found](https://images.ctfassets.net/23aumh6u8s0i/1ss88PxVRCYWREfdV6ItsA/bc9bcee587f76075e47b2922887acf78/authorizationheadernotfound)\n\n_Accessing any endpoint without any token provided_\n\n![No token provided](https://images.ctfassets.net/23aumh6u8s0i/13WuJ9woF54AKHIxZPBSqI/68797bae084b5966858b9e7c25f673fa/notokenfound)\n\n_Accessing any endpoint without a valid access token_\n\n![Invalid token exception](https://images.ctfassets.net/23aumh6u8s0i/55M1Wg6PSOxmeh52gOhNUd/a71f188591012e004dcd38aec14be461/invalidtokenexception)\n\nNow, let's test it with a valid access token. Head over to the `test` tab of your newly created API on your Auth0 dashboard.\n\nGrab the Access token from the _Test_ tab\n\n_Grab the Access Token_\n\n![Get the Access token](https://images.ctfassets.net/23aumh6u8s0i/kY3tXyIrTqUrfPgZikXid/3be1727f441ddd77978121fcc7a1cf0a/obtaintoken)\n\nNow use this `access token` in Postman by sending it as an Authorization header to make a POST request to `api/authors` endpoint.\n\n_Accessing the endpoint securely_\n\n![Accessing the endpoint securely](https://images.ctfassets.net/23aumh6u8s0i/7AfCa9x8W2l455tZyzB86B/40fa31caf3da46a253909300b39e4f0e/lumen_authorpost)\n\nIt validates the access token and successfully makes the POST request.\n\n\u003e *Note:* If you're getting a message that the token cannot be trusted, try adding a trailing slash to `AUTH0_DOMAIN` in `.env`, e.g., `https://xyz.auth0.com/`\n\n### Adding permissions\n\nCurrently, this single access token will allow an application to run any requests, as long as it has a valid token. You may want to eventually issue certain **permissions** with the access token. Let's try it out.\n\nIn the Auth0 dashboard, find the API we've been using and then click on `Permissions`. Create a new scope that will grant permission to create a new author (e.g., `create:authors`). Then add a short description of what that scope does and click \"Add\".\n\n![Auth0 API permissions dashboard](https://images.ctfassets.net/23aumh6u8s0i/3f2jBe1Wf4IouIXfxxBLi/660e4488dbdd71e5361241a41328b87b/api-permissions-dashboard)\n\nNow our API expects that when an application makes a request to create a new author, it must also send an access token that includes the `create:authors` scope. To check for this, we need to add middleware that checks the scope in the access token. Open up `Auth0Middleware.php` and replace it with:\n\n```php\n// app/Http/Middleware/Auth0Middleware.php\n\u003c?php\n\nnamespace App\\Http\\Middleware;\n\nuse Closure;\nuse Auth0\\SDK\\Exception\\InvalidTokenException;\nuse Auth0\\SDK\\Helpers\\JWKFetcher;\nuse Auth0\\SDK\\Helpers\\Tokens\\AsymmetricVerifier;\nuse Auth0\\SDK\\Helpers\\Tokens\\TokenVerifier;\n\n\nclass Auth0Middleware\n{\n    /**\n     * Run the request filter.\n     *\n     * @param  \\Illuminate\\Http\\Request  $request\n     * @param  \\Closure  $next\n     * @return mixed\n     */\n    public function handle($request, Closure $next, $scopeRequired = null)\n    {\n        $token = $request-\u003ebearerToken();\n\n        if(!$token) {\n            return response()-\u003ejson('No token provided', 401);\n        }\n\n        $decodedToken = $this-\u003evalidateAndDecode($token);\n\n        if ($scopeRequired \u0026\u0026 !$this-\u003etokenHasScope($decodedToken, $scopeRequired)) {\n            return response()-\u003ejson(['message' =\u003e 'Insufficient scope'], 403);\n        }\n        return $next($request);\n    }\n\n    public function validateAndDecode($token)\n    {\n        try {\n            $jwksUri = env('AUTH0_DOMAIN') . '.well-known/jwks.json';\n    \n            $jwksFetcher = new JWKFetcher(null, [ 'base_uri' =\u003e $jwksUri ]);\n            $signatureVerifier = new AsymmetricVerifier($jwksFetcher);\n            $tokenVerifier = new TokenVerifier(env('AUTH0_DOMAIN'), env('AUTH0_AUD'), $signatureVerifier);\n\n            return $tokenVerifier-\u003everify($token);\n        }\n        catch(InvalidTokenException $e) {\n            throw $e;\n        };\n    }\n\n    /**\n     * Check if a token has a specific scope.\n     *\n     * @param \\stdClass $token - JWT access token to check.\n     * @param string $scopeRequired - Scope to check for.\n     *\n     * @return bool\n     */\n    protected function tokenHasScope($token, $scopeRequired)\n    {\n        if (empty($token['scope'])) {\n            return false;\n        }\n\n        $tokenScopes = explode(' ', $token['scope']);\n        return in_array($scopeRequired, $tokenScopes);\n    }\n\n}\n```\n\nA few changes were made here. \n\nThe first thing to note is we added another parameter, `scopeRequired`, to the `handle()` method. This is set to `null` by default, since most of our routes won't require the `create:author` permission. Later in our routes, we'll specify when it is required.\n\n```php\n// ...\npublic function handle($request, Closure $next, $scopeRequired = null) {\n    // ...\n}\n// ...\n```\n\nNext, we get the token that was **validated and decoded** in `validateAndDecode()`:\n\n```php\n// ...\n$decodedToken = $this-\u003evalidateAndDecode($token);\n// ...\n```\n\nNext, we check if the scope is required for this request. If it is, we use that decoded token to check if the scope exists. If so, the request continues, but if not, we send an `Insufficient scope` message instead.\n\n```php\nif ($scopeRequired \u0026\u0026 !$this-\u003etokenHasScope($decodedToken, $scopeRequired)) {\n    return response()-\u003ejson(['message' =\u003e 'Insufficient scope'], 403);\n}\n```\n\nWe also added the method `tokenHasScope()`, which is what's doing the check for that specific scope in the previous `if` statement.\n\n```php\nprotected function tokenHasScope($token, $scopeRequired)\n{\n    if (empty($token['scope'])) {\n        return false;\n    }\n\n    $tokenScopes = explode(' ', $token['scope']);\n    return in_array($scopeRequired, $tokenScopes);\n    }\n```\n\nIt grabs all of the scopes in the token, splits each scope as an array item, and searches the array for the required scope.\n\nFinally, we need to add this scope check middleware to our route for creating a new author. Open up `routes/web.php` and modify the `post` route as follows:\n\n```php\n// routes/web.php\n// ...\n$router-\u003egroup(['prefix' =\u003e 'api', 'middleware' =\u003e 'auth'], function () use ($router) {\n\n    // ...\n\n    $router-\u003epost('authors', ['middleware' =\u003e 'auth:create:authors', 'uses' =\u003e 'AuthorController@create']);\n\n    // ...\n});\n```\n\nNow, if you try to create a new author in Postman using that same token as before, you'll receive the \"Insufficient scope\" message.\n\n![Insufficient scope](https://images.ctfassets.net/23aumh6u8s0i/4Ybyi0o7WUjn72wc92zJHs/8ea03397eb268d89df60fcfcdb7b5277/insufficient-scope)\n\nTo test that it works, make sure you're on the page with your API in the [Auth0 dashboard](https://manage.auth0.com/dashboard/) and then go to the `Permissions` tab. Click on `Machine to Machine Applications` and find the API Application you've been using. Make sure the `Authorized` toggle is on and then click on the arrow. Now select the `create:authors` scope and press \"Update\". \n\n![Scope token test dashboard](https://images.ctfassets.net/23aumh6u8s0i/7nOb7rHwQl5UIRC9HHyqx7/5db8d538c23e08089e7b1c58239d6969/scope-token-test)\n\nNow the permission for `create:authors` has been added to our test token. Head back over to the \"Test\" tab and press \"Copy token\" to get the updated one.\n\nPaste that token into the Authorization header as you did before (make sure you have `Bearer` before it), try the `POST` request again, and now it should have worked! \n\nIf you'd like to see what the decoded access token looks like, just add `dd($decodedToken);` inside the `handle()` method in `app/Http/Middleware/Auth0Middleware.php` right after the `$decodedToken` variable is declared. Then just run that POST request one more time in Postman, and you'll see the contents of the token, including the scope. Pretty cool! Just make sure you delete that test line in a real application. \n\n![Token scope](https://images.ctfassets.net/23aumh6u8s0i/6sz8ndHeQkMOTTkSKwv499/b38608f2f73dba5b8b2185960d16ec47/token-scope)\n\n### Adding a front-end\n\nThis is just an example of how to create the API access tokens. Once you're ready to actually **issue and use them**, you need to create a front-end. Here are some amazing [React](https://auth0.com/blog/reactjs-authentication-tutorial/) and [Vue.js authentication tutorials](https://auth0.com/blog/beginner-vuejs-tutorial-with-user-login/) that cover how you can accomplish that.\n\n## Conclusion\n\nWell done! You have learned how to build a rest API with the powerful PHP micro-framework Lumen and secure it using JWTs. Need to use PHP to build your API or micro-service? I'd bet on Lumen as the tool of choice for speed and ease of use.\n\nAs you've seen, Auth0 can help secure your **API** with ease. Auth0 provides more than just username-password authentication. It provides features like [multifactor auth](https://auth0.com/multifactor-authentication), [breached password detection](https://auth0.com/breached-passwords), [anomaly detection](https://auth0.com/docs/anomaly-detection), [enterprise federation](https://auth0.com/docs/identityproviders), [single sign-on (SSO)](https://auth0.com/docs/sso), and more. \n\n\u003ca href=\"https://auth0.com/signup\" data-amp-replace=\"CLIENT_ID\" data-amp-addparams=\"anonId=CLIENT_ID(cid-scope-cookie-fallback-name)\"\u003eSign up\u003c/a\u003e today so you can take the stress out of authentication and instead focus on building unique features for your app.\n\nPlease, let me know if you have any questions in the comment section. 😊\n","tutorialChapterTitle":null,"redirectTo":null,"reportingAuthorType":"Auth0 Employee","reportingPostType":null,"reportingIsAuth0cta":null,"authors":[{"path":"holly-guevara","name":"Holly Guevara","avatar":{"url":"https://images.ctfassets.net/23aumh6u8s0i/5PDusrku3gCR2PNSC0Havl/05a348ede40f7181fa7d3c99cc953a7c/5e074956ee8ba1fea26e30d28c190495_s_300","size":{"width":300,"height":300}},"lastUpdatedBy":"robertino.calcaterra@auth0.com","email":null,"twitter":"https://twitter.com/hollylawly","github":"https://github.com/hollylawly","linkedin":"https://www.linkedin.com/in/holly-lloyd/","isPopular":false,"personalWebsite":null,"type":"Auth0 Employee","jobTitle":"Developer Content Manager","description":"Full stack developer creating content at Auth0. I love taking a deep dive into hard-to-understand concepts and creating content that makes them easier to grasp. In my free time you can usually find me reading, hanging out with my dogs, or curling in the squat rack."},{"path":"prosper-otemuyiwa","name":"Prosper Otemuyiwa","avatar":{"url":"https://images.ctfassets.net/23aumh6u8s0i/5CJDIhAubT55LJPfurKhkp/c741b54acd9592c059e97dae8b0c7d47/1097492785caf9ffeebffeb624202d8f_s_200","size":{"width":200,"height":200}},"lastUpdatedBy":"Unknown during the migration","email":null,"twitter":"http://twitter.com/unicodeveloper","github":"https://github.com/unicodeveloper","linkedin":"https://ng.linkedin.com/in/prosperotemuyiwa","isPopular":null,"personalWebsite":null,"type":"Former Auth0 Employee","jobTitle":"Former Auth0 Employee","description":"Prosper is a great speaker, community leader, open source hacker, technical consultant, and a fervent Developer Advocate. He is a full-stack software engineer who has worked on biometric, health and developer tools. Prosper recently co-founded a startup called Eden that’s focused on improving the quality of lives in Nigeria and currently leads the engineering team. He also co-founded forloop, the largest developer community in Africa."}],"relatedPosts":[{"path":"build-a-laravel-6-app-with-authentication","title":"Build a Laravel CRUD App with Authentication","description":"Learn how to build and secure a travel manager CRUD application with Laravel.","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/7gu8qd0qzmuxWWjYLhZpqo/2bb8a206fe4a86af9414545b5c25c368/laravel","size":{"width":1176,"height":1056}},"category":["Developers","Tutorial","Laravel"],"layout":"post","tutorialChapterTitle":null},{"path":"developing-restful-apis-with-loopback","title":"Developing RESTful APIs with Loopback","description":"Learn how to build and secure RESTful APIs with Loopback.","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/56S9oDWKVeNY8AIszkZvw1/7d6794f3d31d4eedb5a3d3699e796e5c/default","size":{"width":1764,"height":1584}},"category":["Developers","Tutorial","Loopback"],"layout":"post","tutorialChapterTitle":null},{"path":"implementing-jwt-authentication-on-spring-boot","title":"Implementing JWT Authentication on Spring Boot APIs","description":"Let's learn the correct way to secure Spring Boot RESTful APIs with JWTs.","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/56S9oDWKVeNY8AIszkZvw1/7d6794f3d31d4eedb5a3d3699e796e5c/default","size":{"width":1764,"height":1584}},"category":["Developers","Tutorial","Spring Boot"],"layout":"redirect","tutorialChapterTitle":null}],"mlRecommendations":["/blog/developing-restful-apis-with-lumen-a-php-micro-framework/","/blog/build-and-secure-laravel-api/","/blog/build-a-laravel-6-app-with-authentication/"],"isFeatured":null,"isHiddenFromBlogPostGrid":null,"isInPressRelease":null,"sidebarAd":null,"isExludedFromSitemap":false,"mlRecommendationsData":[{"path":"/blog/build-a-laravel-6-app-with-authentication/","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/7gu8qd0qzmuxWWjYLhZpqo/2bb8a206fe4a86af9414545b5c25c368/laravel","size":{"width":1176,"height":1056}},"title":"Build a Laravel CRUD App with Authentication","category":["Developers","Tutorial","Laravel"]},{"path":"/blog/build-and-secure-laravel-api/","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/60W9hnhEWF9Qtubc95r0s5/e79c334dc653b57800a848278ad61dc8/Laravel.png","size":{"width":1176,"height":1056}},"title":"Build and Secure a Laravel API","category":["Developers","Tutorial","Laravel"]},{"path":"/blog/developing-restful-apis-with-lumen-a-php-micro-framework/","heroImage":{"url":"https://images.ctfassets.net/23aumh6u8s0i/5EaJ8Pb5QnbSdGrpoenLBG/7dabdde8432316b01f739c83927bf071/PHP.jpg","size":{"width":1177,"height":1056}},"title":"Developing RESTful APIs with Lumen (A PHP Micro-framework)","category":["Developers","Tutorial","PHP"]}],"withAB":true},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"developing-restful-apis-with-lumen"},"buildId":"_ysn21jAstuLdAtMPW469","assetPrefix":"/blog","isFallback":false,"gsp":true,"customServer":true,"scriptLoader":[]}</script><next-route-announcer><p aria-live="assertive" id="__next-route-announcer__" role="alert" style="border: 0px; clip: rect(0px, 0px, 0px, 0px); height: 1px; margin: -1px; overflow: hidden; padding: 0px; position: absolute; width: 1px; white-space: nowrap; overflow-wrap: normal;"></p></next-route-announcer><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/8561-c9cb30fa356f15b3.js"></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/[author]-5fb7ede9c9cbb994.js"></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/blog-9667835f56ab5914.js"></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/9117-282740252e336015.js"></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/identity-and-security-ddfead49b803188f.js"></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/developers-636976674d88b810.js"></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/business-3ac0d476f8cd5802.js"></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/leadership-dabed765abffc93f.js"></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/culture-1e419c3274f52fc6.js"></script><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/engineering-0574f2b9fce064c4.js"></script><div id="onetrust-consent-sdk" bis_skin_checked="1"><div class="onetrust-pc-dark-filter ot-hide ot-fade-in" bis_skin_checked="1"></div><div id="onetrust-pc-sdk" class="otPcCenter ot-hide ot-fade-in" aria-modal="true" role="alertdialog" lang="en" aria-label="About cookies in this site" bis_skin_checked="1"><!-- Close Button --><div class="ot-pc-header" bis_skin_checked="1"><!-- Logo Tag --><div class="ot-pc-logo" role="img" aria-label="Auth0 Logo" style="background-image: url(&quot;https://cdn.cookielaw.org/logos/5b38f79c-c925-4d4e-af5e-ec27e97e1068/6a790121-1539-4b35-ae43-bb583f44bd6d/c37cab83-d5f3-4ca2-bd49-6520aba580ec/Logo.png&quot;);
                    background-position: left;" bis_skin_checked="1"></div></div><!-- Close Button --><div id="ot-pc-content" class="ot-pc-scrollbar ot-enbl-chr" bis_skin_checked="1"><h2 id="ot-pc-title">About cookies in this site</h2><div id="ot-pc-desc" bis_skin_checked="1">Please choose whether this site may use Functional and/or Advertising cookies, as described below:
                <br><a href="https://auth0.com/privacy" class="privacy-notice-link" rel="noopener" target="_blank" aria-label="More information about your privacy, opens in a new tab">Read our Privacy &amp; Cookies Notice</a></div><button id="accept-recommended-btn-handler">Accept All</button><section class="ot-sdk-row ot-cat-grp"><h3 id="ot-category-title"> Manage Consent Preferences</h3><div class="ot-accordion-layout ot-cat-item" data-optanongroupid="1" bis_skin_checked="1"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-1" aria-labelledby="ot-header-id-1"></button><!-- Accordion header --><div class="ot-acc-hdr ot-always-active-group" bis_skin_checked="1"><h4 class="ot-cat-header" id="ot-header-id-1">Strictly Necessary Cookies</h4><div class="ot-arw-cntr" bis_skin_checked="1"><svg class="ot-arw" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path fill="currentColor" d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"></path></svg></div><div class="ot-always-active" bis_skin_checked="1">Always Active</div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt" bis_skin_checked="1"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-1">These cookies are necessary for the website to function and cannot be switched off in our systems. They are usually only set in response to actions made by you which amount to a request for services, such as setting your privacy preferences, logging in or filling in forms. &nbsp; &nbsp;You can set your browser to block or alert you about these cookies, but some parts of the site will not then work. These cookies do not store any personally identifiable information.</p></div></div><div class="ot-accordion-layout ot-cat-item" data-optanongroupid="2" bis_skin_checked="1"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-2" aria-labelledby="ot-header-id-2"></button><!-- Accordion header --><div class="ot-acc-hdr" bis_skin_checked="1"><h4 class="ot-cat-header" id="ot-header-id-2">Performance Cookies</h4><div class="ot-arw-cntr" bis_skin_checked="1"><svg class="ot-arw" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path fill="currentColor" d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"></path></svg></div><div class="ot-tgl" bis_skin_checked="1"><input type="checkbox" name="ot-group-id-2" id="ot-group-id-2" aria-checked="true" role="switch" class="category-switch-handler" data-optanongroupid="2" checked="" aria-labelledby="ot-header-id-2"> <label class="ot-switch" for="ot-group-id-2"><span class="ot-switch-nob"></span> <span class="ot-label-txt">Performance Cookies</span></label> </div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt" bis_skin_checked="1"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-2">These cookies allow us to count visits and traffic sources so we can measure and improve the performance of our site. They help us to know which pages are the most and least popular and see how visitors move around the site. &nbsp; &nbsp;All information these cookies collect is aggregated and therefore anonymous. If you do not allow these cookies we will not know when you have visited our site, and will not be able to monitor its performance.</p></div></div><div class="ot-accordion-layout ot-cat-item" data-optanongroupid="3" bis_skin_checked="1"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-3" aria-labelledby="ot-header-id-3"></button><!-- Accordion header --><div class="ot-acc-hdr" bis_skin_checked="1"><h4 class="ot-cat-header" id="ot-header-id-3">Functional Cookies</h4><div class="ot-arw-cntr" bis_skin_checked="1"><svg class="ot-arw" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path fill="currentColor" d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"></path></svg></div><div class="ot-tgl" bis_skin_checked="1"><input type="checkbox" name="ot-group-id-3" id="ot-group-id-3" aria-checked="true" role="switch" class="category-switch-handler" data-optanongroupid="3" checked="" aria-labelledby="ot-header-id-3"> <label class="ot-switch" for="ot-group-id-3"><span class="ot-switch-nob"></span> <span class="ot-label-txt">Functional Cookies</span></label> </div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt" bis_skin_checked="1"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-3">These cookies enable the website to provide enhanced functionality and personalisation. They may be set by us or by third party providers whose services we have added to our pages. &nbsp; &nbsp;If you do not allow these cookies then some or all of these services may not function properly.</p></div></div><div class="ot-accordion-layout ot-cat-item" data-optanongroupid="4" bis_skin_checked="1"><button aria-expanded="false" ot-accordion="true" aria-controls="ot-desc-id-4" aria-labelledby="ot-header-id-4"></button><!-- Accordion header --><div class="ot-acc-hdr" bis_skin_checked="1"><h4 class="ot-cat-header" id="ot-header-id-4">Targeting Cookies</h4><div class="ot-arw-cntr" bis_skin_checked="1"><svg class="ot-arw" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="caret-right" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 512"><path fill="currentColor" d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"></path></svg></div><div class="ot-tgl" bis_skin_checked="1"><input type="checkbox" name="ot-group-id-4" id="ot-group-id-4" aria-checked="true" role="switch" class="category-switch-handler" data-optanongroupid="4" checked="" aria-labelledby="ot-header-id-4"> <label class="ot-switch" for="ot-group-id-4"><span class="ot-switch-nob"></span> <span class="ot-label-txt">Targeting Cookies</span></label> </div></div><!-- accordion detail --><div class="ot-acc-grpcntr ot-acc-txt" bis_skin_checked="1"><p class="ot-acc-grpdesc ot-category-desc" id="ot-desc-id-4">These cookies may be set through our site by our advertising partners. They may be used by those companies to build a profile of your interests and show you relevant adverts on other sites. &nbsp; &nbsp;They do not store directly personal information, but are based on uniquely identifying your browser and internet device. If you do not allow these cookies, you will experience less targeted advertising.</p></div></div><!-- Groups sections starts --><!-- Group section ends --><!-- Accordion Group section starts --><!-- Accordion Group section ends --></section></div><section id="ot-pc-lst" class="ot-hide ot-hosts-ui ot-pc-scrollbar ot-enbl-chr"><div id="ot-pc-hdr" bis_skin_checked="1"><div id="ot-lst-title" bis_skin_checked="1"><button class="ot-link-btn back-btn-handler" aria-label="Back"><svg id="ot-back-arw" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 444.531 444.531" xml:space="preserve"><title>Back Button</title><g><path fill="#656565" d="M213.13,222.409L351.88,83.653c7.05-7.043,10.567-15.657,10.567-25.841c0-10.183-3.518-18.793-10.567-25.835
                    l-21.409-21.416C323.432,3.521,314.817,0,304.637,0s-18.791,3.521-25.841,10.561L92.649,196.425
                    c-7.044,7.043-10.566,15.656-10.566,25.841s3.521,18.791,10.566,25.837l186.146,185.864c7.05,7.043,15.66,10.564,25.841,10.564
                    s18.795-3.521,25.834-10.564l21.409-21.412c7.05-7.039,10.567-15.604,10.567-25.697c0-10.085-3.518-18.746-10.567-25.978
                    L213.13,222.409z"></path></g></svg></button> <span>Performance Cookies</span></div><div class="ot-lst-subhdr" bis_skin_checked="1"><div class="ot-search-cntr" bis_skin_checked="1"><p role="status" class="ot-scrn-rdr"></p><label for="vendor-search-handler" class="ot-scrn-rdr">Vendor Search</label> <input id="vendor-search-handler" type="text" placeholder="Search..." name="vendor-search-handler"> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 -30 110 110"><title>Search Icon</title><path fill="#2e3644" d="M55.146,51.887L41.588,37.786c3.486-4.144,5.396-9.358,5.396-14.786c0-12.682-10.318-23-23-23s-23,10.318-23,23
            s10.318,23,23,23c4.761,0,9.298-1.436,13.177-4.162l13.661,14.208c0.571,0.593,1.339,0.92,2.162,0.92
            c0.779,0,1.518-0.297,2.079-0.837C56.255,54.982,56.293,53.08,55.146,51.887z M23.984,6c9.374,0,17,7.626,17,17s-7.626,17-17,17
            s-17-7.626-17-17S14.61,6,23.984,6z"></path></svg></div><div class="ot-fltr-cntr" bis_skin_checked="1"><button id="filter-btn-handler" aria-label="Filter" aria-haspopup="true"><svg role="presentation" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 402.577 402.577" xml:space="preserve"><title>Filter Icon</title><g><path fill="#fff" d="M400.858,11.427c-3.241-7.421-8.85-11.132-16.854-11.136H18.564c-7.993,0-13.61,3.715-16.846,11.136
      c-3.234,7.801-1.903,14.467,3.999,19.985l140.757,140.753v138.755c0,4.955,1.809,9.232,5.424,12.854l73.085,73.083
      c3.429,3.614,7.71,5.428,12.851,5.428c2.282,0,4.66-0.479,7.135-1.43c7.426-3.238,11.14-8.851,11.14-16.845V172.166L396.861,31.413
      C402.765,25.895,404.093,19.231,400.858,11.427z"></path></g></svg></button></div><div id="ot-anchor" bis_skin_checked="1"></div><section id="ot-fltr-modal"><div id="ot-fltr-cnt" bis_skin_checked="1"><button id="clear-filters-handler">Clear</button><div class="ot-fltr-scrlcnt ot-pc-scrollbar" bis_skin_checked="1"><div class="ot-fltr-opts" bis_skin_checked="1"><div class="ot-fltr-opt" bis_skin_checked="1"><div class="ot-chkbox" bis_skin_checked="1"><input id="chkbox-id" type="checkbox" aria-checked="false" class="category-filter-handler"> <label for="chkbox-id"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div></div></div><div class="ot-fltr-btns" bis_skin_checked="1"><button id="filter-apply-handler">Apply</button> <button id="filter-cancel-handler">Cancel</button></div></div></div></section></div></div><section id="ot-lst-cnt" class="ot-host-cnt ot-pc-scrollbar"><div id="ot-sel-blk" bis_skin_checked="1"><div class="ot-sel-all" bis_skin_checked="1"><div class="ot-sel-all-hdr" bis_skin_checked="1"><span class="ot-consent-hdr">Consent</span> <span class="ot-li-hdr">Leg.Interest</span></div><div class="ot-sel-all-chkbox" bis_skin_checked="1"><div class="ot-chkbox" id="ot-selall-hostcntr" bis_skin_checked="1"><input id="select-all-hosts-groups-handler" type="checkbox" aria-checked="false"> <label for="select-all-hosts-groups-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div><div class="ot-chkbox" id="ot-selall-vencntr" bis_skin_checked="1"><input id="select-all-vendor-groups-handler" type="checkbox" aria-checked="false"> <label for="select-all-vendor-groups-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div><div class="ot-chkbox" id="ot-selall-licntr" bis_skin_checked="1"><input id="select-all-vendor-leg-handler" type="checkbox" aria-checked="false"> <label for="select-all-vendor-leg-handler"><span class="ot-label-txt">checkbox label</span></label> <span class="ot-label-status">label</span></div></div></div></div><div class="ot-sdk-row" bis_skin_checked="1"><div class="ot-sdk-column" bis_skin_checked="1"></div></div></section></section><div class="ot-pc-footer" bis_skin_checked="1"><div class="ot-btn-container" bis_skin_checked="1"><button class="ot-pc-refuse-all-handler">Required Only</button> <button class="save-preference-btn-handler onetrust-close-btn-handler">Submit Preferences</button></div><!-- Footer logo --><div class="ot-pc-footer-logo" bis_skin_checked="1"><a href="https://www.onetrust.com/products/cookie-consent/" target="_blank" rel="noopener noreferrer" style="background-image: url(&quot;https://cdn.cookielaw.org/logos/static/poweredBy_ot_logo.svg&quot;);" aria-label="Powered by OneTrust Opens in a new Tab"></a></div></div><!-- Cookie subgroup container --><!-- Vendor list link --><!-- Cookie lost link --><!-- Toggle HTML element --><!-- Checkbox HTML --><!-- plus minus--><!-- Arrow SVG element --><!-- Accordion basic element --><span class="ot-scrn-rdr" aria-atomic="true" aria-live="polite"></span><iframe class="ot-text-resize" title="onetrust-text-resize" style="position: absolute; top: -50000px; width: 100em;" aria-hidden="true" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/saved_resource(1).html"></iframe></div></div><iframe scrolling="no" frameborder="0" allowtransparency="true" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/widget_iframe.c4bdc17e77719578b594d5555bee90db.html" title="Twitter settings iframe" style="display: none;" bis_size="{&quot;x&quot;:0,&quot;y&quot;:0,&quot;w&quot;:0,&quot;h&quot;:0,&quot;abs_x&quot;:0,&quot;abs_y&quot;:0}"></iframe><iframe name="_hjRemoteVarsFrame" title="_hjRemoteVarsFrame" id="_hjRemoteVarsFrame" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/box-69edcc3187336f9b0a3fbb4c73be9fe6.html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe><iframe height="0" width="0" style="display: none; visibility: hidden;" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/activityi.html" bis_size="{&quot;x&quot;:0,&quot;y&quot;:0,&quot;w&quot;:0,&quot;h&quot;:0,&quot;abs_x&quot;:0,&quot;abs_y&quot;:0}"></iframe><iframe height="0" width="0" style="display: none; visibility: hidden;" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/activityi(1).html" bis_size="{&quot;x&quot;:0,&quot;y&quot;:0,&quot;w&quot;:0,&quot;h&quot;:0,&quot;abs_x&quot;:0,&quot;abs_y&quot;:0}"></iframe><script src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/announcements-6cfdaa06fa906eb9.js"></script>
<script type="text/javascript" id="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/oct.js"></script>
<script type="text/javascript" id="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/oct.js"></script>
<script type="text/javascript" id="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/oct.js"></script>
<script type="text/javascript" id="">!function(b,c,d,a){b.twq||(a=b.twq=function(){a.exe?a.exe.apply(a,arguments):a.queue.push(arguments)},a.version="1",a.queue=[],t=c.createElement(d),t.async=!0,t.src="//static.ads-twitter.com/uwt.js",s=c.getElementsByTagName(d)[0],s.parentNode.insertBefore(t,s))}(window,document,"script");twq("init","nus5f");twq("track","PageView");</script>
<script type="text/javascript" id="">window.heap=window.heap||[];
heap.load=function(a,b){window.heap.appid=a;window.heap.config=b=b||{};b=document.createElement("script");b.type="text/javascript";b.async=!0;b.src="https://cdn.heapanalytics.com/js/heap-"+a+".js";a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(b,a);a=function(d){return function(){heap.push([d].concat(Array.prototype.slice.call(arguments,0)))}};b="addEventProperties addUserProperties clearEventProperties identify resetIdentity removeEventProperty setEventProperties track unsetEventProperty".split(" ");for(var c=
0;c<b.length;c++)heap[b[c]]=a(b[c])};
heap.load("1279799279",{rewrite:function(a){a.event_properties.href&&(-1<a.event_properties.href.indexOf("token")||-1<a.event_properties.href.indexOf("value")||-1<a.event_properties.href.indexOf("id_token")||-1<a.event_properties.href.indexOf("access_token"))&&(a.event_properties.href=a.event_properties.href.split("?")[0]);a.pageview_properties.query&&(-1<a.pageview_properties.query.indexOf("token")||-1<a.pageview_properties.query.indexOf("value")||-1<a.pageview_properties.query.indexOf("id_token")||-1<
a.pageview_properties.query.indexOf("access_token"))&&(a.pageview_properties.query=a.pageview_properties.query.split("?")[0]);a.pageview_properties.hash&&-1<a.pageview_properties.hash.indexOf("debugger-io")&&(a.pageview_properties.hash="");a.session_properties.referrer&&(-1<a.session_properties.referrer.indexOf("token")||-1<a.session_properties.referrer.indexOf("value")||-1<a.session_properties.referrer.indexOf("id_token")||-1<a.session_properties.referrer.indexOf("access_token"))&&(a.session_properties.referrer=
a.session_properties.referrer.split("?")[0]);return a}});</script><script type="text/javascript" id="">(function(d,e,f,b,c,a){c="";b="https://tracking.g2crowd.com/attribution_tracking/conversions/"+d+".js?p\x3d"+encodeURI(e)+"\x26e\x3d"+c;a=document.createElement("script");a.type="application/javascript";a.async=!0;a.src=b;f.getElementsByTagName("head")[0].appendChild(a)})("3322",document.location.href,document);</script><script type="text/javascript" id="">window._6si=window._6si||[];window._6si.push(["enableEventTracking",!0]);window._6si.push(["setToken","5400c5b6d4c7c0376f36ed7c5ebbc828"]);window._6si.push(["setEndpoint","b.6sc.co"]);(function(){var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="//j.6sc.co/6si.min.js";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})();</script>
<script type="text/javascript" id="">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","417778941754366");fbq("track","PageView");</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=417778941754366&amp;ev=PageView&amp;noscript=1"></noscript>
<script type="text/javascript" id="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/monetization.it.js"></script><script type="text/javascript" id="">(function(){var a=new URLSearchParams(window.location.search),b="pm";"true"===a.get(b)&&sessionStorage.setItem("paidMedia",!0)})();</script>
<script type="text/javascript" id="">(function(){var a=1E13*String(Math.random());(new Image).src="https://pubads.g.doubleclick.net/activity;xsp\x3d4719053;ord\x3d"+a+"?"})();</script>
<noscript>
  <img src="https://pubads.g.doubleclick.net/activity;xsp=4719053;ord=1?" width="1" height="1" border="0">
</noscript>        <script type="text/javascript" id="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/up_loader.1.1.0.js"></script><script type="text/javascript" id="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/fullcircle.js"></script><script type="text/javascript" id="">(function(a,b,c,d,e){a=b.createElement(c);b=b.getElementsByTagName(c)[0];a.async=1;a.id=e;a.src=d;b.parentNode.insertBefore(a,b)})(window,document,"script","https://tag.demandbase.com/006ea2cb.min.js","demandbase_js_lib");</script><script type="text/javascript" id="">(function(){function b(){!1===c&&(c=!0,Munchkin.init("855-QAH-699"))}var c=!1,a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src="//munchkin.marketo.net/munchkin.js";a.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||b()};a.onload=b;document.getElementsByTagName("head")[0].appendChild(a)})();</script>
<script type="text/javascript" id="">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");fbq("init","292592621735462");fbq("track","PageView");</script>
<noscript><img height="1" width="1" style="display:none" src="https://www.facebook.com/tr?id=292592621735462&amp;ev=PageView&amp;noscript=1"></noscript>
<script type="text/javascript" id="">(function(a,b,c){a.techtargetic=a.techtargetic||{};a.techtargetic.client=c;a=b.createElement("script");a.type="text/javascript";a.async=!0;a.crossorigin="anonymous";c=new Date;c.getFullYear();c.getMonth();c.getDate();a.src="https://trk.techtarget.com/tracking.js";b=b.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)})(window,document,"16527120");</script><script type="text/javascript" id="">function pushToDataLayer(a){a={reveal:a};dataLayer.push(a);dataLayer.push({event:"Clearbit Loaded"});return!0};</script>
<script type="text/javascript" id="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/reveal"></script><iframe src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/a17870831401.html" hidden="" tabindex="-1" title="Optimizely Internal Frame" height="0" width="0" style="display: none;"></iframe><iframe id="_hjSafeContext_24331640" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/saved_resource(2).html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe><iframe style="display: none;" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/saved_resource(3).html"></iframe><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/adsct" height="1" width="1" style="display: none;"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/adsct(1)" height="1" width="1" style="display: none;"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/adsct(2)" height="1" width="1" style="display: none;"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/adsct(3)" height="1" width="1" style="display: none;">
<script type="text/javascript" id="">twttr&&twttr.conversion&&"function"===typeof twttr.conversion.trackPid&&twttr.conversion.trackPid("ntqww",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript>
<img height="1" width="1" style="display:none;" alt="" src="https://analytics.twitter.com/i/adsct?txn_id=ntqww&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0">
<img height="1" width="1" style="display:none;" alt="" src="//t.co/i/adsct?txn_id=ntqww&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0">
</noscript>
<img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/adsct(4)" height="1" width="1" style="display: none;"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/adsct(5)" height="1" width="1" style="display: none;">
<script type="text/javascript" id="">twttr&&twttr.conversion&&"function"===typeof twttr.conversion.trackPid&&twttr.conversion.trackPid("nudgq",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript>
<img height="1" width="1" style="display:none;" alt="" src="https://analytics.twitter.com/i/adsct?txn_id=nudgq&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0">
<img height="1" width="1" style="display:none;" alt="" src="//t.co/i/adsct?txn_id=nudgq&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0">
</noscript>
<img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/adsct(6)" height="1" width="1" style="display: none;"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/adsct(7)" height="1" width="1" style="display: none;">
<script type="text/javascript" id="">twttr&&twttr.conversion&&"function"===typeof twttr.conversion.trackPid&&twttr.conversion.trackPid("nutwu",{tw_sale_amount:0,tw_order_quantity:0});</script>
<noscript>
<img height="1" width="1" style="display:none;" alt="" src="https://analytics.twitter.com/i/adsct?txn_id=nutwu&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0">
<img height="1" width="1" style="display:none;" alt="" src="//t.co/i/adsct?txn_id=nutwu&amp;p_id=Twitter&amp;tw_sale_amount=0&amp;tw_order_quantity=0">
</noscript>
<img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/adsct(8)" height="1" width="1" style="display: none;"><img src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/adsct(9)" height="1" width="1" style="display: none;">
<script type="text/javascript" id="">(function(){"undefined"!==typeof _bsa&&_bsa&&_bsa.trackConv()})();</script>
        <script type="text/javascript" id="">ttd_dom_ready(function(){if("function"===typeof TTDUniversalPixelApi){var a=new TTDUniversalPixelApi;a.init("cmh41ts",["8m08eu8"],"https://insight.adsrvr.org/track/up")}});</script><iframe id="rufous-sandbox" scrolling="no" frameborder="0" allowtransparency="true" allowfullscreen="true" style="position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: none;" title="Twitter analytics iframe" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/saved_resource(4).html"></iframe><img style="display:none" alt="" aria-hidden="true" width="0" height="0" id="db_bw_pixel_ad" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/demandbase"><img style="display:none" alt="" aria-hidden="true" width="0" height="0" id="db_lr_pixel_ad" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/464526.gif"><div id="drift-frame-chat" class="drift-conductor-item drift-frame-chat drift-frame-chat-align-right drift-has-chat" bis_skin_checked="1" aria-hidden="true" tabindex="-1" style="right: 12px; width: 400px !important; max-width: none; position: fixed; z-index: 2147483647; max-height: 485px !important; bottom: 88px; visibility: hidden; min-width: 320px; height: calc(100% - 75px) !important; opacity: 0;"><iframe class="drift-frame-chat" scrolling="no" title="Drift Widget Chat Window" allow="autoplay; encrypted-media; fullscreen;" frameborder="0" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/chat.html" style="background: transparent; width: 400px !important; max-width: 100%; height: 100%; border: none;" bis_size="{&quot;x&quot;:881,&quot;y&quot;:636,&quot;w&quot;:400,&quot;h&quot;:0,&quot;abs_x&quot;:881,&quot;abs_y&quot;:636}" aria-hidden="true" tabindex="-1"></iframe></div><div id="drift-frame-controller" class="drift-conductor-item drift-frame-controller drift-frame-controller-align-right drift-has-chat" bis_skin_checked="1" style="right: 24px; width: 76px !important; max-width: none; position: fixed; z-index: 2147483647; height: 76px !important; bottom: 24px;"><iframe class="drift-frame-controller" scrolling="no" title="Drift Widget Icon" allow="autoplay; encrypted-media; fullscreen;" frameborder="0" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/core.html" style="background: transparent; width: 76px !important; max-width: 100%; height: 120px; border: none;" bis_size="{&quot;x&quot;:1193,&quot;y&quot;:612,&quot;w&quot;:76,&quot;h&quot;:0,&quot;abs_x&quot;:1193,&quot;abs_y&quot;:612}"></iframe></div><img width="1" height="1" aria-hidden="true" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/activity.gif" style="display: none;"><iframe id="universal_pixel_8m08eu8" height="0" width="0" style="display:none;" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/up.html" title="TTD Universal Pixel"></iframe><script>(() => {
        window.addoncropExtensions = window.addoncropExtensions || [];
        window.addoncropExtensions.push({
            mode: 'emulator',
            emulator: 'Foxified',
            extension: {
                id: 44,
                name: 'YouTube Downloader by Addoncrop',
                version: '17.2.7',
                date: 'April 11, 2022',
            },
            flixmateConnected: false,
        });
    })();</script><iframe src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/saved_resource(5).html" style="display: none;"></iframe></body><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/f(1).txt" nonce=""></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/f(2).txt" nonce=""></script><script type="text/javascript" async="" src="./Developing RESTful APIs with Lumen (A PHP Micro-framework)_files/f(3).txt" nonce=""></script></html>